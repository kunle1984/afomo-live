import{h as b,z as Ze,A as we,B as U,C as oe,D as W,F as le,G as ce,H as Ne,I as Je,J as G,K as et,N as tt,O as ke,Q as Ie,r as n,V as st,W as Fe,j as e,X as J,c as _e,b as K,U as Ue,Y as at,y as Z,e as ee,Z as it,p as rt,a as ue,u as me,k as nt,M as De,i as ot,_ as lt,m as ie,$ as ct}from"./index-DisHjLpt.js";const dt=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],xs=b("arrow-down-to-line",dt);const ht=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],ys=b("arrow-up-from-line",ht);const ut=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gs=b("badge-alert",ut);const mt=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pt=b("camera",mt);const ft=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ce=b("check",ft);const xt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yt=b("chevron-left",xt);const gt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Re=b("chevron-right",gt);const bt=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Le=b("circle-check-big",bt);const jt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bs=b("circle-plus",jt);const vt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],js=b("circle-question-mark",vt);const wt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Nt=b("copy",wt);const kt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ct=b("ellipsis-vertical",kt);const Rt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vs=b("history",Rt);const St=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Et=b("layout-grid",St);const At=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tt=b("log-out",At);const Pt=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ze=b("map-pin",Pt);const Mt=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Se=b("pause",Mt);const It=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],de=b("phone",It);const Ft=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ee=b("play",Ft);const _t=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ut=b("qr-code",_t);const Dt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ws=b("settings",Dt);const Lt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zt=b("shield-check",Lt);const Ot=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ae=b("video",Ot);var Bt=class extends Ze{constructor(t,s){super(),this.options=s,this.#s=t,this.#i=null,this.#a=we(),this.bindMethods(),this.setOptions(s)}#s;#e=void 0;#p=void 0;#t=void 0;#n;#d;#a;#i;#f;#h;#u;#o;#l;#r;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Te(this.#e,this.options)?this.#c():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return he(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return he(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#v(),this.#e.removeObserver(this)}setOptions(t){const s=this.options,a=this.#e;if(this.options=this.#s.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof U(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),s._defaulted&&!oe(this.options,s)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&Pe(this.#e,a,this.options,s)&&this.#c(),this.updateResult(),i&&(this.#e!==a||U(this.options.enabled,this.#e)!==U(s.enabled,this.#e)||W(this.options.staleTime,this.#e)!==W(s.staleTime,this.#e))&&this.#x();const o=this.#y();i&&(this.#e!==a||U(this.options.enabled,this.#e)!==U(s.enabled,this.#e)||o!==this.#r)&&this.#g(o)}getOptimisticResult(t){const s=this.#s.getQueryCache().build(this.#s,t),a=this.createResult(s,t);return $t(this,a)&&(this.#t=a,this.#d=this.options,this.#n=this.#e.state),a}getCurrentResult(){return this.#t}trackResult(t,s){return new Proxy(t,{get:(a,i)=>(this.trackProp(i),s?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#s.defaultQueryOptions(t),a=this.#s.getQueryCache().build(this.#s,s);return a.fetch().then(()=>this.createResult(a,s))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#w();let s=this.#e.fetch(this.options,t);return t?.throwOnError||(s=s.catch(le)),s}#x(){this.#j();const t=W(this.options.staleTime,this.#e);if(ce||this.#t.isStale||!Ne(t))return;const a=Je(this.#t.dataUpdatedAt,t)+1;this.#o=G.setTimeout(()=>{this.#t.isStale||this.updateResult()},a)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#g(t){this.#v(),this.#r=t,!(ce||U(this.options.enabled,this.#e)===!1||!Ne(this.#r)||this.#r===0)&&(this.#l=G.setInterval(()=>{(this.options.refetchIntervalInBackground||et.isFocused())&&this.#c()},this.#r))}#b(){this.#x(),this.#g(this.#y())}#j(){this.#o&&(G.clearTimeout(this.#o),this.#o=void 0)}#v(){this.#l&&(G.clearInterval(this.#l),this.#l=void 0)}createResult(t,s){const a=this.#e,i=this.options,o=this.#t,p=this.#n,d=this.#d,y=t!==a?t.state:this.#p,{state:v}=t;let f={...v},P=!1,g;if(s._optimisticResults){const k=this.hasListeners(),E=!k&&Te(t,s),F=k&&Pe(t,a,s,i);(E||F)&&(f={...f,...tt(v.data,t.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:T,errorUpdatedAt:M,status:m}=f;g=f.data;let A=!1;if(s.placeholderData!==void 0&&g===void 0&&m==="pending"){let k;o?.isPlaceholderData&&s.placeholderData===d?.placeholderData?(k=o.data,A=!0):k=typeof s.placeholderData=="function"?s.placeholderData(this.#u?.state.data,this.#u):s.placeholderData,k!==void 0&&(m="success",g=ke(o?.data,k,s),P=!0)}if(s.select&&g!==void 0&&!A)if(o&&g===p?.data&&s.select===this.#f)g=this.#h;else try{this.#f=s.select,g=s.select(g),g=ke(o?.data,g,s),this.#h=g,this.#i=null}catch(k){this.#i=k}this.#i&&(T=this.#i,g=this.#h,M=Date.now(),m="error");const R=f.fetchStatus==="fetching",D=m==="pending",S=m==="error",O=D&&R,I=g!==void 0,N={status:m,fetchStatus:f.fetchStatus,isPending:D,isSuccess:m==="success",isError:S,isInitialLoading:O,isLoading:O,data:g,dataUpdatedAt:f.dataUpdatedAt,error:T,errorUpdatedAt:M,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>y.dataUpdateCount||f.errorUpdateCount>y.errorUpdateCount,isFetching:R,isRefetching:R&&!D,isLoadingError:S&&!I,isPaused:f.fetchStatus==="paused",isPlaceholderData:P,isRefetchError:S&&I,isStale:pe(t,s),refetch:this.refetch,promise:this.#a,isEnabled:U(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=C=>{N.status==="error"?C.reject(N.error):N.data!==void 0&&C.resolve(N.data)},E=()=>{const C=this.#a=N.promise=we();k(C)},F=this.#a;switch(F.status){case"pending":t.queryHash===a.queryHash&&k(F);break;case"fulfilled":(N.status==="error"||N.data!==F.value)&&E();break;case"rejected":(N.status!=="error"||N.error!==F.reason)&&E();break}}return N}updateResult(){const t=this.#t,s=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#d=this.options,this.#n.data!==void 0&&(this.#u=this.#e),oe(s,t))return;this.#t=s;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const p=new Set(o??this.#m);return this.options.throwOnError&&p.add("error"),Object.keys(this.#t).some(d=>{const j=d;return this.#t[j]!==t[j]&&p.has(j)})};this.#N({listeners:a()})}#w(){const t=this.#s.getQueryCache().build(this.#s,this.options);if(t===this.#e)return;const s=this.#e;this.#e=t,this.#p=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#N(t){Ie.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Qt(t,s){return U(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Te(t,s){return Qt(t,s)||t.state.data!==void 0&&he(t,s,s.refetchOnMount)}function he(t,s,a){if(U(s.enabled,t)!==!1&&W(s.staleTime,t)!=="static"){const i=typeof a=="function"?a(t):a;return i==="always"||i!==!1&&pe(t,s)}return!1}function Pe(t,s,a,i){return(t!==s||U(i.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&pe(t,a)}function pe(t,s){return U(s.enabled,t)!==!1&&t.isStaleByTime(W(s.staleTime,t))}function $t(t,s){return!oe(t.getCurrentResult(),s)}var Oe=n.createContext(!1),qt=()=>n.useContext(Oe);Oe.Provider;function Yt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ht=n.createContext(Yt()),Vt=()=>n.useContext(Ht),Wt=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},Kt=t=>{n.useEffect(()=>{t.clearReset()},[t])},Xt=({result:t,errorResetBoundary:s,throwOnError:a,query:i,suspense:o})=>t.isError&&!s.isReset()&&!t.isFetching&&i&&(o&&t.data===void 0||st(a,[t.error,i])),Gt=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...o)=>a(i(...o)):a(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Zt=(t,s)=>t.isLoading&&t.isFetching&&!s,Jt=(t,s)=>t?.suspense&&s.isPending,Me=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function es(t,s,a){const i=qt(),o=Vt(),p=Fe(),d=p.defaultQueryOptions(t);p.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",Gt(d),Wt(d,o),Kt(o);const j=!p.getQueryCache().get(d.queryHash),[y]=n.useState(()=>new s(p,d)),v=y.getOptimisticResult(d),f=!i&&t.subscribed!==!1;if(n.useSyncExternalStore(n.useCallback(P=>{const g=f?y.subscribe(Ie.batchCalls(P)):le;return y.updateResult(),g},[y,f]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),n.useEffect(()=>{y.setOptions(d)},[d,y]),Jt(d,v))throw Me(d,y,o);if(Xt({result:v,errorResetBoundary:o,throwOnError:d.throwOnError,query:p.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw v.error;return p.getDefaultOptions().queries?._experimental_afterQuery?.(d,v),d.experimental_prefetchInRender&&!ce&&Zt(v,i)&&(j?Me(d,y,o):p.getQueryCache().get(d.queryHash)?.promise)?.catch(le).finally(()=>{y.updateResult()}),d.notifyOnChangeProps?v:y.trackResult(v)}function ts(t,s){return es(t,Bt)}function ss({showUpgradeModal:t,setShowUpgradeModal:s,userJson:a}){const[i,o]=n.useState(1),[p,d]=n.useState(!1),[j,y]=n.useState("primary"),[v,f]=n.useState("Limits"),[P,g]=n.useState(!1),[T,M]=n.useState({ben:["N50,000","250,000","N50,000"],req:["Phone No."],level:"Basic"}),[m,A]=n.useState("Confirm"),[R,D]=n.useState(Array(11).fill("")),[S,O]=n.useState(Array(10).fill("")),I=n.useRef([]),B=n.useRef([]),N=(l,h,u,q,Y)=>{if(!/^[0-9]?$/.test(h))return;const Q=[...u];Q[l]=h,q(Q),h&&Y.current[l+1]&&Y.current[l+1].focus()};n.useEffect(()=>{t?requestAnimationFrame(()=>d(!0)):d(!1)},[t]);const k=l=>{f(l)},E=()=>{y("primary");let l=[],h=[],u="";a?.accountType==="BUYER"?(l=["N150,000","250,000","N50,000"],h=["Phone No."],u="Basic"):a?.accountType==="SELLER"?(l=["N150,000","","N50,000"],h=["Phone No."],u="Basic"):(l=["N150,000","5","20,000"],h=["Phone No."],u="Basic"),M({ben:l,req:h,level:u}),A("Confirm")},F=()=>{y("warning");let l=[],h=[],u="";a?.accountType==="BUYER"?(l=["N500,000","N5,000,000","N1,000,000"],h=["Phone No.","NIN"],u="Essential"):a?.accountType==="SELLER"?(l=["N500,000","","N250,000"],h=["Phone No.","NIN"],u="Essential"):(l=["N500,000","10","50,000"],h=["Phone No.","NIN"],u="Essential"),M({ben:l,req:h,level:u}),A("Upgrade Now")},C=()=>{y("secondary");let l=[],h=[],u="";a?.accountType==="BUYER"?(l=["Unlimited","Unlimited","N5,000,000"],h=["Phone No.","NIN"],u="Enterprise"):a?.accountType==="SELLER"?(l=["Unlimited","","N500,000"],h=["Phone No.","NIN"],u="Enterprise"):(l=["Unlimited","30","500,000"],h=["Phone No.","NIN"],u="Enterprise"),M({ben:l,req:h,level:u}),A("Upgrade Now")};return e.jsxs("div",{className:"p-3 bg-light min-vh-100",children:[t&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 fade-overlay",onClick:()=>s(!1)}),t&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow modal-animate ${p?"show":""}`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Verification & Limits"}),e.jsx(J,{size:20,style:{cursor:"pointer"},onClick:()=>s(!1)})]}),e.jsxs("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:[e.jsxs("div",{className:"d-flex gap-2 mb-3",children:[e.jsx(re,{label:"Tier 1",active:i===1,onClick:()=>{o(1),E()}}),e.jsx(re,{label:"Tier 2",active:i===2,onClick:()=>{o(2),F()}}),e.jsx(re,{label:"Tier 3",active:i===3,onClick:()=>{o(3),C()}})]}),e.jsx("h6",{className:"fw-bold text-center",children:T?.level}),e.jsxs("div",{className:"text-start",children:[["Daily Limits","Requirements"].map((l,h)=>e.jsx("small",{className:` ${l===v?"border-bottom border-dark text-dark":"text-muted"} px-2`,onClick:()=>k(l),children:l},h)),e.jsx("div",{className:`bg-${j} text-white rounded-3 py-3 px-2 mt-3`,children:v==="Daily Limits"?e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsxs("small",{className:"d-block",children:[" ",a?.accountType==="BUYER"?"Buy":"Sell"," ","Products"]}),e.jsx("small",{className:"d-block",children:T?.ben[0]})]}),a?.accountType!=="SELLER"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-4",children:[e.jsx("small",{children:a?.accountType==="BUYER"?"Deposit":"No. Of Sellers"}),e.jsx("small",{className:"d-block",children:T?.ben[1]})]})}),e.jsxs("div",{className:"col-4",children:[e.jsx("small",{children:"Withdraw"}),e.jsx("small",{className:"d-block",children:T?.ben[2]})]})]}):e.jsx("div",{className:"row g-2",children:e.jsx("div",{className:"col-12",children:e.jsx("ul",{children:T?.req.map((l,h)=>e.jsx("li",{children:l},h))})})})}),e.jsxs("div",{className:`bg-${j} bg-opacity-75 text-white rounded-pill py-2 mt-3 d-flex justify-content-center align-items-center gap-2`,children:[e.jsx(Le,{size:18}),e.jsx("span",{className:"fw-semibold",onClick:()=>{g(!0)},children:m})]})]})]})]}),P&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow modal-animate ${p?"show":""}`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Account Upgrade"}),e.jsx(J,{size:20,style:{cursor:"pointer"},onClick:()=>{g(!P)}})]}),e.jsxs("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:" text-center",children:e.jsx("label",{className:"form-label ",children:"NIN"})}),e.jsx("div",{className:"d-flex gap-1",children:S.map((l,h)=>e.jsx("input",{ref:u=>B.current[h]=u,value:l,maxLength:1,className:"digit-input",onChange:u=>N(h,u.target.value,S,O,B)},h))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-center  my-3",children:e.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill px-3",children:[e.jsx(Ce,{size:15})," check"]})}),e.jsx("div",{className:" text-center",children:e.jsx("label",{className:"form-label ",children:"BVN"})}),e.jsx("div",{className:"d-flex ",children:R.map((l,h)=>e.jsx("input",{ref:u=>I.current[h]=u,value:l,maxLength:1,className:"digit-input",onChange:u=>N(h,u.target.value,R,D,I)},h))}),e.jsx("div",{className:"text-center  mt-3",children:e.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill px-3",children:[e.jsx(Ce,{size:15})," check"]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",children:"Confirm"})})]})]})]})}function re({label:t,active:s,onClick:a}){return e.jsx("button",{onClick:a,className:`btn btn-sm w-100 fw-semibold ${s?"btn-primary":"btn-light"}`,style:{borderRadius:6},children:t})}const{ava:as}=_e;function Ns({showProfileModal:t,setShowProfileModal:s,userJson:a,profileData:i,isFetching:o}){const[p,d]=n.useState(0),[j,y]=n.useState(!1),[v,f]=n.useState(!1);n.useRef(0);const[P,g]=n.useState(!1),[T,M]=n.useState(as),[m,A]=n.useState({});console.log(i.data),n.useEffect(()=>{if(!o&&i){const{username:c,firstName:w,lastName:_,email:H,phone:fe,accountType:Be,address:xe,verificationTier:X}=i?.data;console.log(i.data),A({username:c||"",firstName:w||"",lastName:_||"",address:xe||"",phone:fe||"",email:H||""})}},[o,i]);const[R,D]=n.useState({}),{mutate:S,isLoading:O,error:I,data:B}=K({mutationFn:c=>{const w=new FormData;return w.append("avatar",c),ee.post(it,w,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:c=>{console.log(c);const w=c?.data?.url||c?.data?.avatarUrl||c?.data?.data||"";w&&(M(w),A(_=>({..._,avatar:w}))),Z.success("Avatar uploaded successfully",{autoClose:2e3})},onError:c=>{console.error("Avatar upload error:",c),Z.error("Failed to upload avatar",{autoClose:2e3})}}),N=c=>{const w=c.target.files[0];if(w){const _=URL.createObjectURL(w);M(_),S(w),console.log(B)}};n.useEffect(()=>{const c=document.getElementById("profileUpload");if(!c)return;const w=_=>{const H=_.target.files&&_.target.files[0];H&&S(H)};return c.addEventListener("change",w),()=>c.removeEventListener("change",w)},[S]);const{mutate:k,isPending:E,isError:F,error:C,isSuccess:l,data:h}=K({mutationFn:c=>ee.put(rt,c),onSuccess:c=>{Z.success("✅Profile updated successfully",{autoClose:2e3,onClose:()=>s(!1)})},onError:c=>{Z.error(`✅ ${c.message}`,{autoClose:2e3}),console.log(c.message),g(!1)}}),u=c=>{A({...m,[c.target.name]:c.target.value})},q=()=>{const c={};return/\S+@\S+\.\S+/.test(m.email)||(c.email="Enter valid email"),m.phone&&m.phone.length<11&&(c.phone="Enter valid phone"),m.firstName.length===0&&(c.firstName="Enter first name"),m.lastName.length===0&&(c.lastName="Enter last name"),m.address.length===0&&(c.address="Enter address"),c},Y=()=>{s(!1)},Q=c=>{c.preventDefault();const w=q();if(D(w),Object.keys(w).length===0){const _={...m};console.log(m),k(_),console.log(C)}};return e.jsxs("div",{className:"bg-light min-vh-100 ",children:[t&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),t&&e.jsxs("div",{className:"position-fixed start-50 translate-middle-x bg-white shadow",style:{bottom:0,width:"95%",maxWidth:600,maxHeight:"95vh",borderRadius:"22px 22px 0 0",zIndex:1e3,transform:`translate(-50%, ${p}px)`,transition:j?"none":"transform .35s cubic-bezier(.25,1,.5,1)",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"bg-white",style:{position:"sticky",top:0,zIndex:2,borderRadius:"22px 22px 0 0"},children:[e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto bg-secondary",style:{width:40,height:4,borderRadius:2,opacity:.4}})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center px-3 pb-2 border-bottom",children:[e.jsx("h6",{className:"fw-bold m-0",children:"Profile Edit"}),e.jsx(J,{style:{cursor:"pointer"},onClick:Y})]})]}),e.jsxs("div",{className:"px-3 py-3",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[e.jsxs("div",{className:"text-center mb-3 position-relative",children:[e.jsx("img",{src:i?.data?.profilePicture||T,alt:"avatar",className:"rounded-circle",width:80,height:80}),e.jsxs("label",{className:"btn btn-primary btn-sm rounded-circle position-absolute",style:{bottom:0,right:"38%"},children:[e.jsx(pt,{size:14}),e.jsx("input",{type:"file",id:"profileUpload",accept:"image/*",style:{display:"none"},onChange:N})]})]}),e.jsxs("button",{className:"btn btn-info ms-3",onClick:()=>{f(!v)},children:[e.jsx(zt,{className:"text-white",size:30}),e.jsx("small",{children:"Tier 1"})]})]}),e.jsxs("form",{noValidate:!0,onSubmit:Q,children:[e.jsx(z,{label:"Username",name:"username",disabled:!0,value:m.username,error:R.username,icon:Ue,onChange:u}),e.jsx(z,{label:"First Name",name:"firstName",value:m.firstName,error:R.firstName,onChange:u}),e.jsx(z,{label:"Last Name",name:"lastName",value:m.lastName,error:R.lastName,onChange:u}),e.jsx(z,{label:"Address",name:"address",value:m.address,error:R.address,onChange:u,icon:ze}),e.jsx(z,{label:"Phone",name:"phone",value:m.phone,error:R.phone,onChange:u,icon:de}),e.jsx(z,{label:"Email",name:"email",value:m.email,error:R.email,onChange:u,icon:at}),e.jsx("button",{className:"btn btn-primary w-100 mt-2",onClick:q,disabled:E,children:E?"updating...":"update"})]}),e.jsx("hr",{}),e.jsx(z,{label:"BVN",value:"8921817836",disabled:!0}),e.jsx(z,{label:"NIN",value:"8921817836",disabled:!0}),e.jsx("button",{className:"btn btn-danger w-100 mt-2",children:"Request Update"})]})]}),v&&e.jsx(ss,{showUpgradeModal:v,setShowUpgradeModal:f,userJson:a})]})}function z({label:t,value:s,icon:a,error:i,disabled:o,name:p,onChange:d}){return e.jsxs("div",{className:`mb-2 ${i?"shake":""}`,children:[e.jsx("label",{className:"small text-muted",children:t}),e.jsxs("div",{className:"input-group",children:[a&&e.jsx("span",{className:"input-group-text bg-light",children:e.jsx(a,{size:16})}),e.jsx("input",{className:`form-control ${i?"is-invalid":""}`,value:s,name:p,disabled:o,onChange:d})]})]})}function ks({showWalletModal:t,setShowWalletModal:s}){const[a,i]=n.useState(!1);return n.useEffect(()=>{t?requestAnimationFrame(()=>i(!0)):i(!1)},[t]),e.jsxs("div",{className:"p-3 bg-light min-vh-100",children:[t&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 fade-overlay",onClick:()=>s(!1)}),t&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow modal-animate ${a?"show":""}`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Afomo Wallet"}),e.jsx(J,{size:20,style:{cursor:"pointer"},onClick:()=>s(!1)})]}),e.jsx("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ut,{size:48,className:"mt-2"}),e.jsxs("div",{className:"bg-dark bg-opacity-75 text-white rounded-pill py-2 mt-3 d-flex justify-content-center align-items-center gap-2",children:[e.jsx(Le,{size:18}),e.jsx("span",{className:"fw-semibold",children:"Upgrade Now"})]})]})})]})]})}const Cs=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:300,overflowY:"auto"},children:[e.jsx("h5",{children:"Orders & Shopping"}),e.jsxs("div",{className:"fw-bold text-muted",children:[e.jsxs("p",{children:["Q: How do I place an order? ",e.jsx("br",{}),"A: You can place an order by ;"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"Typing what you want to buy in the chat details."}),e.jsx("li",{children:"Optionally, you can choose and buy."}),e.jsx("li",{children:"You can also chat or call the seller directly to conclude & place your order."})]}),e.jsxs("p",{children:["Q: How can I track my order? ",e.jsx("br",{}),"A: You can track your order by calling or chatting with the seller or agent. We have an in-app calling function & messaging you can use. We advise you to keep all your communication within Afomo for easier win-win."]}),e.jsxs("p",{children:["Q:Can i cancel an order? ",e.jsx("br",{}),"A: Yes, cancellation is possible before order confirmation or shipping."]}),e.jsxs("p",{children:["Q: What if an item goes out of stock? ",e.jsx("br",{}),"A: If items displayed on our app are always in stock."]})]}),e.jsx("h5",{children:"Payments & Billing"}),e.jsxs("div",{className:"fw-bold text-muted",children:[e.jsxs("p",{children:["Q: What payment methods are accepted? ",e.jsx("br",{}),"A: You can credit your Afomo wallet and transfer to your wallet. You can withdraw funds from your wallet anytime."]}),e.jsxs("p",{children:["Q: What payment methods are accepted? ",e.jsx("br",{}),"A: You can credit your Afomo wallet and transfer to your wallet. You can withdraw funds from your wallet anytime."]}),e.jsxs("p",{children:["Q: You can transfer directly to the buyer. ",e.jsx("br",{}),"A: Money is held in our escrow bank. The buyer will only be credited with goods payment after you have received your order and verified satisfactory delivery of service. Afomo supports both card online payments."]}),e.jsxs("p",{children:["Q:Can i pay with cash-on-delivery (if available in your area)."," ",e.jsx("br",{}),"A:Yes"]}),e.jsxs("p",{children:["Q: Why was my payment declined? ",e.jsx("br",{}),"A: Confirm your card details or contact our customer support for further assistance."]}),e.jsxs("p",{children:["Q: How do refunds work? ",e.jsx("br",{}),"A: Refunds are processed within 24 hours. However, depending on the issue or payment method, refund can take longer."]})]}),e.jsx("h5",{children:"Shipping and Delivery"}),e.jsxs("div",{className:"fw-bold text-muted",children:[e.jsxs("p",{children:["Q: Do you deliver nationwide? ",e.jsx("br",{}),"A: Buying, selling and delivery in Afomo is available nationwide. Delivery or shipping locations can change to delivery options within certain states in your Afomo"]}),e.jsxs("p",{children:["Q: What happens if I’m not available at delivery? ",e.jsx("br",{}),"A: Seller will always be in touch with you to reschedule someone else to pick up your order. Advance confirmation must be done and confirmed within the app in your Afomo chat."]}),e.jsxs("p",{children:["Q: Return & Exchanges ",e.jsx("br",{}),"A: How do I request a return or replacement? If you can contact the seller or the agent immediately to request for a return or exchange of the product is faulty or does not meet up to your expectation."]}),e.jsxs("p",{children:["Q: What items are not eligible for return? ",e.jsx("br",{}),"A: Some fragile, clearance, or personalized products cannot be returned. Refund or opened/damaged items are not returned. In the case of failed or unclaimed product, contact seller or agent for the issue."]}),e.jsxs("p",{children:["Q: How long does return processing take? ",e.jsx("br",{}),"A: Typically 24–72 hours after pickup."]})]})]})}),Rs=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Enscrow Terms of service"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("p",{children:["Afomo is a digital commerce platform connecting buyers, sellers, and last mile agents. Afomo does not hold customer funds. All payments and escrow services are provided by licensed third-party payment service providers (PSPs).",e.jsx("br",{})," Afomo enables users to Use voice to discover, promote, buy, and sell products or services, Interact with other users through social features, and, Send and receive payments where supported."," ",e.jsx("br",{})," Users must be at least 18 years old and agree to provide accurate information and comply with applicable laws. You must provide accurate, current, and complete information during registration. Afomo reserves the right to refuse access to any user who does not meet eligibility requirements. ",e.jsx("br",{})," Afomo provides marketplace coordination and escrow decision logic but does not act as a bank, guarantee delivery, or custody funds. Afomo may charge disclosed transaction fees and reserves the right to suspend accounts for fraud, abuse, or legal risk. Liability is limited to the extent permitted by law."]})}),e.jsx("h5",{children:"Enscrow Terms"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("i",{children:["Escrow services are delivered through licensed PSPs. Buyers pay into PSP-controlled escrow accounts, where funds are held until release conditions are met.",e.jsx("br",{})," Funds are released when the buyer confirms delivery, when the auto-release period expires without dispute, or following dispute resolution. Escrow funds do not earn interest and are not invested or loaned."]})}),e.jsx("h5",{children:"user content"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("i",{children:["You retain ownership of all content you upload or post on Afomo, including images, videos, text, and product listings.",e.jsx("br",{})," By posting content, you grant Afomo a non-exclusive, worldwide, royalty-free, transferable license to use, host, reproduce, display, distribute, and promote your content solely for operating and marketing Afomo.",e.jsx("br",{}),"You must not post content that:",e.jsxs("ul",{children:[e.jsx("li",{children:"is false, fraudulent, or misleading"}),e.jsx("li",{children:"violates Nigerian law or regulations"}),e.jsx("li",{children:"infringes intellectual property or privacy rights,."}),e.jsx("li",{children:"is abusive, hateful, defamatory, or threatening,"}),e.jsx("li",{children:"is sexually explicit or harmful to minors."})]}),"Afomo may remove content that violates these Terms without prior notice."]})}),e.jsx("h5",{children:"Buying and selling on Afomo"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("i",{children:["Sellers:",e.jsx("br",{})," are solely responsible for their listings, pricing, and descriptions except registered under an agent, must comply with all applicable Nigerian laws, including consumer protection laws, are responsible for delivery, refunds, and customer support, sellers must not engage in unfair, misleading, or deceptive trade practices.",e.jsx("br",{})," Buyers: are responsible for reviewing listings carefully before purchase, agree to first attempt resolving disputes directly with sellers or agents, agree to follow advise and safety recommendations by Afomo.",e.jsx("br",{})," Agents: are solely responsible for seller listings done with their account, must comply with all applicable Nigerian laws, including consumer protection laws."]})}),e.jsx("h5",{children:"Payment Fees and Wallet"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("i",{children:"Afomo provides in-app wallets and integrates with CBN-licensed payment service providers. All financial services on Afomo comply with applicable Central Bank of Nigeria (CBN) regulations. Users consent to KYC/AML verification where required under Nigerian law. Service fees, commissions, or transaction charges will be transparently disclosed. Afomo is not liable for delays or failures caused by banks, payment processors, or network disruptions."})}),e.jsx("h5",{children:"Social Features and user Content"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("i",{children:"Users retain ownership of content they post. By posting content on Afomo, you grant Afomo a non‑exclusive, royalty‑free, worldwide license to use, display, and distribute such content for platform operations and promotions. Afomo reserves the right to moderate or remove content that violates its policies. Reviews rating and Community trust Reviews must be honest, respectful, and based on genuine experiences. Manipulation of ratings, fake reviews, or review trading is prohibited."})}),e.jsx("h5",{children:"Review rating and Community trust"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("i",{children:"Reviews rating and Community trust Reviews must be honest, respectful, and based on genuine experiences. Manipulation of ratings, fake reviews, or review trading is prohibited."})})]})}),Ss=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Privacy policy (Nigeria-NDPR complaint)"}),e.jsx("div",{className:"fw-bold text-muted text-justify ",children:e.jsxs("p",{children:["Afomo collects identity, transaction, communication, and usage data to facilitate transactions, prevent fraud, comply with legal obligations, and improve services. ",e.jsx("br",{}),"Data processing is based on consent, contractual necessity, and legal requirements. Data may be shared with licensed PSPs and regulators where required.",e.jsx("br",{})," Afomo applies encryption, access controls, and audit logging. Users have rights to access, correct, or withdraw consent subject to applicable law. Afomo complies with the Nigeria Data Protection Act (NDPA) 2023 and the Nigeria Data Protection Regulation (NDPR)."]})}),e.jsx("h5",{children:"Information We Collect;"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("ul",{children:[e.jsx("li",{children:"personal identification data (name, phone number, email, address)"}),e.jsx("li",{children:"KYC-related information where required by law,"}),e.jsx("li",{children:"transaction, wallet, and payment data, • device, log, and usage information"})]})}),e.jsx("h5",{children:"Legal Basis for Processing;"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("ul",{children:[e.jsx("li",{children:"We process personal data based on:"}),e.jsx("li",{children:" user consent"}),e.jsx("li",{children:"performance of a contract • compliance with legal obligations"}),e.jsx("li",{children:"legitimate business interests"})]})}),e.jsx("h5",{children:"How We Use Information"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("ul",{children:[e.jsx("li",{children:" to create and manage user accounts"}),e.jsx("li",{children:" to facilitate socio-commerce transactions"}),e.jsx("li",{children:"to comply with regulatory and law enforcement requirements,"}),e.jsx("li",{children:"legitimate business interests"})]})}),e.jsx("h5",{children:"Data Sharing & Transfers"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("p",{children:"We do not sell personal data. Data may be shared with; licensed payment processors and financial institutions, logistics and verification partners, regulatory authorities such as NDPB, law enforcement agencies, or courts where required, cross-border data transfers, where applicable, shall comply with Nigerian data protection laws."})}),e.jsx("h5",{children:"User right"}),e.jsxs("div",{className:"fw-bold text-muted text-justify",children:[e.jsx("p",{children:"user have the right to;"}),e.jsxs("ul",{children:[e.jsx("li",{children:"access and correct their personal data,withdraw consent (where applicable),"}),e.jsx("li",{children:"request data deletion subject to legal retention requirements,"}),e.jsx("li",{children:"lodge complaints with the Nigeria Data Protection Bureau (NDPB),"}),e.jsx("li",{children:"returns, Refunds & Disputes (Consumer Protection)"}),e.jsx("li",{children:"return and refund policies are primarily determined by sellers, subject to the Federal Competition and Consumer Protection Act (FCCPA),"}),e.jsx("li",{children:"Afomo may provide mediation tools and will mediate dispute resolution where needed."}),e.jsx("li",{children:"Users retain the right to escalate unresolved complaints to the Federal Competition and Consumer Protection Commission (FCCPC)"})]})]})]})}),Es=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Intellectual properties"}),e.jsxs("div",{className:"fw-bold text-muted text-justify",children:[e.jsx("p",{children:"Afomo’s name, logo, app design, and features are protected intellectual property. Users may not copy, modify, or distribute Afomo’s assets without permission."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Susspension &Termination"}),e.jsx("li",{children:"Afomo reserves the right to; Suspend or terminate accounts that violate these terms, Remove content without prior notice, Restrict access for security, legal, or operational reasons."})]}),e.jsx("p",{children:"Limitation and Liability law;"}),"To the fullest extent permitted by",e.jsxs("ul",{children:[e.jsx("li",{children:"Afomo is not liable for indirect, incidental, or consequential damages"}),e.jsx("li",{children:"Afomo does not guarantee uninterrupted or error free service, Transactions are conducted at users’ own risk"})]})]}),e.jsx("h5",{children:"Indemnification"}),e.jsx("div",{className:"text-mute text-justify fw-bol",children:e.jsx("i",{children:"You agree to indemnify and hold Afomo harmless from claims, damages, or losses arising from your use of the platform or violation of these terms."})}),e.jsx("h5",{children:"Changes to terms"}),e.jsx("div",{className:"text-mute text-justify fw-bol",children:e.jsx("i",{children:"Afomo may update these Terms and Policies from time to time. Continued use of the app constitutes acceptance of updated terms."})}),e.jsx("h5",{children:"Governing Law and Juridiction"}),e.jsx("div",{className:"text-mute text-justify fw-bol",children:e.jsx("i",{children:"These Terms shall be governed by and interpreted in accordance with the laws of the Federal Republic of Nigeria. Any disputes arising from the use of Afomo shall be subject to the exclusive jurisdiction of the courts of Nigeria."})})]})}),As=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Return Law and Dispute Policy"}),e.jsx("div",{className:"fw-bold text-muted",children:e.jsxs("i",{children:["Buyers may raise disputes if items are not delivered, materially differ from descriptions, or exceed delivery timelines.",e.jsx("br",{})," Disputes must be raised before escrow release. Funds are frozen during review. Afomo conducts a human review of evidence and instructs the PSP to release or refund funds accordingly.",e.jsx("br",{})," Disputes are acknowledged within 24 hours and resolved within 2 business days. Approved refunds are processed to the original payment method."]})})]})}),{avatar:ne,defaultProduct:is}=_e,rs=[is],ns=t=>new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}).toLowerCase();function Ts(){ue();const[t,s]=n.useState(0),{token:a,user:i}=me(),o=JSON.parse(i),[p,d]=n.useState(""),[j,y]=n.useState(!1),[v,f]=n.useState(!1),[P,g]=n.useState("Voice Narration"),[T,M]=n.useState(!1),m=n.useRef(null),A=n.useRef([]),[R,D]=n.useState(!1),[S,O]=n.useState(!1),I=Fe(),{productId:B,sellerId:N,buyerId:k}=nt(),[E,F]=n.useState([]),[C,l]=n.useState(),[h,u]=n.useState(),[q,Y]=n.useState(),Q=n.useRef(null);console.log(N);const{mutate:c,isPending:w,isError:_,error:H,isFetching:fe,isSuccess:Be,data:xe}=K({mutationFn:r=>ee.post(lt,r,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:r=>{const x=r?.data?.voiceUrl,L=r?.data?.voiceDuration;x&&te.mutate({messageType:"VOICE",voiceUrl:x,voiceDuration:L})},onError:r=>{console.error(" error:",r)}});let X=[];const{mutate:Qe,isPending:ye,isError:cs,error:ds,isSuccess:hs,data:V}=K({mutationFn:r=>ee.post(`${ie}`,r),onSuccess:r=>{console.log(r),l(r?.data?.id),X=[...r?.data?.product?.images.map(x=>x.url)],console.log(X),F(r?.data?.product?.images.length>0?X:rs)},onError:r=>{console.log(r)}});n.useEffect(()=>{Qe({participantIds:[N,k],productId:B,initialMessage:"Hello"})},[]);const $e=async r=>{const x=await fetch(`https://afomo-xagx.onrender.com/api/${ie}${r}/messages`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});if(!x.ok)throw new Error("Failed to fetch messages");return x.json()},{data:qe=[],isLoading:us,isPending:ms}=ts({queryKey:["messages",C],queryFn:()=>$e(C),enabled:!!C}),te=K({mutationFn:async r=>{const x=await fetch(`https://afomo-xagx.onrender.com/api/${ie}${C}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!x.ok)throw new Error("Send failed");return x.json()},onMutate:async r=>(await I.cancelQueries({queryKey:["messages",C]}),{previousMessages:I.getQueryData(["messages",C])}),onError:(r,x,L)=>{console.log(r),I.setQueryData(["messages",C],L.previousMessages)},onSuccess:r=>{I.invalidateQueries({queryKey:["messages",C]}),console.log("Server returned:",r)}}),Ye=()=>{p.trim()&&(te.mutate({content:p,messageType:"TEXT"}),d(""))},He=r=>g(r),se=n.useRef(null),ge=n.useRef(0),be=new Array(26).fill(1),Ve=()=>s(r=>(r+1)%E.length),ae=()=>s(r=>(r-1+E.length)%E.length),We=r=>ge.current=r.touches[0].clientX,Ke=r=>{const x=ge.current-r.changedTouches[0].clientX;x>50&&Ve(),x<-50&&ae()},je=()=>{se.current&&(j?se.current.pause():se.current.play(),y(!j))},Xe=async()=>{if(T){m.current?.state!=="inactive"&&m.current.stop(),M(!1);return}try{const r=await navigator.mediaDevices.getUserMedia({audio:!0});Q.current=r;const x=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",L=new MediaRecorder(r,{mimeType:x});m.current=L,A.current=[],L.ondataavailable=$=>{$.data.size>0&&A.current.push($.data)},L.onstop=()=>{const $=new Blob(A.current,{type:"audio/webm"});if(console.log("Blob size:",$.size),$.size===0)return;Q.current.getTracks().forEach(Ge=>Ge.stop());const ve={voice:$};console.log(ve),c(ve)},L.start(200),M(!0)}catch(r){console.log(r),alert("Microphone permission denied")}};return e.jsxs("div",{className:"container px-0",style:{maxWidth:420},children:[o?.accountType==="BUYER"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex align-items-center p-3 border-bottom",children:[e.jsx("button",{className:"btn btn-sm rounded-circle bg-dark ",onClick:ae,style:{opacity:.7},children:e.jsx(yt,{size:22,className:"text-white"})}),e.jsx("h6",{className:"fw-bold mb-0 flex-grow-1 text-center",children:"Duplex Store & Boutique"}),e.jsx("button",{className:"btn btn-sm rounded-circle bg-dark ",onClick:ae,style:{opacity:.7},children:e.jsx(Re,{size:22,className:"text-white"})})]}),e.jsxs("div",{className:"position-relative",onTouchStart:We,onTouchEnd:Ke,children:[e.jsx("img",{src:E[t],className:"w-100 carousel-img",alt:""}),e.jsx("div",{className:"carousel-dots",children:E.map((r,x)=>e.jsx("span",{className:x===t?"active":""},x))}),e.jsx("span",{className:"badge bg-primary price-badge",children:V?.data?.product?.price})]}),e.jsxs("div",{className:"p-3 border-bottom",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>O(!S),children:[e.jsx("h6",{className:"fw-semibold",children:V?.data?.product?.name}),e.jsx(Re,{size:16,style:{transform:S?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:S?200:0,opacity:S?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[["Voice Narration","Details"].map((r,x)=>e.jsx("small",{className:` ${r===P?"border-bottom border-dark text-dark mt-2":"text-muted"} px-2`,onClick:()=>He(r),children:r},x)),e.jsxs("div",{className:"position-relative",children:[e.jsx(Ct,{size:20,role:"button",onClick:()=>D(!R)}),R&&e.jsxs("div",{className:"dropdown-menu-custom p-3",children:[e.jsx("div",{className:"dropdown-item",children:"View Store"}),e.jsx("div",{className:"dropdown-item",children:"Mute Notifications"}),e.jsx("div",{className:"dropdown-item",children:"Update Price"}),e.jsx("div",{className:"dropdown-item text-danger",children:"Block"}),e.jsx("div",{className:"dropdown-item text-danger",children:"Report"})]})]})]}),P==="Voice Narration"?e.jsx("div",{children:e.jsx("div",{className:"voice-wave my-3",onClick:je,children:e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:ne,alt:"user",className:"rounded-circle me-2",style:{width:30,height:30,objectFit:"cover"}}),j?e.jsx(Se,{size:23,className:"text-dark mt-1"}):e.jsx(Ee,{size:23,className:"text-dark mt-1"}),e.jsx("div",{className:`wave ${j?"playing":""}`,children:be.map((r,x)=>e.jsx("span",{},x))})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:"Items Description"}),e.jsx("p",{className:"mt-2",children:V?.data?.product?.description})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-8 text-muted small",children:e.jsx("button",{className:"btn btn-primary btn-sm rounded-pill px-4",children:"Buy"})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx(de,{size:25,className:"text-primary",onClick:()=>f(!0)})}),e.jsx("div",{className:"col-6",children:e.jsx(Ae,{size:30,className:"text-primary"})})]})})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row m-2",children:[e.jsxs("div",{className:"col-8 text-muted small d-flex align-items-center",children:[e.jsx("img",{src:V?.data?.participants[0]?.user?.profilePicture||ne,alt:"user",className:"rounded-circle ",style:{width:70,height:70,objectFit:"cover"}}),e.jsxs("div",{className:"ms-1 py-0",children:[e.jsx("h5",{children:V?.data?.participants[0]?.user?.username}),e.jsx("small",{className:"d-block",children:"090887733"}),e.jsx(ze,{size:18,className:" pe-1"}),"Lagos, Nigeria"]})]}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx(de,{size:25,className:"text-primary",onClick:()=>f(!0)})}),e.jsx("div",{className:"col-6",children:e.jsx(Ae,{size:30,className:"text-primary"})})]})})]}),e.jsx("hr",{className:"text-mte"}),e.jsx("div",{children:e.jsx("div",{className:"voice-wave my-3",onClick:je,children:e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:ne,alt:"user",className:"rounded-circle me-2",style:{width:30,height:30,objectFit:"cover"}}),j?e.jsx(Se,{size:23,className:"text-dark mt-1"}):e.jsx(Ee,{size:23,className:"text-dark mt-1"}),e.jsx("div",{className:`wave ${j?"playing":""}`,children:be.map((r,x)=>e.jsx("span",{},x))}),e.jsx("small",{className:"text-end text-muted ms-3",children:"7:00Pm"})]})})})]}),e.jsx("div",{className:"chat-box p-1",style:{height:`${S?200:500}px`},children:qe?.data?.items.map((r,x)=>e.jsxs("div",{className:`chat-msg ${r?.sender?.id===o?.id?"me":""}`,children:[r?.messageType==="VOICE"?e.jsx("audio",{controls:!0,src:r.voiceUrl,style:{width:"200px"}}):r?.content,e.jsx("small",{className:` ${r?.sender?.id===o?.id?"text-end text-white":"text-start text-muted "} ms-2 d-block`,children:ns(r.createdAt)})]},x))}),e.jsxs("div",{className:"chat-input d-flex justify-content-between align-items-center   border-top mx-3",children:[e.jsx("button",{disabled:ye,className:"btn btn-sm border-0",children:e.jsx(De,{size:36,className:`btn ${T?"btn-danger":"btn-primary"} text-white`,style:{width:50,height:50,borderRadius:"50%"},onClick:Xe})}),e.jsx("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-3 mx-2",children:"Buy"}),e.jsx("input",{className:"form-control form-control-sm rounded-pill",placeholder:"Type a message",value:p,onChange:r=>d(r.target.value)}),e.jsx("button",{className:"btn btn-primary btn-sm ms-2",onClick:()=>{Ye()},disabled:te.isPending||ye,children:e.jsx(ot,{size:16})})]}),v&&e.jsx("div",{className:"call-overlay",children:e.jsxs("div",{className:"call-card",children:[e.jsx("h6",{children:"Calling Seller…"}),e.jsx("button",{className:"btn btn-danger mt-3",onClick:()=>f(!1),children:"End Call"})]})})]})}function os(){const t=ue(),{user:s,token:a}=me(),i=JSON.parse(s),o=()=>{i.accountType==="SELLER"?t("/dashboard/seller/tap-to-sell"):i.accountType==="BUYER"?t("/dashboard"):t("/dashboard/agent/tap-to-sell")},p=()=>{i.accountType==="SELLER"?t("/dashboard/seller-chat-display"):i.accountType==="BUYER"?t("/dashboard/"):t("/dashboard/agent-chat-display")};return e.jsx("div",{className:"d-flex justify-content-center mt-5",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between px-3",style:{width:260,height:56,background:"#EAF3FF",borderRadius:28,position:"relative"},children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{width:42,height:42,borderRadius:12,background:"#D6E8FF"},onClick:()=>t("/dashboard"),children:e.jsx(Et,{size:20})}),e.jsx("div",{className:"d-flex align-items-center justify-content-center shadow",style:{width:64,height:64,borderRadius:"50%",background:"#fff",position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",border:"4px solid #8CB8FF"},onClick:o,children:e.jsx(De,{size:28})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center text-primary",style:{width:70,height:42,borderRadius:12,background:"#D6E8FF"},onClick:p,children:["Chat ",e.jsx(Nt,{size:24,className:"ps-2"})]})]})})}const ls=()=>{const t=ue(),[s,a]=n.useState(!1),{user:i,clearAuth:o}=me(),p=JSON.parse(i),d=()=>{p.accountType==="SELLER"?t("seller/profile"):p.accountType==="BUYER"?t("buyer/profile"):t("agent/profile")},j=()=>{o(),t("/login")};return e.jsx("div",{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center px-3 py-2",children:[e.jsx(Tt,{size:22,onClick:j}),e.jsx("h6",{className:"fw-bold m-0",children:"Afomo"}),e.jsx(Ue,{size:22,onClick:()=>{d()}})]})})},Ps=()=>e.jsx("div",{className:"d-flex flex-column h-100 w-100 position-relative",children:e.jsx("div",{className:"d-flex h-100",children:e.jsx("div",{className:"flex-grow-1 overflow-auto w-100",children:e.jsxs("div",{className:" py-3",children:[e.jsx(ls,{}),e.jsx(ct,{}),e.jsx(os,{})]})})})});export{xs as A,gs as B,bs as C,Ct as E,Cs as F,vs as H,Ps as L,ze as M,Ss as P,ks as Q,As as R,zt as S,Rs as T,ss as U,Ae as V,Ce as a,Nt as b,ys as c,Re as d,ws as e,js as f,Es as g,Ns as h,yt as i,Ts as j,de as k,Se as l,Ee as m,pt as n,ts as u};
