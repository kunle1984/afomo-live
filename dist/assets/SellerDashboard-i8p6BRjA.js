import{h as ue,u as V,r as t,a as H,b as _,j as e,c as X,P as Te,E as B,y as q,e as K,s as Me,d as De,p as Ie,M as je,S as pe,m as $e,X as J,U as qe,i as ce,L as He,k as te,l as We,R as Oe,f as S}from"./index-q2ei7gRu.js";import{u as G,E as fe,B as be,C as Ue,a as Be,b as Je,A as Ve,c as Qe,H as _e,S as Ke,d as b,e as Xe,f as Ge,F as Ye,R as Ze,T as es,P as ss,g as ts,h as as,Q as is,U as ls,i as ge,L as ns}from"./Layout-CXZBpNoW.js";import{W as Ne,C as rs,B as ds,P as cs,D as oe,A as os,L as we,S as me,T as xe,a as ms,b as xs}from"./TapToSell-Bgy-wd0m.js";import{S as Y,C as hs,B as us}from"./BuyerChat-CuyzyVdX.js";const js=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ps=ue("arrow-down-left",js);const fs=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],bs=ue("arrow-up-right",fs),{avatar:gs}=X;function Ns(){const{user:i}=V(),n=JSON.parse(i),[r,c]=t.useState(!0),[o,h]=t.useState(!1),[j,N]=t.useState(!1),[l,f]=t.useState(!1),[w,F]=t.useState(!1),[v,p]=t.useState(!1),[k,D]=t.useState(!1),[g,W]=t.useState(!1),[A,E]=t.useState(!1),[P,L]=t.useState(!1),[C,I]=t.useState(!1),[d,$]=t.useState(!1),[R,m]=t.useState(!1),[a,s]=t.useState(!1),[u,z]=t.useState(!1),[ae,ie]=t.useState(!1),le="0236280645",[ne,re]=t.useState(!1),ve=H();function ye(y){const M=new Date(y),Fe=M.getDate(),Ae=M.toLocaleString("default",{month:"short"});let Q=M.getHours();const Ee=M.getMinutes().toString().padStart(2,"0"),Le=Q>=12?"pm":"am";return Q=Q%12||12,`${Fe} ${Ae}, ${Q}:${Ee}${Le}`}const[T,Se]=t.useState({currentPassword:"",newPassword:""}),{mutate:Ce,isLoading:ke,error:Us,data:Bs}=_({mutationFn:y=>K.put(Me,y),onSuccess:y=>{console.log(y),q.success("paswword changed successfully",{autoClose:2e3}),ve("/login")},onError:y=>{q.error(y.message,{autoClose:2e3})}}),{data:x,error:Js,refetch:Vs,isFetching:Pe}=G({queryKey:[Ie]}),ze=async()=>{try{await navigator.clipboard.writeText(le),re(!0),setTimeout(()=>re(!1),1500)}catch(y){console.error("Copy failed",y)}},de=y=>{Se({...T,[y.target.name]:y.target.value})},Re=y=>{y.preventDefault();const M={currentPassword:T.currentPassword,newPassword:T.newPassword,twoFactorEnabled:!1,biometricsEnabled:!1};T.currentPassword.length===0||T.newPassword.length===0||(console.log(M),Ce(M))};return e.jsxs("div",{className:"bg-light min-vh-100 ",children:[e.jsxs("div",{className:"bg-white p-3 d-flex justify-content-between align-items-center border-bottom",children:[e.jsx("h6",{className:"fw-bold m-0",children:"Profile"}),e.jsx(fe,{size:20})]}),e.jsxs("div",{className:"position-relative rounded-2 ",children:[e.jsx("img",{src:x?.data?.profilePicture||gs,alt:"profile",className:"w-100",style:{height:350,objectFit:"cover"}}),e.jsxs("div",{className:"position-absolute w-100 px-3  translate-middle-y",children:[e.jsx("div",{className:"w-50"}),e.jsx("div",{className:"card border-0 shadow text-white",style:{borderRadius:"18px",background:"linear-gradient(180deg, #0d6efd 0%, #0b5ed7 100%)",opacity:.9},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"fw-bold mb-1",children:[x?.data?.businessName||x?.data?.firstName," "," stores",e.jsx(be,{size:10,className:"text-white"})]}),e.jsxs("div",{className:"small opacity-75",children:[x?.data?.firstName," ",x?.data?.lastName]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsx("button",{className:"btn btn-light btn-sm rounded-circle",children:e.jsx(Te,{size:16,onClick:()=>s(!0)})})})]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3 mt-2 small",children:[e.jsxs("span",{children:[e.jsx("small",{children:"NIN:"}),x?.data?.nin," ",e.jsx(B,{size:14,className:"ms-1"})]}),e.jsxs("span",{children:[e.jsx("small",{children:"BVN:"}),x?.data?.bvn," ",e.jsx(B,{size:14,className:"ms-1"})]})]}),e.jsxs("div",{className:"bg-white text-dark mt-3 p-3",style:{borderRadius:14},children:[e.jsxs("div",{className:"row g-2 small mb-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Email"}),e.jsxs("div",{className:"fw-semibold",children:[x?.data?.email," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Store"}),e.jsxs("div",{className:"fw-semibold text-truncate",children:[x?.data?.location," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Rating"}),e.jsxs("div",{className:"fw-semibold",children:[x?.data?.storeRating||5," "]})]})]}),e.jsxs("div",{className:"row g-2 mb-2 small",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Address"}),e.jsxs("div",{className:"fw-semibold text-truncate",children:[" ",x?.data?.location]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Phone"}),e.jsx("div",{className:"fw-semibold small",children:x?.data?.phone})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Reg No"}),e.jsx("div",{className:"fw-semibold",children:x?.data?.businessRegistration})]})]})]})]})})]})]}),e.jsx("div",{style:{height:120}}),e.jsxs("div",{className:"px-3 mt-5",children:[e.jsx("h6",{className:"fw-bold ",children:"My Assets"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-1 mb-3",children:[e.jsx("button",{className:"btn btn-primary rounded-pill btn-sm fs-6 px-4",onClick:()=>ie(!0),children:"Afomo Wallet"}),e.jsx("button",{className:"btn btn-secondary rounded-pill btn-sm fs-6 px-3",children:"Bank"}),e.jsx(Ue,{size:30,className:"text-white bg-success rounded-5"})]}),e.jsx("div",{className:"card border-0 text-white shadow-sm",style:{borderRadius:16,background:"linear-gradient(135deg, #FFA500, #FFB703)"},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small fw-semibold d-flex align-items-center gap-1",style:{cursor:"pointer"},onClick:ze,children:["Virtual Account:",e.jsx("span",{className:"opacity-75",children:le}),ne?e.jsx(Be,{size:14,className:"text-success ms-1"}):e.jsx(Je,{size:14,className:"ms-1"})]}),e.jsx("div",{className:"form-check form-switch m-0",children:e.jsx("input",{className:"form-check-input",type:"checkbox",defaultChecked:!0})})]}),ne&&e.jsx("small",{className:"text-white-50",children:"Copied!"}),e.jsxs("div",{className:"d-flex justify-content-between gap-2 mt-3",children:[e.jsx(Z,{icon:e.jsx(Ve,{size:16}),label:"Deposit"}),e.jsx(Z,{icon:e.jsx(Qe,{size:16}),label:"Withdraw"}),e.jsx(Z,{icon:e.jsx(_e,{size:16}),label:"History"})]})]})})]}),e.jsxs("div",{className:"px-3 mt-4",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-1",onClick:()=>c(!r),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(Ke,{className:"text-danger"}),e.jsx("span",{className:"fw-medium",children:"Security & Privacy"})]}),e.jsx(b,{style:{transform:r?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:r?300:0,opacity:r?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",style:{backgroundColor:"#fdf0f0ff",borderRadius:8},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1 ",onClick:()=>h(!o),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Change Password"}),e.jsx(b,{size:16,style:{transform:o?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:o?200:0,opacity:o?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsxs("form",{children:[e.jsx(he,{label:"Current Password",value:T.currentPassword,onChange:de,name:"currentPassword"}),e.jsx(he,{label:"New Password",value:T.newPassword,onChange:de,name:"newPassword"}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm mt-2 ",onClick:Re,disabled:ke,children:"save"})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1 ",onClick:()=>$(!d),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Recent Login Activity"}),e.jsx(b,{size:16,style:{transform:d?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:d?200:0,opacity:d?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Device"}),e.jsx("p",{className:"fw-bold text-muted",children:x?.data?.recentLogins[0]?.device})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Location"}),e.jsx("p",{className:"fw-bold text-muted",children:"Wuse, Abuja"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Time"}),e.jsx("p",{className:"fw-bold text-muted",children:ye(x?.data?.recentLogins[0]?.time)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Status"}),e.jsx("p",{className:"fw-bold text-muted",children:x?.data?.recentLogins[0]?.status})]})]}),e.jsx(O,{label:"Two Factor Authentication",defaultChecked:x?.data?.twoFactorEnabled}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Delete/Activate Account"}),e.jsx(b,{size:16})]})]})})})]}),e.jsxs("div",{className:"px-3 mt-1 scrollbar-show",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-3",onClick:()=>f(!l),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(Xe,{className:"text-primary"}),e.jsx("span",{className:"fw-medium",children:"Setting"})]}),e.jsx(b,{style:{transform:l?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:l?500:0,opacity:l?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",style:{backgroundColor:"#f1f9fdff",borderRadius:8},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 ",onClick:()=>F(!w),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Notification & Preferences"}),e.jsx(b,{size:16,style:{transform:w?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:w?200:0,opacity:w?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsx(O,{label:"Push Notification",defaultChecked:x?.data?.settings?.pushNotifications}),e.jsx(O,{label:"Email/SMS Preferences",defaultChecked:x?.data?.settings?.smsNotifications}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Light/Dark Mode"}),e.jsx("p",{children:"System Default"})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1  ",onClick:()=>N(!j),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Save Payment Method"}),e.jsx(b,{size:16,style:{transform:j?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:j?200:0,opacity:j?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Afomo Wallet"}),e.jsx("p",{children:"Virtual-07889900"})]}),e.jsx(O,{label:"Enable Biomtric",defaultChecked:!0}),e.jsx(O,{label:"Enable OTP Confirmation",defaultChecked:!0}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Payment Pin"}),e.jsx(b,{size:16})]})]}),e.jsxs("div",{className:"card border shadow-sm rounded-3  bg-light",children:[e.jsxs("div",{className:"card-body ",style:{maxHeight:300,overflowY:"auto",backgroundColor:"#f1f9fdff",borderRadius:8},children:[e.jsx("div",{className:"text-muted fw-bold",children:"Other Bank Account"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Bank"}),e.jsx("p",{className:"fw-bold text-muted",children:"GTB"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Name"}),e.jsx("p",{className:"fw-bold text-muted",children:"Johh Will"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Account No"}),e.jsx("p",{className:"fw-bold text-muted",children:"0988775566"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Status"}),e.jsx("p",{className:"fw-bold text-muted",children:"Successfull"})]})]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted"})]})]})})})]}),e.jsxs("div",{className:"px-3 mt-1 scrollbar-show",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-3",onClick:()=>p(!v),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(Ge,{className:"text-success"}),e.jsx("span",{className:"fw-medium",children:"Support & Help"})]}),e.jsx(b,{style:{transform:v?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:v?500:0,opacity:v?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",onClick:()=>D(!k),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Help & FAQs"}),e.jsx(b,{size:16,style:{transform:k?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:k?200:0,opacity:k?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(Ye,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",onClick:()=>I(!C),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Contact Support"}),e.jsx(b,{size:16,style:{transform:C?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:C?200:0,opacity:C?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 py-4 ",children:e.jsx("div",{className:"card-body py-2 my-1 text-justify fw-bold text-muted ",children:e.jsx("i",{children:"For questions, complaints, or support; Afomo Support Team Email: support@afomo.app In App Support: Available within the Afomo app"})})})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>E(!A),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Return & Refund Policy"}),e.jsx(b,{size:16,style:{transform:A?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:A?200:0,opacity:A?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(Ze,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>W(!g),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Terms & Condition"}),e.jsx(b,{size:16,style:{transform:g?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:g?200:0,opacity:g?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(es,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>L(!P),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Privacy Policy"}),e.jsx(b,{size:16,style:{transform:P?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:P?200:0,opacity:P?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(ss,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>m(!R),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Report & Abuse"}),e.jsx(b,{size:16,style:{transform:R?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:R?200:0,opacity:R?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(ts,{})})]})})})]}),a&&e.jsx(as,{showProfileModal:a,setShowProfileModal:s,userJson:n,profileData:x,isFetching:Pe}),ae&&e.jsx(is,{showWalletModal:ae,setShowWalletModal:ie}),u&&e.jsx(ls,{showUpgradeModal:u,setShowUpgradeModal:z})]})}function he({label:i,name:n,onChange:r,value:c}){const[o,h]=t.useState(!1);return e.jsx("div",{className:"mb-1",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:o?"text":"password",className:"form-control",placeholder:i,name:n,value:c,onChange:r}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>h(!o),children:o?e.jsx(De,{size:18}):e.jsx(B,{size:18})})]})})}function O({label:i,defaultChecked:n}){return e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-1",children:[e.jsx("p",{className:"fw-bold text-muted",children:i}),e.jsx("div",{className:"form-check form-switch m-0",children:e.jsx("input",{className:"form-check-input ms-3",type:"checkbox",defaultChecked:n})})]})}function Z({icon:i,label:n}){return e.jsxs("button",{className:"btn btn-light btn-sm flex-fill d-flex align-items-center justify-content-center gap-1 fw-semibold",children:[i,e.jsx("span",{children:n})]})}const{phone:ws,jewelShop:vs,bags:ys}=X,Ss=[{id:1,title:"Original Winter Jacket 2XL",amount:"₦29,500",date:"Sat, 06 Jan 2026",type:"credit",img:vs},{id:2,title:"Original Winter Jacket 2XL",amount:"₦29,500",date:"Sat, 06 Jan 2026",type:"credit",img:ws},{id:3,title:"Original Winter Jacket 2XL",amount:"₦29,500",date:"Sat, 06 Jan 2026",type:"credit",img:ys}];function Cs(){return e.jsx("div",{className:"container py-3 ",style:{maxWidth:420},children:e.jsxs("div",{className:"card shadow-sm p-2",style:{border:"2px solid skyblue"},children:[e.jsx("div",{className:"d-flex justify-content-center mb-1",children:e.jsx("p",{className:"fw-bold",children:"My Pay"})}),e.jsx("p",{className:"text-start fw-semibold",children:"Overview"}),e.jsx("div",{className:"card shadow-sm mb-3 p-3",style:{border:"1px solid red"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"wallet-icon me-2",children:e.jsx(Ne,{size:18})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("small",{className:"text-muted",children:"My Sales"}),e.jsx("div",{className:"fw-bold fs-6",children:"₦1,239,187.81"})]}),e.jsx("button",{className:"btn btn-danger btn-sm rounded-pill",children:"Withdraw"})]})}),e.jsx("div",{className:"fw-semibold mb-2",children:"History"}),e.jsx("div",{className:" ",children:Ss.map(i=>e.jsx("div",{className:"card  px-0 p-2 my-1 border-0 ",style:{backgroundColor:"#ecececb7"},children:e.jsxs("div",{className:"d-flex align-items-center px-2",children:[e.jsx("img",{src:i.img,alt:"product",className:"rounded me-2",width:44,height:44}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("small",{className:"text-muted",children:i.date}),e.jsx("div",{className:"fw-semibold small",children:i.title}),e.jsx("div",{className:"fw-semibold text-muted",children:i.amount})]}),e.jsx("div",{className:"text-end",children:i.type==="credit"?e.jsx(ps,{size:14,className:"text-success"}):e.jsx(bs,{size:14,className:"text-danger"})})]})},i.id))}),e.jsx("style",{children:`
        .wallet-icon {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: #eaf2ff;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #0d6efd;
        }
      `})]})})}const{google:ks,phone:Ps,jewelShop:zs,bags:Rs,avatar:Fs,defaultProduct:As}=X,Es=[{id:1,view:300,img:ks},{id:2,view:500,img:Ps},{id:3,view:700,img:zs},{id:4,view:200,img:Rs}],Ls=i=>new Date(i).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}).toLowerCase();function Ts(){const[i,n]=t.useState("New"),r=H(),[c,o]=t.useState({}),{data:h=[],isLoading:j,error:N}=G({queryKey:[`${$e}`]});return console.log(h?.data?.items),e.jsxs("div",{className:"container px-0",style:{maxWidth:420},children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom"}),e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx(je,{className:"text-white me-2 btn btn-primary",style:{width:42,height:42,borderRadius:"50%"}}),e.jsx("input",{className:"form-control bg-light border-0 rounded-pill",placeholder:"Search chats"}),e.jsx(pe,{className:"text-white ms-2 btn btn-primary",style:{width:42,height:42,borderRadius:"50%"}})]})}),e.jsxs("div",{className:"px-3 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Recently viewed"}),e.jsx("div",{className:"d-flex gap-3 mt-2 overflow-auto ",children:Es.map(l=>e.jsxs("div",{className:"text-center position-relative",children:[e.jsx("img",{src:l.img,className:"rounded",width:"80",height:"120",alt:""}),e.jsxs("div",{className:"position-absolute fw-bold text-center text-white",style:{bottom:"10px",left:"25px"},children:[e.jsx(B,{size:20}),e.jsx("small",{className:"d-block ",children:l.view})]})]},l.id))})]}),e.jsx("div",{className:"px-3 mt-3",children:e.jsx("div",{className:"filter-pill fw-semibold",children:["New","Pending"].map(l=>e.jsx("span",{className:`filter-item ${i===l?"active text-primary":"text-white"}`,onClick:()=>n(l),children:l},l))})}),e.jsx("div",{className:"mt-3",children:h?.data?.items.map(l=>e.jsxs("div",{className:"d-flex align-items-center px-3 py-2 chat-row",onClick:()=>r(`/dashboard/chat/${l.product?.id}/${l.participants[1]?.user.id}/${l.participants[0]?.user.id}`),children:[e.jsx("img",{src:l.product?.images[0]?.url||As,className:"rounded-circle me-3",width:"48",height:"48",alt:""}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("h6",{className:"mb-0",children:l.product.name}),e.jsx("small",{className:"text-muted",children:Ls(l.product?.createdAt)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("img",{src:Fs,alt:"user",className:"rounded-circle ",style:{width:30,height:30,objectFit:"cover"}}),e.jsx("small",{className:"text-muted",children:l.messages[0]?.content}),l.unreadCount>0?e.jsx("span",{className:"badge bg-primary rounded-pill",children:l.unreadCount}):e.jsx(rs,{size:16,className:"text-primary"})]})]})]},l.id))})]})}const U=["https://images.unsplash.com/photo-1527980965255-d3b416303d12","https://images.unsplash.com/photo-1527980965255-d3b416303d12","https://images.unsplash.com/photo-1527980965255-d3b416303d12"];function Ms(){const[i,n]=t.useState(!1),[r,c]=t.useState(0),[o,h]=t.useState(!1);t.useEffect(()=>{document.body.style.overflow=i?"hidden":"auto"},[i]);const j=f=>{c(f),n(!0)},N=()=>c(f=>(f+1)%U.length),l=()=>c(f=>(f-1+U.length)%U.length);return e.jsxs("div",{className:"container py-3",style:{maxWidth:420},children:[e.jsxs("div",{className:"position-relative rounded-2 ",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1527980965255-d3b416303d12",alt:"profile",className:"w-100",style:{height:250,objectFit:"cover"}}),e.jsx(fe,{size:24,className:"share-profile text-white",role:"button",onClick:()=>h(!o)}),o&&e.jsx("div",{className:"dropdown-menu-custom p-3",children:e.jsx("div",{className:"dropdown-item",children:"Share Profile"})}),e.jsx("div",{className:"position-absolute w-100 px-3  translate-middle-y",children:e.jsx("div",{className:"card border-0 shadow text-white",style:{borderRadius:"18px",background:"linear-gradient(180deg, #0d6efd 0%, #0b5ed7 100%)",opacity:.9},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{children:"John Doe"}),e.jsxs("h5",{className:"fw-bold mb-1",children:["jo****@*****.com"," ",e.jsx(be,{size:10,className:"text-white"})]})]}),e.jsx("div",{className:"d-flex gap-2"})]}),e.jsxs("div",{className:"bg-white text-dark  p-3",style:{borderRadius:14},children:[e.jsxs("div",{className:"row g-2 small mb-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Username"}),e.jsx("div",{className:"fw-semibold",children:"jo***"})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Store"}),e.jsx("div",{className:"fw-semibold",children:"Sango Ota"})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Rating"}),e.jsxs("div",{className:"fw-semibold",children:[e.jsx(Y,{size:14,className:"text-warning"}),e.jsx(Y,{size:14,className:"text-warning"}),e.jsx(Y,{size:14,className:"text-warning"})," 4.5"]})]})]}),e.jsxs("div",{className:"row g-2 mb-2 small",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Address"}),e.jsx("div",{className:"fw-semibold",children:"Sango Ota"})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Phone"}),e.jsx("div",{className:"fw-semibold",children:"07******677"})]})]})]})]})})})]}),e.jsxs("div",{className:"mb-3 mt-5 py-5",children:[e.jsx("div",{className:"card shadow mt-4",style:{backgroundColor:"#e8f8e8"},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-3 px-3",children:[e.jsxs("div",{className:"px-2 text-center fw-semibold",children:[e.jsx("small",{children:"33"}),e.jsx("p",{children:"Transaction"})]}),e.jsxs("div",{className:"p-1 text-center fw-semibold",children:[e.jsx("small",{children:"33"}),e.jsx("p",{children:"Trust Score"})]}),e.jsxs("div",{className:"p-1 text-center fw-semibold",children:[e.jsx("small",{children:"33"}),e.jsx("p",{children:"Reviews Given"})]})]})}),e.jsx("div",{className:"fw-semibold small mb-2 mt-4",children:"Photos"}),e.jsx("div",{className:"row g-2",children:U.map((f,w)=>e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("div",{className:"photo-tile",onClick:()=>j(w),children:e.jsx("img",{src:f,alt:"gallery"})}),e.jsx("div",{className:"position-absolute fw-bold text-center text-white",style:{bottom:"10px",left:"45px"},children:e.jsx("small",{className:"d-block ",children:"455"})})]})},w))})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-danger rounded-pill px-5",children:"Block User"})}),i&&e.jsxs("div",{className:"photo-viewer",children:[e.jsx("img",{src:U[r],alt:"fullscreen"}),e.jsx("button",{className:"close-btn",onClick:()=>n(!1),children:e.jsx(J,{size:24})}),e.jsx("button",{className:"nav-btn left",onClick:l,children:e.jsx(hs,{size:28})}),e.jsx("button",{className:"nav-btn right",onClick:N,children:e.jsx(b,{size:28})})]})]})}const Ds=()=>{const{user:i}=V(),n=JSON.parse(i),r=H(),[c,o]=t.useState(!1);return e.jsxs("div",{className:"container d-flex justify-content-center py-3",children:[e.jsx("div",{className:"card dashboard-card",children:e.jsxs("div",{className:"card-body p-3",children:[e.jsx("div",{className:"text-start mb-3",children:e.jsxs("small",{className:"text-muted",children:["Welcome, ",n.username]})}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"fw-semibold small mb-2",children:"Quick Actions"})}),e.jsxs("div",{className:"row g-2 ",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>r("seller/tap-to-sell"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(je,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold ",children:"Add New Product"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>r("/dashboard/seller/manage-listing"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(ds,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold py-2",children:"Manage Listing"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Ne,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Wallet"})]})})]}),e.jsxs("div",{className:"row g-2 mt-4",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>r("seller/profile"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(qe,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Profile"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(cs,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Complaints"})]})})]}),e.jsxs("div",{className:"row g-2 mb-3 mt-3",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2 text-white",style:{backgroundColor:"#9a55e9",height:110,width:155,opacity:.9},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#6110ad",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(oe,{size:15,className:"text-white"})}),e.jsx("small",{children:"Total Sales"}),e.jsx("h4",{children:"₦34,010.98"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2 text-white",style:{backgroundColor:"#46d4e7d7",height:110,width:155,opacity:.9},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#4d86ee",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(oe,{size:15,className:"text-white"})}),e.jsx("small",{children:"Total Listings"}),e.jsx("h4",{children:"66"})]})})]})]})}),c&&e.jsx(os,{openSellerForm:c,setOpenSellerForm:o})]})};function Is(){const{user:i}=V(),n=JSON.parse(i),[r,c]=t.useState(!1),o=t.useRef(null),h=H(),[j,N]=t.useState([]),[l,f]=t.useState({});t.useRef(null),t.useRef(null),t.useRef(null);const w=s=>{const u=Array.from(s).map(z=>({file:z,url:URL.createObjectURL(z)}));N(z=>[...z,...u])},F=s=>{N(j.filter((u,z)=>z!==s))},v=()=>{const s={};return m.name||(s.name=!0),m.price||(s.price=!0),m.quantity||(s.quantity=!0),m.description||(s.description=!0),f(s),Object.keys(s).length===0},{mutate:p,isPending:k,isError:D,error:g,isFetching:W,isSuccess:A,data:E}=_({mutationFn:s=>K.post(ce,s,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:s=>{console.log(s),q.success("product created successfully",{autoClose:2e3,onClose:()=>h("/dashboard/seller/tap-to-sell")})},onError:s=>{console.error(" error:",s)}}),{mutate:P,isPending:L,isError:C,error:I,isSuccess:d,data:$}=_({mutationFn:s=>K.post(ce,s),onSuccess:s=>{s?.data&&console.log(s),q.success("product created successfully",{autoClose:2e3,onClose:()=>h("/dashboard/seller/tap-to-sell")})},onError:s=>{q.error(`✅ ${s.message}`,{autoClose:2e3}),setSubmitting(!1),console.log(s)}});console.log(j);const R=()=>{if(!v())return;const s=new FormData;s.append("name",m.name),s.append("price",m.price),s.append("description",m.description),s.append("quantity",m.quantity),s.append("status",m.status),j.forEach(u=>{s.append("images",u.file)}),p(s),c(!0)},[m,a]=t.useState({name:"",price:"",description:"",quantity:"",status:"ACTIVE"});return console.log(m),e.jsx("div",{className:"bg-light min-vh-80 d-flex flex-column",children:e.jsxs("div",{className:"px-3 mt-3",style:{maxWidth:420,width:"100%"},children:[e.jsxs("p",{className:"small text-muted",children:["Welcome, ",e.jsx("strong",{children:n?.username})]}),e.jsxs("div",{className:"card border-0 shadow-sm rounded-4 p-3",children:[e.jsx(ee,{label:"Product Name",value:m.name,onChange:s=>a({...m,name:s})}),e.jsx($s,{label:"Description",value:m.description,onChange:s=>a({...m,description:s})}),e.jsx(ee,{label:"Price",value:m.price,onChange:s=>a({...m,price:s})}),e.jsx(ee,{label:"Quantity",value:m.quantity,onChange:s=>a({...m,quantity:s})}),m.name.length!==0&&e.jsxs("div",{className:"text-center my-2",children:[e.jsx("button",{className:"btn btn-sm btn-primary rounded-pill mx-3",children:e.jsx("span",{className:"px-2",children:"yes"})}),e.jsx("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-2",children:e.jsx("span",{className:"px-2",children:"edit"})})]}),e.jsxs("div",{className:"border rounded p-3 text-center mb-3 bg-light",onClick:()=>o.current.click(),style:{cursor:"pointer"},children:[e.jsx(ge,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to take photo or video"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,video/*",ref:o,onChange:s=>w(s.target.files)}),j.length>0&&e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:j.map((s,u)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:s.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(J,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>F(u)})]},u))}),e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",disabled:r,onClick:R,children:r?e.jsx(we,{className:"spin"}):"Post"})]})]})})}function ee({label:i,value:n,onChange:r}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small text-muted",children:i}),e.jsx("input",{className:"form-control rounded-3",value:n,onChange:c=>r(c.target.value)})]})}function $s({label:i,value:n,onChange:r}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small text-muted",children:i}),e.jsx("textarea",{className:"form-control rounded-3",rows:2,value:n,onChange:c=>r(c.target.value)})]})}const{defaultProduct:qs}=X;function Hs(){const[i,n]=t.useState(null),[r,c]=t.useState(!1),[o,h]=t.useState([]),{token:j}=V(),[N,l]=t.useState(1),[f]=t.useState(10),[w,F]=t.useState(""),[v,p]=t.useState(""),k=H(),D=()=>h(C.map(d=>d.id)),g=()=>h([]),W=()=>{window.confirm("Delete selected products?")&&(setProducts(C.filter(d=>!o.includes(d.id))),g(),c(!1))},A=(d,$)=>{if(d.length<=$)return e.jsx("p",{children:d});const R=`${d.substring(0,$)}...`;return e.jsx("p",{children:R})},{data:E,isLoading:P,isFetching:L}=G({queryKey:["seller-products",N,v],queryFn:async()=>(await fetch(`https://afomo-xagx.onrender.com/api${te}?status=ACTIVE&page=${N}&pageSize=${f}&search=${v}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`}})).json(),keepPreviousData:!0}),C=E?.data?.items||[],I=E?.data?.totalPages||1;return console.log(C),e.jsxs("div",{className:"container py-3",style:{maxWidth:450},children:[e.jsx("div",{className:"px-2 pt-2",children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("span",{className:"input-group-text bg-white",children:e.jsx(pe,{size:16})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search products...",value:w,onChange:d=>F(d.target.value)}),w&&e.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>F(""),children:e.jsx(J,{size:14})})]})}),e.jsx("h6",{className:"fw-bold mb-0 flex-grow-1 text-center py-3",children:"Manage Listing"}),e.jsx("div",{className:"row g-2",children:P?e.jsx(He,{}):e.jsxs(e.Fragment,{children:[C.map(d=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"product-card shadow-sm bg-white rounded-3 position-relative",children:[e.jsxs("div",{className:"product-image-wrapper position-relative",children:[e.jsx("img",{src:d.images[0]?.url||qs,alt:d.name}),e.jsxs("div",{className:"p-1 text-center position-absolute bottom-0 start-0  w-100",style:{backgroundColor:"#1e98e9",opacity:.9,borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:[" ",e.jsxs("span",{className:"text-white",children:[d.quantity," Sold"]})]})]}),e.jsxs("div",{className:"px-2 py-2 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"product-name ",children:A(d.name,20)}),d.price," ",e.jsx("del",{className:" text-muted small",children:e.jsx("small",{children:"14,000"})})]}),e.jsx(me,{className:"text-end  text-primary",size:15,onClick:()=>k(`/dashboard/edit-product/${d.id}`)})]})]})},d.id)),L&&!P&&e.jsx("div",{className:"text-center small py-1 text-muted",children:"Searching..."})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 px-2",children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:N===1||L,onClick:()=>l(d=>d-1),children:"Prev"}),e.jsxs("span",{className:"small fw-semibold",children:["Page ",N," of ",I]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:N===I||L,onClick:()=>l(d=>d+1),children:"Next"})]}),r&&o.length>0&&e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-white border-top p-2 shadow",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:D,children:"Select All"}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:g,children:"Clear"}),e.jsxs("div",{className:"flex-grow-1 text-center small fw-semibold",children:[o.length," selected"]}),e.jsx("button",{className:"btn btn-danger btn-sm",onClick:W,children:e.jsx(xe,{size:16})})]})}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50",onClick:()=>n(null),style:{zIndex:1050}}),e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-white rounded-top-4 p-3",style:{zIndex:1100},children:e.jsxs("div",{className:"list-group list-group-flush",children:[e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3",children:[e.jsx(B,{size:18})," View"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3",children:[e.jsx(me,{size:18})," Edit"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3 text-danger",children:[e.jsx(xe,{size:18})," Delete"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3 text-muted",onClick:()=>n(null),children:[e.jsx(J,{size:18})," Close"]})]})})]})]})}function Ws(){const{user:i}=V();JSON.parse(i);const[n,r]=t.useState(!1),c=t.useRef(null),o=H(),[h,j]=t.useState([]),[N,l]=t.useState({}),{productId:f}=We();t.useRef(null),t.useRef(null),t.useRef(null);const w=a=>{const s=Array.from(a).map(u=>({file:u,url:URL.createObjectURL(u)}));j(u=>[...u,...s])},F=a=>{j(h.filter((s,u)=>u!==a))},v=a=>{k({...p,[a.target.name]:a.target.value})},[p,k]=t.useState({name:"",price:"",description:"",quantity:"",images:"",status:"ACTIVE"}),D=()=>{const a={};return p.name||(a.name=!0),p.price||(a.price=!0),p.quantity||(a.quantity=!0),p.description||(a.description=!0),l(a),Object.keys(a).length===0},{data:g=[],isLoading:W,error:A,isFetching:E}=G({queryKey:[`${te}/${f}`]});console.log(g?.data),t.useEffect(()=>{if(!E&&g){const{name:a,price:s,description:u,quantity:z}=g?.data;k({name:a||"",price:s||"",description:u||"",quantity:z||"",status:"ACTIVE"})}},[E,g]);const{mutate:P,isPending:L,isError:C,error:I,isFetching:d,isSuccess:$,data:R}=_({mutationFn:a=>K.put(`${te}/${f}`,a,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:a=>{console.log(a),q.success("product updated successfully",{autoClose:2e3,onClose:()=>o("/dashboard/seller/manage-listing")})},onError:a=>{console.error(" error:",a)}}),m=()=>{if(!D())return;const a=new FormData;a.append("name",p.name),a.append("price",p.price),a.append("description",p.description),a.append("quantity",p.quantity),a.append("status",p.status),h.forEach(s=>{a.append("images",s.file)}),P(a),r(!0),setTimeout(()=>{r(!1)},1500)};return e.jsx("div",{className:"bg-light min-vh-80 d-flex flex-column",children:e.jsx("div",{className:"px-3 mt-3",style:{maxWidth:420,width:"100%"},children:e.jsxs("div",{className:"card border-0 shadow-sm rounded-4 p-3",children:[e.jsx(se,{label:"Product Name",value:g?.data?.name,name:"name",onChange:v}),e.jsx(Os,{label:"Description",name:"description",value:p.description,onChange:v}),e.jsx(se,{label:"Price",value:p.price,name:"price",onChange:v}),e.jsx(se,{label:"Quantity",name:"quantity",value:p.quantity,onChange:v}),e.jsxs("div",{className:"border rounded p-3 text-center mb-3 bg-light",onClick:()=>c.current.click(),style:{cursor:"pointer"},children:[e.jsx(ge,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to take photo or video"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,video/*",ref:c,onChange:a=>w(a.target.files)}),h.length>0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:h.map((a,s)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:a.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(J,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>F(s)})]},s))})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:g?.data?.images?.map((a,s)=>e.jsx("div",{className:"position-relative",children:e.jsx("img",{src:a.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"})},a.id))})}),e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",disabled:n,onClick:m,children:n?e.jsx(we,{className:"spin"}):"Edit"})]})})})}function se({label:i,value:n,onChange:r,name:c}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small text-muted",children:i}),e.jsx("input",{className:"form-control rounded-3",value:n,name:c,onChange:r})]})}function Os({label:i,value:n,onChange:r,name:c}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small text-muted",children:i}),e.jsx("textarea",{className:"form-control rounded-3",rows:2,value:n,name:c,onChange:r})]})}function Gs(){return e.jsx(Oe,{children:e.jsxs(S,{path:"/",element:e.jsx(ns,{}),children:[e.jsx(S,{index:!0,element:e.jsx(Ds,{})}),e.jsx(S,{path:"/seller/tap-to-sell",element:e.jsx(ms,{})}),e.jsx(S,{path:"seller/manage-listing",element:e.jsx(Hs,{})}),e.jsx(S,{path:"seller/profile",element:e.jsx(Ns,{})}),e.jsx(S,{path:"seller/seller-mypay/:id",element:e.jsx(Cs,{})}),e.jsx(S,{path:"chat/:productId/:sellerId/:buyerId",element:e.jsx(us,{})}),e.jsx(S,{path:"seller-chat/",element:e.jsx(xs,{})}),e.jsx(S,{path:"seller-chat-display",element:e.jsx(Ts,{})}),e.jsx(S,{path:"add-product",element:e.jsx(Is,{})}),e.jsx(S,{path:"seller/buyer-profile/:id",element:e.jsx(Ms,{})}),e.jsx(S,{path:"edit-product/:productId",element:e.jsx(Ws,{})})]})})}export{Gs as default};
