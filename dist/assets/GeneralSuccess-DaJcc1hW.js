import{i as d,r as t,u as H,a as T,j as e,M as F,P as I,b as P,X as A,y as W,d as q,t as $,l as G,w as U,x as V}from"./index-DG7xJYxk.js";const B=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],te=d("book-check",B);const D=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],se=d("check-check",D);const J=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ne=d("dollar-sign",J);const O=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],re=d("loader-circle",O);const X=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],ae=d("person-standing",X);const K=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ie=d("save",K);const Q=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ce=d("square-pen",Q);const Y=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Z=d("trash-2",Y);function oe(){const[s,r]=t.useState(!1),o=t.useRef(null),[n,u]=t.useState(""),[p,a]=t.useState(null),{user:h}=H(),l=JSON.parse(h),x=t.useRef(""),z=t.useRef(""),[S,C]=t.useState(60),k=t.useRef(!1),g=t.useRef(null),j=t.useRef(null);t.useEffect(()=>{const i=window.SpeechRecognition||window.webkitSpeechRecognition;if(!i){alert("Speech recognition not supported in this browser");return}const c=new i;return c.continuous=!0,c.interimResults=!0,c.lang="en-US",c.onresult=w=>{let _="";for(let y=w.resultIndex;y<w.results.length;y++){const m=w.results[y][0].transcript.trim();if(w.results[y].isFinal){const N=x.current.trim();if(m.startsWith(N)){const b=m.slice(N.length).trim();b&&(x.current+=" "+b,R(b))}else N.includes(m)||(x.current+=" "+m,R(m))}else _+=m+" "}u(x.current.trim()+" "+_),M()},c.onend=()=>{if(k.current)try{c.start()}catch{}},g.current=c,()=>{c.stop()}},[]);const R=i=>{i.toLowerCase().includes("sell")?a("Sell Intent"):a("Listening...")},E=()=>{x.current="",z.current="",u(""),a("Listening..."),r(!0),k.current=!0,C(60);try{g.current.start()}catch{}j.current=setInterval(()=>{C(i=>i<=1?(v(),0):i-1)},1e3),M()},M=()=>{clearTimeout(o.current),o.current=setTimeout(()=>{v()},4e3)};t.useEffect(()=>()=>{g.current?.stop(),clearInterval(j.current)},[]);const v=()=>{k.current=!1,r(!1),g.current?.stop(),clearInterval(j.current),clearTimeout(o.current)},f=T();t.useEffect(()=>{if(!s&&n.trim()){const i=setTimeout(()=>{l.accountType==="AGENT"?f(`/dashboard/agent/add-product/${encodeURIComponent(n.trim())}`):f(`/dashboard/add-product/${encodeURIComponent(n.trim())}`)},500);return()=>clearTimeout(i)}},[s,n,f]);const L=()=>{l.accountType==="AGENT"?f("/dashboard/agent/add-product/sell"):f("/dashboard/add-product/sell")};return e.jsxs("div",{className:"d-flex flex-column bg-white",style:{minHeight:"70vh"},children:[e.jsx("div",{className:"px-3 mt-2",children:e.jsxs("small",{className:"text-muted",children:["Welcome, ",l.username]})}),e.jsxs("div",{className:"flex-grow-1 d-flex flex-column justify-content-center align-items-center text-center",children:[s&&e.jsxs("div",{className:"mb-5 text-primary fw-semibold",children:[S,"s"]}),e.jsx("h3",{className:"fw-semibold mb-4",children:s?p:"Tap To Sell"}),e.jsxs("div",{className:`mic-glow-wrapper ${s?"active":""}`,onClick:s?v:E,children:[s&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"glow-ring r1"}),e.jsx("span",{className:"glow-ring r2"}),e.jsx("span",{className:"glow-ring r3"}),e.jsx("span",{className:"glow-ring r4"})]}),e.jsx("div",{className:"mic-inner",children:e.jsx(F,{size:46,className:"text-primary"})})]}),e.jsx("button",{className:"btn btn-light mt-4",style:{width:42,height:42,borderRadius:8,border:"1px solid #CFE1FF"},onClick:L,children:e.jsx(I,{size:18,className:"text-primary"})}),s&&e.jsxs("small",{className:"d-block mt-2 text-muted",children:["Listeningâ€¦ ",S,"s"]}),n&&e.jsxs("div",{className:"alert alert-light mt-3 small",children:['"',n,'"']})]})]})}function le({showDeleteModal:s,setShowDeleteModal:r,productId:o,sellerId:n,bName:u,userJson:p}){T();const{mutate:a,isPending:h}=P({mutationFn:()=>q.delete(`${p?.accountType==="AGENT"?`${$}/${o}?sellerId=${n}`:`${$}/${o}`}`),onSuccess:l=>{r(!1),W.success("product deleted successfully",{autoClose:2e3})},onError:l=>{console.error(" error:",l)}});return e.jsxs("div",{className:"p-3 bg-light min-vh-100",children:[s&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 fade-overlay",onClick:()=>r(!1)}),s&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow   show 
          }`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Are you sure you want to delete?"}),e.jsx(A,{size:20,style:{cursor:"pointer"},onClick:()=>r(!1)})]}),e.jsx("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:e.jsx("div",{className:"text-center",children:e.jsxs("button",{className:"btn btn-danger w-50  rounded-pill",onClick:a,children:[e.jsx(Z,{size:30,className:"px-2 text-white"}),h?"deleting..":"Delete"]})})})]})]})}const de=()=>{const{message:s}=G(),r=T(),[o,n]=t.useState(!1),[u,p]=t.useState({width:window.innerWidth,height:window.innerHeight});return t.useEffect(()=>{const a=setTimeout(()=>{r("/dashboard")},4e3);return()=>clearTimeout(a)},[r]),t.useEffect(()=>{n(!0);const a=setTimeout(()=>{n(!1)},4e3),h=()=>{p({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",h),()=>{clearTimeout(a),window.removeEventListener("resize",h)}},[]),e.jsxs("div",{className:"d-flex flex-column align-items-center text-center p-4",style:{minHeight:"70vh",position:"relative",overflow:"hidden"},children:[o&&e.jsx(U,{width:u.width,height:u.height,recycle:!0}),e.jsx("div",{className:"d-flex align-items-center justify-content-center mb-3",style:{width:"140px",height:"140px",backgroundColor:"#f8f9fa",borderRadius:"12px"},children:e.jsx(V,{size:70,color:"#2ecc71",strokeWidth:1.5})}),e.jsxs("h1",{className:"mt-2 fw-semibold",children:[" ",s]}),e.jsxs("p",{className:"mt-3 text-muted",style:{maxWidth:"320px"},children:[e.jsx("br",{}),e.jsx("br",{}),"Cheers ðŸŽ‰"]})]})};export{te as B,se as C,ne as D,de as G,re as L,ae as P,ie as S,Z as T,ce as a,le as b,oe as c};
