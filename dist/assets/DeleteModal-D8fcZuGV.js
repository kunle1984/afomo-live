import{h as a,r as t,u as F,a as M,j as e,M as E,P as H,b as z,X as I,y as q,e as A,q as S}from"./index-DCjry9_w.js";const P=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],Q=a("book-check",P);const V=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Y=a("check-check",V);const U=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Z=a("dollar-sign",U);const W=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ee=a("loader-circle",W);const G=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],te=a("person-standing",G);const B=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],se=a("save",B);const D=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ne=a("square-pen",D);const J=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],O=a("trash-2",J);const X=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ae=a("wallet",X);function ce(){const[s,o]=t.useState(!1),l=t.useRef(null),[c,f]=t.useState(""),[g,d]=t.useState(null),{user:y}=F(),r=JSON.parse(y),k=t.useRef(""),N=t.useRef(""),[b,R]=t.useState(60),v=t.useRef(!1),m=t.useRef(null),C=t.useRef(null);t.useEffect(()=>{const i=window.SpeechRecognition||window.webkitSpeechRecognition;if(!i){alert("Speech recognition not supported in this browser");return}const n=new i;return n.continuous=!0,n.interimResults=!0,n.lang="en-US",n.onresult=p=>{let T="";for(let x=p.resultIndex;x<p.results.length;x++){const h=p.results[x][0].transcript.trim();p.results[x].isFinal?h!==N.current&&(k.current+=h+" ",N.current=h,_(h)):T+=h+" "}f(k.current+T),j()},n.onend=()=>{if(v.current)try{n.start()}catch{}},m.current=n,()=>{n.stop()}},[]);const _=i=>{i.toLowerCase().includes("sell")?d("Sell Intent"):d("Listening...")},$=()=>{k.current="",N.current="",f(""),d("Listening..."),o(!0),v.current=!0,R(60);try{m.current.start()}catch{}startCountdown(),j()},j=()=>{clearTimeout(l.current),l.current=setTimeout(()=>{w()},4e3)};t.useEffect(()=>()=>{m.current?.stop(),clearInterval(C.current)},[]);const w=()=>{v.current=!1,o(!1),m.current?.stop()},u=M();t.useEffect(()=>{if(!s&&c.trim()){const i=setTimeout(()=>{r.accountType==="AGENT"?u(`/dashboard/agent/add-product/${encodeURIComponent(c.trim())}`):u(`/dashboard/add-product/${encodeURIComponent(c.trim())}`)},500);return()=>clearTimeout(i)}},[s,c,u]);const L=()=>{r.accountType==="AGENT"?u("/dashboard/agent/add-product/sell"):u("/dashboard/add-product/sell")};return e.jsxs("div",{className:"d-flex flex-column bg-white",style:{minHeight:"70vh"},children:[e.jsx("div",{className:"px-3 mt-2",children:e.jsxs("small",{className:"text-muted",children:["Welcome, ",r.username]})}),e.jsxs("div",{className:"flex-grow-1 d-flex flex-column justify-content-center align-items-center text-center",children:[s&&e.jsxs("div",{className:"mb-5 text-primary fw-semibold",children:[b,"s"]}),e.jsx("h3",{className:"fw-semibold mb-4",children:s?g:"Tap To Sell"}),e.jsxs("div",{className:`mic-glow-wrapper ${s?"active":""}`,onClick:s?w:$,children:[s&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"glow-ring r1"}),e.jsx("span",{className:"glow-ring r2"}),e.jsx("span",{className:"glow-ring r3"}),e.jsx("span",{className:"glow-ring r4"})]}),e.jsx("div",{className:"mic-inner",children:e.jsx(E,{size:46,className:"text-primary"})})]}),e.jsx("button",{className:"btn btn-light mt-4",style:{width:42,height:42,borderRadius:8,border:"1px solid #CFE1FF"},onClick:L,children:e.jsx(H,{size:18,className:"text-primary"})}),s&&e.jsxs("small",{className:"d-block mt-2 text-muted",children:["Listeningâ€¦ ",b,"s"]}),c&&e.jsxs("div",{className:"alert alert-light mt-3 small",children:['"',c,'"']})]})]})}function re({showDeleteModal:s,setShowDeleteModal:o,productId:l,sellerId:c,bName:f,userJson:g}){M();const{mutate:d,isPending:y}=z({mutationFn:()=>A.delete(`${g?.accountType==="AGENT"?`${S}/${l}?sellerId=${c}`:`${S}/${l}`}`),onSuccess:r=>{o(!1),q.success("product deleted successfully",{autoClose:2e3})},onError:r=>{console.error(" error:",r)}});return e.jsxs("div",{className:"p-3 bg-light min-vh-100",children:[s&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 fade-overlay",onClick:()=>o(!1)}),s&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow   show 
          }`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Are you sure you want to delete?"}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>o(!1)})]}),e.jsx("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:e.jsx("div",{className:"text-center",children:e.jsxs("button",{className:"btn btn-danger w-50  rounded-pill",onClick:d,children:[e.jsx(O,{size:30,className:"px-2 text-white"}),y?"deleting..":"Delete"]})})})]})]})}export{Q as B,Y as C,Z as D,ee as L,te as P,se as S,O as T,ae as W,ne as a,re as b,ce as c};
