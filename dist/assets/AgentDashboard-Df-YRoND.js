import{h as W,r as s,o as We,j as e,M as re,X as Y,u as he,a as I,b as ue,c as Z,P as Be,E as G,y as ne,e as xe,s as Oe,d as Ue,p as _e,q as Ce,t as ke,S as pe,v as le,k as Ve,m as Qe,n as je,U as Je,L as Ke,l as me,R as Ye,f as C}from"./index-C66YhEwP.js";import{p as Ge,D as X,L as Pe,C as Xe,B as Ze,W as es,P as ss,A as ts,S as we,T as ve,a as as}from"./TapToSell-Ck2qU6YP.js";import{a as ze,u as H,E as is,B as ns,C as ls,b as rs,A as cs,c as ds,H as os,S as ms,d as y,e as hs,f as us,F as xs,R as ps,T as js,P as gs,g as fs,h as bs,Q as Ns,U as ws,n as Re,j as vs,L as ys}from"./Layout-CaVxGrcS.js";const Ss=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Le=W("chevron-down",Ss);const Cs=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ae=W("file-text",Cs);const ks=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ps=W("funnel",ks);const zs=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ge=W("package",zs);const Rs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ls=W("plus",Rs);const As=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Es=W("store",As);const Ts=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ee=W("tag",Ts);const Ds=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],Fs=W("user-round-plus",Ds);function Is(){const[i,r]=s.useState(!1),[c,a]=s.useState(60),[d,x]=s.useState(""),[t,h]=s.useState(null),E=We(),[p,o]=s.useState({business:"",description:"",price:""}),T=E.state?.form;console.log(T);const g=s.useRef(null),b=s.useRef(null),z=s.useRef(null);s.useEffect(()=>{const u=window.SpeechRecognition||window.webkitSpeechRecognition;if(!u)return;const f=new u;f.lang="en-NG",f.continuous=!0,f.interimResults=!0,f.onresult=N=>{const F=N.results[N.results.length-1][0].transcript;x(F),clearTimeout(b.current),b.current=setTimeout(()=>f.stop(),3e3)},f.onend=()=>w(),g.current=f},[]);const $=()=>{g.current&&(navigator.vibrate?.(30),x(""),a(60),r(!0),g.current.start(),z.current=setInterval(()=>{a(u=>(u<=1&&w(),u-1))},1e3))},w=()=>{if(g.current?.stop(),clearInterval(z.current),r(!1),d){const u=Ge(d);u.confidence>=2&&h(u)}console.log(t)},D=()=>{o(f=>({...f,business:f.business||t.product||"",price:f.price||t.price||"",description:f.description||t.description||""}));const u=JSON.parse(localStorage.getItem("voicePatterns")||"[]");u.push(t),localStorage.setItem("voicePatterns",JSON.stringify(u.slice(-50))),h(null),x("")};return e.jsx("div",{className:"bg-light min-vh-100 p-3",children:e.jsxs("div",{className:"card border-0 shadow rounded-4 p-3",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Create Product"}),e.jsx("input",{className:"form-control mb-2",placeholder:"Business name",value:p.business,onChange:u=>o({...p,business:u.target.value})}),e.jsx("textarea",{className:"form-control mb-2",placeholder:"Description",value:p.description,onChange:u=>o({...p,description:u.target.value})}),e.jsx("input",{className:"form-control",placeholder:"Price",value:p.price,onChange:u=>o({...p,price:u.target.value})}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("div",{onClick:i?w:$,className:"mx-auto d-flex align-items-center justify-content-center",style:{width:80,height:80,borderRadius:"50%",cursor:"pointer",background:i?"radial-gradient(circle, #0d6efd, #6610f2)":"#0d6efd",boxShadow:i?"0 0 25px rgba(13,110,253,.8)":"none",animation:i?"pulse 1.2s infinite":"none",color:"#fff"},children:e.jsx(re,{size:30})}),i&&e.jsxs("small",{className:"d-block mt-2 text-muted",children:["Listeningâ€¦ ",c,"s"]}),d&&e.jsx("div",{className:"alert alert-light mt-3 small",children:d})]}),t&&e.jsxs("div",{className:"card border-0 shadow rounded-4 p-3 mt-3",children:[e.jsx("h6",{className:"fw-bold",children:"Confirm details"}),t.product&&e.jsxs("p",{children:[e.jsx("strong",{children:"Product:"})," ",t.product]}),t.price&&e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," â‚¦",t.price.toLocaleString()]}),t.location&&e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",t.location]}),e.jsxs("div",{className:"d-flex gap-2 mt-2",children:[e.jsxs("button",{className:"btn btn-primary flex-fill",onClick:D,children:[e.jsx(ze,{size:16})," Confirm"]}),e.jsxs("button",{className:"btn btn-outline-secondary flex-fill",onClick:()=>h(null),children:[e.jsx(Y,{size:16})," Edit"]})]})]})]})})}const{avatar:Ms}=Z;function $s(){const{user:i}=he(),r=JSON.parse(i),[c,a]=s.useState(!0),[d,x]=s.useState(!1),[t,h]=s.useState(!1),[E,p]=s.useState(!1),[o,T]=s.useState(!1),[g,b]=s.useState(!1),[z,$]=s.useState(!1),[w,D]=s.useState(!1),[u,f]=s.useState(!1),[N,F]=s.useState(!1),[R,M]=s.useState(!1),[L,B]=s.useState(!1),[m,O]=s.useState(!1),[_,ee]=s.useState(!1),[V,se]=s.useState(!1),[te,ae]=s.useState(!1),Q="0236280645",[J,n]=s.useState(!1),k=I();function A(S){const U=new Date(S),Me=U.getDate(),$e=U.toLocaleString("default",{month:"short"});let ie=U.getHours();const qe=U.getMinutes().toString().padStart(2,"0"),He=ie>=12?"pm":"am";return ie=ie%12||12,`${Me} ${$e}, ${ie}:${qe}${He}`}const[q,l]=s.useState({currentPassword:"",newPassword:""}),{mutate:v,isLoading:P,error:be,data:rt}=ue({mutationFn:S=>xe.put(Oe,S),onSuccess:S=>{console.log(S),ne.success("paswword changed successfully",{autoClose:2e3}),k("/login")},onError:S=>{ne.error(S.message,{autoClose:2e3})}}),{data:j,error:ct,refetch:dt,isFetching:De}=H({queryKey:[_e]}),Fe=async()=>{try{await navigator.clipboard.writeText(Q),n(!0),setTimeout(()=>n(!1),1500)}catch(S){console.error("Copy failed",S)}},Ne=S=>{l({...q,[S.target.name]:S.target.value})},Ie=S=>{S.preventDefault();const U={currentPassword:q.currentPassword,newPassword:q.newPassword,twoFactorEnabled:!1,biometricsEnabled:!1};q.currentPassword.length===0||q.newPassword.length===0||(console.log(U),v(U))};return e.jsxs("div",{className:"bg-light min-vh-100 ",children:[e.jsxs("div",{className:"bg-white p-3 d-flex justify-content-between align-items-center border-bottom",children:[e.jsx("h6",{className:"fw-bold m-0",children:"Profile"}),e.jsx(is,{size:20})]}),e.jsxs("div",{className:"position-relative rounded-2 ",children:[e.jsx("img",{src:j?.data?.profilePicture||Ms,alt:"profile",className:"w-100",style:{height:350,objectFit:"cover"}}),e.jsxs("div",{className:"position-absolute w-100 px-3  translate-middle-y",children:[e.jsx("div",{className:"w-50"}),e.jsx("div",{className:"card border-0 shadow text-white",style:{borderRadius:"18px",background:"linear-gradient(180deg, #0d6efd 0%, #0b5ed7 100%)",opacity:.9},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"fw-bold mb-1",children:[j?.data?.businessName||j?.data?.firstName," "," stores",e.jsx(ns,{size:10,className:"text-white"})]}),e.jsxs("div",{className:"small opacity-75",children:[j?.data?.firstName," ",j?.data?.lastName]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsx("button",{className:"btn btn-light btn-sm rounded-circle",children:e.jsx(Be,{size:16,onClick:()=>ee(!0)})})})]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3 mt-2 small",children:[e.jsxs("span",{children:[e.jsx("small",{children:"NIN:"}),j?.data?.nin," ",e.jsx(G,{size:14,className:"ms-1"})]}),e.jsxs("span",{children:[e.jsx("small",{children:"BVN:"}),j?.data?.bvn," ",e.jsx(G,{size:14,className:"ms-1"})]})]}),e.jsxs("div",{className:"bg-white text-dark mt-3 p-3",style:{borderRadius:14},children:[e.jsxs("div",{className:"row g-2 small mb-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Email"}),e.jsxs("div",{className:"fw-semibold",children:[j?.data?.email," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Store"}),e.jsxs("div",{className:"fw-semibold text-truncate",children:[j?.data?.location," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Rating"}),e.jsxs("div",{className:"fw-semibold",children:[j?.data?.storeRating||5," "]})]})]}),e.jsxs("div",{className:"row g-2 mb-2 small",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Address"}),e.jsxs("div",{className:"fw-semibold text-truncate",children:[" ",j?.data?.location]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Phone"}),e.jsx("div",{className:"fw-semibold small",children:j?.data?.phone})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Reg No"}),e.jsx("div",{className:"fw-semibold",children:j?.data?.businessRegistration})]})]})]})]})})]})]}),e.jsx("div",{style:{height:120}}),e.jsxs("div",{className:"px-3 mt-5",children:[e.jsx("h6",{className:"fw-bold ",children:"My Assets"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-1 mb-3",children:[e.jsx("button",{className:"btn btn-primary rounded-pill btn-sm fs-6 px-4",onClick:()=>ae(!0),children:"Afomo Wallet"}),e.jsx("button",{className:"btn btn-secondary rounded-pill btn-sm fs-6 px-3",children:"Bank"}),e.jsx(ls,{size:30,className:"text-white bg-success rounded-5"})]}),e.jsx("div",{className:"card border-0 text-white shadow-sm",style:{borderRadius:16,background:"linear-gradient(135deg, #FFA500, #FFB703)"},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small fw-semibold d-flex align-items-center gap-1",style:{cursor:"pointer"},onClick:Fe,children:["Virtual Account:",e.jsx("span",{className:"opacity-75",children:Q}),J?e.jsx(ze,{size:14,className:"text-success ms-1"}):e.jsx(rs,{size:14,className:"ms-1"})]}),e.jsx("div",{className:"form-check form-switch m-0",children:e.jsx("input",{className:"form-check-input",type:"checkbox",defaultChecked:!0})})]}),J&&e.jsx("small",{className:"text-white-50",children:"Copied!"}),e.jsxs("div",{className:"d-flex justify-content-between gap-2 mt-3",children:[e.jsx(ce,{icon:e.jsx(cs,{size:16}),label:"Deposit"}),e.jsx(ce,{icon:e.jsx(ds,{size:16}),label:"Withdraw"}),e.jsx(ce,{icon:e.jsx(os,{size:16}),label:"History"})]})]})})]}),e.jsxs("div",{className:"px-3 mt-4",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-1",onClick:()=>a(!c),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(ms,{className:"text-danger"}),e.jsx("span",{className:"fw-medium",children:"Security & Privacy"})]}),e.jsx(y,{style:{transform:c?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:c?300:0,opacity:c?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",style:{backgroundColor:"#fdf0f0ff",borderRadius:8},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1 ",onClick:()=>x(!d),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Change Password"}),e.jsx(y,{size:16,style:{transform:d?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:d?200:0,opacity:d?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsxs("form",{children:[e.jsx(ye,{label:"Current Password",value:q.currentPassword,onChange:Ne,name:"currentPassword"}),e.jsx(ye,{label:"New Password",value:q.newPassword,onChange:Ne,name:"newPassword"}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm mt-2 ",onClick:Ie,disabled:P,children:"save"})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1 ",onClick:()=>B(!L),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Recent Login Activity"}),e.jsx(y,{size:16,style:{transform:L?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:L?200:0,opacity:L?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Device"}),e.jsx("p",{className:"fw-bold text-muted",children:j?.data?.recentLogins[0]?.device})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Location"}),e.jsx("p",{className:"fw-bold text-muted",children:"Wuse, Abuja"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Time"}),e.jsx("p",{className:"fw-bold text-muted",children:A(j?.data?.recentLogins[0]?.time)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Status"}),e.jsx("p",{className:"fw-bold text-muted",children:j?.data?.recentLogins[0]?.status})]})]}),e.jsx(K,{label:"Two Factor Authentication",defaultChecked:j?.data?.twoFactorEnabled}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Delete/Activate Account"}),e.jsx(y,{size:16})]})]})})})]}),e.jsxs("div",{className:"px-3 mt-1 scrollbar-show",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-3",onClick:()=>p(!E),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(hs,{className:"text-primary"}),e.jsx("span",{className:"fw-medium",children:"Setting"})]}),e.jsx(y,{style:{transform:E?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:E?500:0,opacity:E?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",style:{backgroundColor:"#f1f9fdff",borderRadius:8},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 ",onClick:()=>T(!o),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Notification & Preferences"}),e.jsx(y,{size:16,style:{transform:o?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:o?200:0,opacity:o?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsx(K,{label:"Push Notification",defaultChecked:j?.data?.settings?.pushNotifications}),e.jsx(K,{label:"Email/SMS Preferences",defaultChecked:j?.data?.settings?.smsNotifications}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Light/Dark Mode"}),e.jsx("p",{children:"System Default"})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1  ",onClick:()=>h(!t),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Save Payment Method"}),e.jsx(y,{size:16,style:{transform:t?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:t?200:0,opacity:t?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Afomo Wallet"}),e.jsx("p",{children:"Virtual-07889900"})]}),e.jsx(K,{label:"Enable Biomtric",defaultChecked:!0}),e.jsx(K,{label:"Enable OTP Confirmation",defaultChecked:!0}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Payment Pin"}),e.jsx(y,{size:16})]})]}),e.jsxs("div",{className:"card border shadow-sm rounded-3  bg-light",children:[e.jsxs("div",{className:"card-body ",style:{maxHeight:300,overflowY:"auto",backgroundColor:"#f1f9fdff",borderRadius:8},children:[e.jsx("div",{className:"text-muted fw-bold",children:"Other Bank Account"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Bank"}),e.jsx("p",{className:"fw-bold text-muted",children:"GTB"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Name"}),e.jsx("p",{className:"fw-bold text-muted",children:"Johh Will"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Account No"}),e.jsx("p",{className:"fw-bold text-muted",children:"0988775566"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Status"}),e.jsx("p",{className:"fw-bold text-muted",children:"Successfull"})]})]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted"})]})]})})})]}),e.jsxs("div",{className:"px-3 mt-1 scrollbar-show",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-3",onClick:()=>b(!g),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(us,{className:"text-success"}),e.jsx("span",{className:"fw-medium",children:"Support & Help"})]}),e.jsx(y,{style:{transform:g?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:g?500:0,opacity:g?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",onClick:()=>$(!z),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Help & FAQs"}),e.jsx(y,{size:16,style:{transform:z?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:z?200:0,opacity:z?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(xs,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",onClick:()=>M(!R),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Contact Support"}),e.jsx(y,{size:16,style:{transform:R?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:R?200:0,opacity:R?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 py-4 ",children:e.jsx("div",{className:"card-body py-2 my-1 text-justify fw-bold text-muted ",children:e.jsx("i",{children:"For questions, complaints, or support; Afomo Support Team Email: support@afomo.app In App Support: Available within the Afomo app"})})})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>f(!u),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Return & Refund Policy"}),e.jsx(y,{size:16,style:{transform:u?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:u?200:0,opacity:u?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(ps,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>D(!w),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Terms & Condition"}),e.jsx(y,{size:16,style:{transform:w?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:w?200:0,opacity:w?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(js,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>F(!N),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Privacy Policy"}),e.jsx(y,{size:16,style:{transform:N?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:N?200:0,opacity:N?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(gs,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>O(!m),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Report & Abuse"}),e.jsx(y,{size:16,style:{transform:m?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:m?200:0,opacity:m?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(fs,{})})]})})})]}),_&&e.jsx(bs,{showProfileModal:_,setShowProfileModal:ee,userJson:r,profileData:j,isFetching:De}),te&&e.jsx(Ns,{showWalletModal:te,setShowWalletModal:ae}),V&&e.jsx(ws,{showUpgradeModal:V,setShowUpgradeModal:se})]})}function ye({label:i,name:r,onChange:c,value:a}){const[d,x]=s.useState(!1);return e.jsx("div",{className:"mb-1",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:d?"text":"password",className:"form-control",placeholder:i,name:r,value:a,onChange:c}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>x(!d),children:d?e.jsx(Ue,{size:18}):e.jsx(G,{size:18})})]})})}function K({label:i,defaultChecked:r}){return e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-1",children:[e.jsx("p",{className:"fw-bold text-muted",children:i}),e.jsx("div",{className:"form-check form-switch m-0",children:e.jsx("input",{className:"form-check-input ms-3",type:"checkbox",defaultChecked:r})})]})}function ce({icon:i,label:r}){return e.jsxs("button",{className:"btn btn-light btn-sm flex-fill d-flex align-items-center justify-content-center gap-1 fw-semibold",children:[i,e.jsx("span",{children:r})]})}const qs=()=>{const i=I(),[r,c]=s.useState(!1),[a,d]=s.useState({width:window.innerWidth,height:window.innerHeight});return s.useEffect(()=>{const x=setTimeout(()=>{i("/dashboard/agent/tap-to-sell")},4e3);return()=>clearTimeout(x)},[i]),s.useEffect(()=>{c(!0);const x=setTimeout(()=>{c(!1)},4e3),t=()=>{d({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{clearTimeout(x),window.removeEventListener("resize",t)}},[]),e.jsxs("div",{className:"d-flex flex-column align-items-center text-center p-4",style:{minHeight:"70vh",position:"relative",overflow:"hidden"},children:[r&&e.jsx(Ce,{width:a.width,height:a.height,recycle:!0}),e.jsx("div",{className:"d-flex align-items-center justify-content-center mb-3",style:{width:"140px",height:"140px",backgroundColor:"#f8f9fa",borderRadius:"12px"},children:e.jsx(ke,{size:70,color:"#2ecc71",strokeWidth:1.5})}),e.jsx("h1",{className:"mt-2 fw-semibold",children:" Seller Created Successfully"}),e.jsxs("p",{className:"mt-3 text-muted",style:{maxWidth:"320px"},children:[e.jsx("br",{}),e.jsx("br",{}),"Cheers ðŸŽ‰"]})]})},{defaultProduct:Hs}=Z;function Ws(){const[i,r]=s.useState(""),c=I(),{data:a=[],isLoading:d,error:x}=H({queryKey:[`${le}`]});console.log(a?.data);const t=a?.data?.filter(h=>h.businessName.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:[e.jsxs("div",{className:"row  mb-3",children:[e.jsxs("div",{className:"col-10 text-center ",children:[e.jsx("h6",{className:"fw-bold mb-0 flex-grow-1",children:"Manage Sellers"}),e.jsx("span",{className:"text-muted",children:"Seller register under you"})]}),e.jsx("div",{className:"col-2 text-end",children:e.jsx("button",{className:"btn btn-outline-primary btn-sm rounded",children:e.jsx(Ls,{size:16})})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items center mb-1 gap-1",children:[e.jsx("button",{className:"text-white btn btn-primary",style:{width:45,height:45,borderRadius:"50%"},children:e.jsx(re,{size:24,className:"pe-1"})}),e.jsx("input",{className:"form-control rounded-pill",placeholder:"Search sellers",value:i,onChange:h=>r(h.target.value)}),e.jsx("button",{className:"text-white btn btn-primary",style:{width:45,height:45,borderRadius:"50%"},children:e.jsx(pe,{size:24,className:"pe-1"})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items center mb-1",children:[e.jsx("div",{className:"fw-semibold small mb-2",children:"Recently added"}),e.jsxs("div",{className:"text-muted",children:[e.jsx(Ps,{size:16}),e.jsx("span",{className:"ms-1",children:"filter"})]})]}),e.jsx("div",{className:"row g-2",children:t?.map(h=>e.jsx("div",{className:"col-6",onClick:()=>c(`/dashboard/merchant-profile/${h.id}`),children:e.jsxs("div",{className:"card seller-card shadow-sm",children:[e.jsx("div",{className:"seller-img-wrapper position-relative",children:e.jsx("img",{src:h?.image||Hs,alt:h.businessName})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"bg-primary  text-white fw-bold text-center",children:[e.jsx("div",{className:"fw-semibold small text-truncate",children:h.businessName}),e.jsxs("div",{className:"text-light tiny pb-1",children:[h.lastName," ",h.firstName]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-sm w-100 ",children:e.jsx("div",{className:" mt-1 ",children:e.jsxs("small",{className:"text-dark fw-bold ",children:[" ",h.productCount," Posts"]})})})})]})]})},h.id))}),e.jsx("style",{children:`
        .seller-card {
          border-radius: 12px;
          overflow: hidden;
        }

        .seller-img-wrapper {
          height: 120px;
          overflow: hidden;
        }

        .seller-img-wrapper img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .status-badge {
          position: absolute;
          bottom: 6px;
          left: 6px;
          font-size: 10px;
          padding: 4px 6px;
          border-radius: 6px;
        }

        .more-btn {
          position: absolute;
          top: 6px;
          right: 6px;
          padding: 4px;
        }
      `})]})}function Bs(){const i=s.useRef(null),[r,c]=s.useState(!1),[a,d]=s.useState({seller:"",name:"",description:"",price:"",discount:"",quantity:"",status:"ACTIVE"}),[x,t]=s.useState([]),[h,E]=s.useState(!1),[p,o]=s.useState(!1),[T,g]=s.useState(!1),[b,z]=s.useState({}),[$,w]=s.useState({});s.useEffect(()=>{navigator.geolocation.getCurrentPosition(n=>{const{latitude:k,longitude:A}=n.coords;console.log(k,A),w({latitude:k,longitude:A})})},[]);const{data:D=[],isLoading:u,error:f}=H({queryKey:[`${le}`]});console.log(D?.data);const N=n=>{const k=Array.from(n).map(A=>({file:A,url:URL.createObjectURL(A)}));t(A=>[...A,...k])},F=n=>{t(x.filter((k,A)=>A!==n))},R=()=>{const n={};return a.name||(n.name="add product name"),a.price||(n.price="add product price"),a.quantity||(n.quantity="add product quantity"),a.seller||(n.seller="please select seller"),z(n),Object.keys(n).length===0},{mutate:M,isPending:L,isError:B,error:m,isFetching:O,isSuccess:_,data:ee}=ue({mutationFn:n=>xe.post(Ve,n,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:n=>{console.log(n),ne.success("product created successfully",{autoClose:2e3,onClose:()=>se("/dashboard/agent/tap-to-sell")})},onError:n=>{console.error(" error:",n)}}),V=()=>{if(console.log(b),!R())return;const n=new FormData;n.append("name",a.name),n.append("sellerId",a.seller),n.append("price",a.price),n.append("description",a.description),n.append("quantity",a.quantity),n.append("status",a.status),n.append("latitude",$.latitude),n.append("longitude",$.longitude),x.forEach(k=>{n.append("images",k.file)}),M(n),o(!0)},se=I(),[te,ae]=s.useState(0),[Q,J]=s.useState(!1);return s.useRef(0),e.jsx("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:e.jsx("div",{className:"",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"card w-100 shadow-sm",style:{maxWidth:420},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"text-center fw-bold mb-3",children:"Add New Product"}),e.jsxs(fe,{label:"Seller ID",icon:e.jsx(Es,{size:16}),children:[e.jsxs("select",{className:"form-select",value:a.seller,onChange:n=>d({...a,seller:n.target.value}),children:[e.jsx("option",{children:"select seller"}),D?.data?.map(n=>e.jsx("option",{value:n.id,children:n.businessName},n.id))]}),b.seller&&e.jsx("div",{className:"invalid-feedback d-block",children:b.seller})]}),e.jsx(de,{label:"Product Name",icon:e.jsx(Ee,{size:16}),value:a.name,error:b.name,onChange:n=>d({...a,name:n.target.value})}),e.jsx(Os,{label:"Description",icon:e.jsx(Ae,{size:16}),value:a.description,onChange:n=>d({...a,description:n.target.value})}),e.jsx(de,{label:"Price (â‚¦)",icon:e.jsx(X,{size:16}),type:"number",value:a.price,error:b.price,onChange:n=>d({...a,price:n.target.value})}),e.jsx(de,{label:"Quantity",icon:e.jsx(ge,{size:16}),type:"number",value:a.quantity,error:b.quantity,onChange:n=>d({...a,quantity:n.target.value})}),a.name.length!==0&&e.jsxs("div",{className:"text-center my-2",children:[e.jsx("button",{className:"btn btn-sm btn-primary rounded-pill mx-3",children:e.jsx("span",{className:"px-2",children:"yes"})}),e.jsx("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-2",children:e.jsx("span",{className:"px-2",children:"edit"})})]}),e.jsxs("div",{className:"border rounded p-3 text-center my-2 bg-light",onClick:()=>i.current.click(),style:{cursor:"pointer"},children:[e.jsx(Re,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to take photo or video"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,video/*",ref:i,onChange:n=>N(n.target.files)}),x.length>0&&e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:x.map((n,k)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:n.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(Y,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>F(k)})]},k))}),e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",disabled:p,onClick:V,children:p?e.jsx(Pe,{className:"spin"}):"Post"})]})})})})}function fe({label:i,icon:r,children:c}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small fw-semibold",children:i}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:r}),c]})]})}function de({label:i,icon:r,error:c,...a}){return e.jsx(fe,{label:i,icon:r,children:e.jsx("input",{className:`form-control ${c?"shake is-invalid":""}`,...a})})}function Os({label:i,icon:r,...c}){return e.jsx(fe,{label:i,icon:r,children:e.jsx("textarea",{className:"form-control",rows:"3",...c})})}const{google:Us,phone:_s,jewelShop:Vs,bags:Qs,avatar:Js,defaultProduct:Ks}=Z,Ys=i=>new Date(i).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}).toLowerCase(),Gs=[{id:1,view:300,img:Us},{id:2,view:500,img:_s},{id:3,view:700,img:Vs},{id:4,view:200,img:Qs}];function Xs(){const[i,r]=s.useState("New"),c=I(),{data:a=[],isLoading:d,error:x}=H({queryKey:[`${Qe}`]});return console.log(a?.data?.items),e.jsxs("div",{className:"container px-0",style:{maxWidth:420},children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom"}),e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx(re,{className:"text-white me-2 btn btn-primary",style:{width:42,height:42,borderRadius:"50%"}}),e.jsx("input",{className:"form-control bg-light border-0 rounded-pill",placeholder:"Search chats"}),e.jsx(pe,{className:"text-white ms-2 btn btn-primary",style:{width:42,height:42,borderRadius:"50%"}})]})}),e.jsxs("div",{className:"px-3 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Recently viewed"}),e.jsx("div",{className:"d-flex gap-3 mt-2 overflow-auto ",children:Gs.map(t=>e.jsxs("div",{className:"text-center position-relative",children:[e.jsx("img",{src:t.img,className:"rounded",width:"80",height:"120",alt:""}),e.jsxs("div",{className:"position-absolute fw-bold text-center text-white",style:{bottom:"10px",left:"25px"},children:[e.jsx(G,{size:20}),e.jsx("small",{className:"d-block ",children:t.view})]})]},t.id))})]}),e.jsx("div",{className:"px-3 mt-3",children:e.jsx("div",{className:"filter-pill fw-semibold",children:["New","Pending"].map(t=>e.jsx("span",{className:`filter-item ${i===t?"active text-primary":"text-white"}`,onClick:()=>r(t),children:t},t))})}),e.jsx("div",{className:"mt-3 ",children:a?.data?.items?.map(t=>e.jsxs("div",{className:"d-flex align-items-center px-3 py-2 chat-row",onClick:()=>c(`/dashboard/chat/${t.product?.id}/${t.participants[1]?.user.id}/${t.participants[0]?.user.id}`),children:[e.jsx("img",{src:t.product?.images[0]?.url||Ks,className:"rounded-circle me-3",width:"48",height:"48",alt:""}),e.jsxs("div",{className:" me-3 px-1",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"mb-0 text-truncate pe-2 small",children:t.product.name}),e.jsx("small",{className:"text-white text-truncate bg-secondary rounded px-1",children:"Judith Store"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("img",{src:t.participants[1]?.user?.profilePicture||Js,alt:"user",className:"rounded-circle ",style:{width:30,height:30,objectFit:"cover"}}),e.jsx("small",{className:"text-muted text-truncate",children:t.messages[0]?.content}),t.unreadCount>0?e.jsx("span",{className:"badge bg-primary rounded-pill",children:t.unreadCount}):e.jsx(Xe,{size:16,className:"text-primary"})]}),e.jsxs("div",{className:"text-end small",children:[" ",Ys(t.product?.createdAt)]})]})]},t.id))})]})}const{jewelShop:Zs}=Z;function et(){const{sellerId:i}=je(),r=I(),[c,a]=s.useState({seller:""}),{data:d=[],isLoading:x,error:t}=H({queryKey:[`${le}`]}),{data:h=[],isLoading:E,error:p}=H({queryKey:[`${le}/${i}`]});return console.log(h?.data),e.jsxs("div",{className:"container py-3",style:{maxWidth:420},children:[e.jsx("div",{className:"dropdown mb-3",children:e.jsxs("button",{className:"btn btn-light w-100 d-flex align-items-center justify-content-between shadow-sm","data-bs-toggle":"dropdown",children:[e.jsxs("span",{className:"fw-semibold",children:[h?.data?.sellerDetails?.businessName," ("," ",h?.data?.username,")"]}),e.jsx(Le,{size:18})]})}),e.jsxs("div",{className:"card shadow-sm mb-3 overflow-hidden ",children:[e.jsx("img",{src:Zs,alt:"store banner",className:"w-100 position-relative",style:{height:180,objectFit:"cover"}}),e.jsx("div",{className:"p-1 text-center position-absolute bottom-0 start-0  w-100",style:{backgroundColor:"#1e98e9",opacity:.9,borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:e.jsx("button",{className:"btn btn-outline-white btn-sm text-white",onClick:()=>r(`/dashboard/agent/manage-listing/${i}/${h?.data?.sellerDetails?.businessName}`),children:"Manage Listing"})})]}),e.jsxs("div",{className:"row g-2 mb-3",children:[e.jsx(Se,{title:"Total Sales",value:"â‚¦341,89.00",color:"purple",icon:e.jsx(X,{size:16})}),e.jsx(Se,{title:"Total Listings",value:"43",color:"blue",icon:e.jsx(ge,{size:16})})]}),e.jsxs("div",{className:"card p-3 shadow-sm",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"badge bg-success",children:"Trust Score"}),e.jsx("small",{className:"fw-semibold",children:"25%"})]}),e.jsx("input",{type:"range",className:"form-range",value:25,readOnly:!0})]}),e.jsx("style",{children:`
        .stat-card {
          border-radius: 14px;
          padding: 14px;
          color: #fff;
          height: 100%;
        }

        .stat-purple {
          background: #7b5cff;
        }

        .stat-blue {
          background: #4da3ff;
        }

        .stat-icon {
          width: 30px;
          height: 30px;
          border-radius: 8px;
          background: rgba(255,255,255,0.2);
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 6px;
        }
      `})]})}const Se=({title:i,value:r,icon:c,color:a})=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:`stat-card stat-${a}`,children:[e.jsx("div",{className:"stat-icon",children:c}),e.jsx("small",{children:i}),e.jsx("div",{className:"fw-bold fs-6",children:r})]})}),st=()=>{const i=I(),{user:r}=he(),c=JSON.parse(r),[a,d]=s.useState(!1);return e.jsxs("div",{className:"container d-flex justify-content-center py-3",children:[e.jsx("div",{className:"card dashboard-card",children:e.jsxs("div",{className:"card-body p-3",children:[e.jsx("div",{className:"text-start mb-3",children:e.jsxs("small",{className:"text-muted",children:["Welcome, ",c.username]})}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"fw-semibold small mb-2",children:"Quick Actions"})}),e.jsxs("div",{className:"row g-2 ",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>d(!0),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Fs,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold ",children:"Onboard New Seller"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>i("agent/tap-to-sell"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(re,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold ",children:"Add New Product"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>i("/dashboard/agent/manage-sellers"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Ze,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Manage Sellers"})]})})]}),e.jsxs("div",{className:"row g-2 mt-4",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>i("agent/profile"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Je,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Profile"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(es,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Wallet"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(ss,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Complaints"})]})})]}),e.jsxs("div",{className:"row g-2 mb-3 mt-3",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2 text-white",style:{backgroundColor:"#9a55e9",height:110,width:155,opacity:.9},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#6110ad",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(X,{size:15,className:"text-white"})}),e.jsx("small",{children:"Total Sales"}),e.jsx("h4",{children:"â‚¦34,010.98"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2 text-white",style:{backgroundColor:"#46d4e7d7",height:110,width:155,opacity:.9},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#4d86ee",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(X,{size:15,className:"text-white"})}),e.jsx("small",{children:"Total Listings"}),e.jsx("h4",{children:"66"})]})})]})]})}),a&&e.jsx(ts,{openSellerForm:a,setOpenSellerForm:d})]})},tt=()=>{const i=I(),[r,c]=s.useState(!1),[a,d]=s.useState({width:window.innerWidth,height:window.innerHeight});return s.useEffect(()=>{const x=setTimeout(()=>{i("/dashboard/agent/manage-sellers")},4e3);return()=>clearTimeout(x)},[i]),s.useEffect(()=>{c(!0);const x=setTimeout(()=>{c(!1)},4e3),t=()=>{d({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{clearTimeout(x),window.removeEventListener("resize",t)}},[]),e.jsxs("div",{className:"d-flex flex-column align-items-center text-center p-4",style:{minHeight:"70vh",position:"relative",overflow:"hidden"},children:[r&&e.jsx(Ce,{width:a.width,height:a.height,recycle:!0}),e.jsx("div",{className:"d-flex align-items-center justify-content-center mb-3",style:{width:"140px",height:"140px",backgroundColor:"#f8f9fa",borderRadius:"12px"},children:e.jsx(ke,{size:70,color:"#2ecc71",strokeWidth:1.5})}),e.jsx("h1",{className:"mt-2 fw-semibold",children:" Product Created Successfully"}),e.jsxs("p",{className:"mt-3 text-muted",style:{maxWidth:"320px"},children:[e.jsx("br",{}),e.jsx("br",{}),"Cheers ðŸŽ‰"]})]})},{defaultProduct:at}=Z;function it(){const{sellerId:i,bName:r}=je(),[c,a]=s.useState(null),[d,x]=s.useState(!1),[t,h]=s.useState([]),{token:E}=he(),[p,o]=s.useState(1),[T]=s.useState(10),[g,b]=s.useState(""),[z,$]=s.useState(""),w=I(),D=()=>h(L.map(m=>m.id)),u=()=>h([]),f=()=>{window.confirm("Delete selected products?")&&(setProducts(L.filter(m=>!t.includes(m.id))),u(),x(!1))},N=(m,O)=>{if(m.length<=O)return e.jsx("p",{children:m});const _=`${m.substring(0,O)}...`;return e.jsx("p",{children:_})},{data:F,isLoading:R,isFetching:M}=H({queryKey:["seller-products",p,z],queryFn:async()=>(await fetch(`https://afomo-xagx.onrender.com/api${me}/?sellerId=${i}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}})).json(),keepPreviousData:!0}),L=F?.data?.items||[],B=F?.data?.totalPages||1;return console.log(L),e.jsxs("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:[e.jsx("div",{className:"px-2 pt-2",children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("span",{className:"input-group-text bg-white",children:e.jsx(pe,{size:16})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search products...",value:g,onChange:m=>b(m.target.value)}),g&&e.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>b(""),children:e.jsx(Y,{size:14})})]})}),e.jsx("h6",{className:"fw-bold mb-0 flex-grow-1 text-center py-3",children:"Manage Listing"}),e.jsx("div",{className:"row g-2",children:R?e.jsx(Ke,{}):e.jsxs(e.Fragment,{children:[L.map(m=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"product-card shadow-sm bg-white rounded-3 position-relative",children:[e.jsxs("div",{className:"product-image-wrapper position-relative",children:[e.jsx("img",{src:m.images[0]?.url||at,alt:m.name}),e.jsxs("div",{className:"p-1 text-center position-absolute bottom-0 start-0  w-100",style:{backgroundColor:"#1e98e9",opacity:.9,borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:[" ",e.jsxs("span",{className:"text-white",children:[m.quantity," Sold"]})]})]}),e.jsxs("div",{className:"px-2 py-2 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"product-name ",children:N(m.name,20)}),m.price," ",e.jsx("del",{className:" text-muted small",children:e.jsx("small",{children:"14,000"})})]}),e.jsx(we,{className:"text-end  text-primary",size:15,onClick:()=>w(`/dashboard/edit-product/${m.id}/${m.userId}/${r}`)})]})]})},m.id)),M&&!R&&e.jsx("div",{className:"text-center small py-1 text-muted",children:"Searching..."})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 px-2",children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:p===1||M,onClick:()=>o(m=>m-1),children:"Prev"}),e.jsxs("span",{className:"small fw-semibold",children:["Page ",p," of ",B]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:p===B||M,onClick:()=>o(m=>m+1),children:"Next"})]}),d&&t.length>0&&e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-white border-top p-2 shadow",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:D,children:"Select All"}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:u,children:"Clear"}),e.jsxs("div",{className:"flex-grow-1 text-center small fw-semibold",children:[t.length," selected"]}),e.jsx("button",{className:"btn btn-danger btn-sm",onClick:f,children:e.jsx(ve,{size:16})})]})}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50",onClick:()=>a(null),style:{zIndex:1050}}),e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-white rounded-top-4 p-3",style:{zIndex:1100},children:e.jsxs("div",{className:"list-group list-group-flush",children:[e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3",children:[e.jsx(G,{size:18})," View"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3",children:[e.jsx(we,{size:18})," Edit"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3 text-danger",children:[e.jsx(ve,{size:18})," Delete"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3 text-muted",onClick:()=>a(null),children:[e.jsx(Y,{size:18})," Close"]})]})})]})]})}function nt(){const{productId:i,sellerId:r,bName:c}=je(),a=s.useRef(null),[d,x]=s.useState(!1),{data:t=[],isLoading:h,error:E,isFetching:p}=H({queryKey:[`${me}/${i}?sellerId=${r}`]});console.log(t?.data);const[o,T]=s.useState({seller:"",name:"",description:"",price:"",discount:"",quantity:"",status:"ACTIVE"}),[g,b]=s.useState([]),[z,$]=s.useState(!1),[w,D]=s.useState(!1),[u,f]=s.useState(!1),[N,F]=s.useState({}),[R,M]=s.useState({});s.useEffect(()=>{navigator.geolocation.getCurrentPosition(l=>{const{latitude:v,longitude:P}=l.coords;console.log(v,P),M({latitude:v,longitude:P})})},[]);const L=l=>{const v=Array.from(l).map(P=>({file:P,url:URL.createObjectURL(P)}));b(P=>[...P,...v])},B=l=>{b(g.filter((v,P)=>P!==l))},m=()=>{const l={};return o.name||(l.name="add product name"),o.price||(l.price="add product price"),o.quantity||(l.quantity="add product quantity"),F(l),Object.keys(l).length===0};s.useEffect(()=>{if(!p&&t){const{name:l,price:v,description:P,quantity:be}=t?.data;T({name:l||"",price:v||"",description:P||"",quantity:be||"",status:"ACTIVE"})}},[p,t]);const{mutate:O,isPending:_,isError:ee,error:V,isFetching:se,isSuccess:te,data:ae}=ue({mutationFn:l=>xe.put(`${me}/${i}`,l,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:l=>{console.log(l),ne.success("product updated successfully",{autoClose:2e3,onClose:()=>J(`/dashboard/agent/manage-listing/${r}/${c}`)})},onError:l=>{console.error(" error:",l)}}),Q=()=>{if(console.log(N),!m())return;const l=new FormData;l.append("name",o.name),l.append("sellerId",r),l.append("price",o.price),l.append("description",o.description),l.append("quantity",o.quantity),l.append("status",o.status),l.append("latitude",R.latitude),l.append("longitude",R.longitude),g.forEach(v=>{l.append("images",v.file)}),O(l),D(!0)},J=I(),[n,k]=s.useState(0),[A,q]=s.useState(!1);return s.useRef(0),e.jsx("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:e.jsx("div",{className:"",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"card w-100 shadow-sm",style:{maxWidth:420},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"text-center fw-bold mb-3",children:"Edit Product"}),e.jsx("div",{className:"dropdown mb-3",children:e.jsxs("button",{className:"btn btn-light w-100 d-flex align-items-center justify-content-between shadow-sm","data-bs-toggle":"dropdown",children:[e.jsx("span",{className:"fw-semibold",children:c}),e.jsx(Le,{size:18})]})}),e.jsx(oe,{label:"Product Name",icon:e.jsx(Ee,{size:16}),value:o.name,error:N.name,onChange:l=>T({...o,name:l.target.value})}),e.jsx(lt,{label:"Description",icon:e.jsx(Ae,{size:16}),value:o.description,onChange:l=>T({...o,description:l.target.value})}),e.jsx(oe,{label:"Price (â‚¦)",icon:e.jsx(X,{size:16}),type:"number",value:o.price,error:N.price,onChange:l=>T({...o,price:l.target.value})}),e.jsx(oe,{label:"Quantity",icon:e.jsx(ge,{size:16}),type:"number",value:o.quantity,error:N.quantity,onChange:l=>T({...o,quantity:l.target.value})}),o.name?.length!==0&&e.jsxs("div",{className:"text-center my-2",children:[e.jsx("button",{className:"btn btn-sm btn-primary rounded-pill mx-3",children:e.jsx("span",{className:"px-2",children:"yes"})}),e.jsx("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-2",children:e.jsx("span",{className:"px-2",children:"edit"})})]}),e.jsxs("div",{className:"border rounded p-3 text-center my-2 bg-light",onClick:()=>a.current.click(),style:{cursor:"pointer"},children:[e.jsx(Re,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to take photo or video"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,video/*",ref:a,onChange:l=>L(l.target.files)}),g.length>0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:g.map((l,v)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:l.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(Y,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>B(v)})]},v))})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:t?.data?.images?.map((l,v)=>e.jsx("div",{className:"position-relative",children:e.jsx("img",{src:l.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"})},l.id))})}),e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",disabled:w,onClick:Q,children:w?e.jsx(Pe,{className:"spin"}):"Edit"})]})})})})}function Te({label:i,icon:r,children:c}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small fw-semibold",children:i}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:r}),c]})]})}function oe({label:i,icon:r,error:c,...a}){return e.jsx(Te,{label:i,icon:r,children:e.jsx("input",{className:`form-control ${c?"shake is-invalid":""}`,...a})})}function lt({label:i,icon:r,...c}){return e.jsx(Te,{label:i,icon:r,children:e.jsx("textarea",{className:"form-control",rows:"3",...c})})}function ut(){return e.jsx(Ye,{children:e.jsxs(C,{path:"/",element:e.jsx(ys,{}),children:[e.jsx(C,{index:!0,element:e.jsx(st,{})}),e.jsx(C,{path:"agent/tap-to-sell",element:e.jsx(as,{})}),e.jsx(C,{path:"seller-form",element:e.jsx(Is,{})}),e.jsx(C,{path:"agent/profile",element:e.jsx($s,{})}),e.jsx(C,{path:"seller-created-success",element:e.jsx(qs,{})}),e.jsx(C,{path:"product-created-success",element:e.jsx(tt,{})}),e.jsx(C,{path:"agent/manage-listing/:sellerId/:bName",element:e.jsx(it,{})}),e.jsx(C,{path:"edit-product/:productId/:sellerId/:bName",element:e.jsx(nt,{})}),e.jsx(C,{path:"agent/manage-sellers",element:e.jsx(Ws,{})}),e.jsx(C,{path:"agent/add-product",element:e.jsx(Bs,{})}),e.jsx(C,{path:"chat/:productId/:sellerId/:buyerId",element:e.jsx(vs,{})}),e.jsx(C,{path:"agent-chat-display",element:e.jsx(Xs,{})}),e.jsx(C,{path:"merchant-profile/:sellerId",element:e.jsx(et,{})})]})})}export{ut as default};
