import{i as w,C as ct,D as Re,F as O,G as de,H as Z,I as he,J as me,K as Ee,N as dt,O as ee,Q as ht,V as mt,W as Te,Y as Be,r as n,Z as ut,_ as Oe,j as e,X as I,c as Y,b as J,U as Ue,$ as pt,y as te,d as se,a0 as xt,p as ft,a as xe,u as fe,l as yt,M as $e,k as bt,a1 as gt,m as le,a2 as jt}from"./index-DG7xJYxk.js";const vt=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],aa=w("arrow-down-to-line",vt);const Nt=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],ia=w("arrow-up-from-line",Nt);const wt=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ra=w("badge-alert",wt);const kt=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ct=w("building-2",kt);const St=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ye=w("camera",St);const Rt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ae=w("check",Rt);const Et=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Tt=w("chevron-left",Et);const At=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pe=w("chevron-right",At);const Pt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],na=w("circle-arrow-down",Pt);const Lt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],oa=w("circle-arrow-up",Lt);const It=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],De=w("circle-check-big",It);const Ft=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Mt=w("circle-minus",Ft);const zt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_t=w("circle-plus",zt);const Bt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],la=w("circle-question-mark",Bt);const Ot=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ut=w("copy",Ot);const $t=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Le=w("ellipsis-vertical",$t);const Dt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ca=w("history",Dt);const Qt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Yt=w("layout-grid",Qt);const Wt=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qt=w("log-out",Wt);const Ht=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qe=w("map-pin",Ht);const Vt=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Kt=w("pause",Vt);const Xt=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ue=w("phone",Xt);const Gt=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Zt=w("play",Gt);const Jt=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],es=w("qr-code",Jt);const ts=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],da=w("settings",ts);const ss=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],as=w("shield-check",ss);const is=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ie=w("video",is);const rs=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ns=w("wallet",rs);var os=class extends ct{constructor(t,s){super(),this.options=s,this.#s=t,this.#i=null,this.#a=Re(),this.bindMethods(),this.setOptions(s)}#s;#e=void 0;#p=void 0;#t=void 0;#n;#d;#a;#i;#x;#h;#m;#o;#l;#r;#u=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Fe(this.#e,this.options)?this.#c():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pe(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pe(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#v(),this.#e.removeObserver(this)}setOptions(t){const s=this.options,a=this.#e;if(this.options=this.#s.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof O(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),s._defaulted&&!de(this.options,s)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Me(this.#e,a,this.options,s)&&this.#c(),this.updateResult(),r&&(this.#e!==a||O(this.options.enabled,this.#e)!==O(s.enabled,this.#e)||Z(this.options.staleTime,this.#e)!==Z(s.staleTime,this.#e))&&this.#f();const o=this.#y();r&&(this.#e!==a||O(this.options.enabled,this.#e)!==O(s.enabled,this.#e)||o!==this.#r)&&this.#b(o)}getOptimisticResult(t){const s=this.#s.getQueryCache().build(this.#s,t),a=this.createResult(s,t);return cs(this,a)&&(this.#t=a,this.#d=this.options,this.#n=this.#e.state),a}getCurrentResult(){return this.#t}trackResult(t,s){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),s?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,r))})}trackProp(t){this.#u.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#s.defaultQueryOptions(t),a=this.#s.getQueryCache().build(this.#s,s);return a.fetch().then(()=>this.createResult(a,s))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#N();let s=this.#e.fetch(this.options,t);return t?.throwOnError||(s=s.catch(he)),s}#f(){this.#j();const t=Z(this.options.staleTime,this.#e);if(me||this.#t.isStale||!Ee(t))return;const a=dt(this.#t.dataUpdatedAt,t)+1;this.#o=ee.setTimeout(()=>{this.#t.isStale||this.updateResult()},a)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#v(),this.#r=t,!(me||O(this.options.enabled,this.#e)===!1||!Ee(this.#r)||this.#r===0)&&(this.#l=ee.setInterval(()=>{(this.options.refetchIntervalInBackground||ht.isFocused())&&this.#c()},this.#r))}#g(){this.#f(),this.#b(this.#y())}#j(){this.#o&&(ee.clearTimeout(this.#o),this.#o=void 0)}#v(){this.#l&&(ee.clearInterval(this.#l),this.#l=void 0)}createResult(t,s){const a=this.#e,r=this.options,o=this.#t,l=this.#n,d=this.#d,m=t!==a?t.state:this.#p,{state:g}=t;let x={...g},R=!1,u;if(s._optimisticResults){const E=this.hasListeners(),B=!E&&Fe(t,s),M=E&&Me(t,a,s,r);(B||M)&&(x={...x,...mt(g.data,t.options)}),s._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:N,errorUpdatedAt:v,status:c}=x;u=x.data;let L=!1;if(s.placeholderData!==void 0&&u===void 0&&c==="pending"){let E;o?.isPlaceholderData&&s.placeholderData===d?.placeholderData?(E=o.data,L=!0):E=typeof s.placeholderData=="function"?s.placeholderData(this.#m?.state.data,this.#m):s.placeholderData,E!==void 0&&(c="success",u=Te(o?.data,E,s),R=!0)}if(s.select&&u!==void 0&&!L)if(o&&u===l?.data&&s.select===this.#x)u=this.#h;else try{this.#x=s.select,u=s.select(u),u=Te(o?.data,u,s),this.#h=u,this.#i=null}catch(E){this.#i=E}this.#i&&(N=this.#i,u=this.#h,v=Date.now(),c="error");const S=x.fetchStatus==="fetching",F=c==="pending",T=c==="error",_=F&&S,D=u!==void 0,A={status:c,fetchStatus:x.fetchStatus,isPending:F,isSuccess:c==="success",isError:T,isInitialLoading:_,isLoading:_,data:u,dataUpdatedAt:x.dataUpdatedAt,error:N,errorUpdatedAt:v,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:S,isRefetching:S&&!F,isLoadingError:T&&!D,isPaused:x.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:T&&D,isStale:be(t,s),refetch:this.refetch,promise:this.#a,isEnabled:O(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=$=>{A.status==="error"?$.reject(A.error):A.data!==void 0&&$.resolve(A.data)},B=()=>{const $=this.#a=A.promise=Re();E($)},M=this.#a;switch(M.status){case"pending":t.queryHash===a.queryHash&&E(M);break;case"fulfilled":(A.status==="error"||A.data!==M.value)&&B();break;case"rejected":(A.status!=="error"||A.error!==M.reason)&&B();break}}return A}updateResult(){const t=this.#t,s=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#d=this.options,this.#n.data!==void 0&&(this.#m=this.#e),de(s,t))return;this.#t=s;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#u.size)return!0;const l=new Set(o??this.#u);return this.options.throwOnError&&l.add("error"),Object.keys(this.#t).some(d=>{const b=d;return this.#t[b]!==t[b]&&l.has(b)})};this.#w({listeners:a()})}#N(){const t=this.#s.getQueryCache().build(this.#s,this.options);if(t===this.#e)return;const s=this.#e;this.#e=t,this.#p=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#w(t){Be.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function ls(t,s){return O(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Fe(t,s){return ls(t,s)||t.state.data!==void 0&&pe(t,s,s.refetchOnMount)}function pe(t,s,a){if(O(s.enabled,t)!==!1&&Z(s.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&be(t,s)}return!1}function Me(t,s,a,r){return(t!==s||O(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&be(t,a)}function be(t,s){return O(s.enabled,t)!==!1&&t.isStaleByTime(Z(s.staleTime,t))}function cs(t,s){return!de(t.getCurrentResult(),s)}var Ye=n.createContext(!1),ds=()=>n.useContext(Ye);Ye.Provider;function hs(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ms=n.createContext(hs()),us=()=>n.useContext(ms),ps=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},xs=t=>{n.useEffect(()=>{t.clearReset()},[t])},fs=({result:t,errorResetBoundary:s,throwOnError:a,query:r,suspense:o})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||ut(a,[t.error,r])),ys=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>a(r(...o)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},bs=(t,s)=>t.isLoading&&t.isFetching&&!s,gs=(t,s)=>t?.suspense&&s.isPending,ze=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function js(t,s,a){const r=ds(),o=us(),l=Oe(),d=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=r?"isRestoring":"optimistic",ys(d),ps(d,o),xs(o);const b=!l.getQueryCache().get(d.queryHash),[m]=n.useState(()=>new s(l,d)),g=m.getOptimisticResult(d),x=!r&&t.subscribed!==!1;if(n.useSyncExternalStore(n.useCallback(R=>{const u=x?m.subscribe(Be.batchCalls(R)):he;return m.updateResult(),u},[m,x]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),n.useEffect(()=>{m.setOptions(d)},[d,m]),gs(d,g))throw ze(d,m,o);if(fs({result:g,errorResetBoundary:o,throwOnError:d.throwOnError,query:l.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw g.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(d,g),d.experimental_prefetchInRender&&!me&&bs(g,r)&&(b?ze(d,m,o):l.getQueryCache().get(d.queryHash)?.promise)?.catch(he).finally(()=>{m.updateResult()}),d.notifyOnChangeProps?g:m.trackResult(g)}function vs(t,s){return js(t,os)}function Ns({showUpgradeModal:t,setShowUpgradeModal:s,userJson:a}){const[r,o]=n.useState(1),[l,d]=n.useState(!1),[b,m]=n.useState("primary"),[g,x]=n.useState("Limits"),[R,u]=n.useState(!1),[N,v]=n.useState({ben:["N50,000","250,000","N50,000"],req:["Phone No."],level:"Basic"}),[c,L]=n.useState("Confirm"),[S,F]=n.useState(Array(11).fill("")),[T,_]=n.useState(Array(10).fill("")),D=n.useRef([]),U=n.useRef([]),A=(h,f,y,H,W)=>{if(!/^[0-9]?$/.test(f))return;const q=[...y];q[h]=f,H(q),f&&W.current[h+1]&&W.current[h+1].focus()};n.useEffect(()=>{t?requestAnimationFrame(()=>d(!0)):d(!1)},[t]);const E=h=>{x(h)},B=()=>{m("primary");let h=[],f=[],y="";a?.accountType==="BUYER"?(h=["N150,000","250,000","N50,000"],f=["Phone No."],y="Basic"):a?.accountType==="SELLER"?(h=["N150,000","","N50,000"],f=["Phone No."],y="Basic"):(h=["N150,000","5","20,000"],f=["Phone No."],y="Basic"),v({ben:h,req:f,level:y}),L("Confirm")},M=()=>{m("warning");let h=[],f=[],y="";a?.accountType==="BUYER"?(h=["N500,000","N5,000,000","N1,000,000"],f=["Phone No.","NIN"],y="Essential"):a?.accountType==="SELLER"?(h=["N500,000","","N250,000"],f=["Phone No.","NIN"],y="Essential"):(h=["N500,000","10","50,000"],f=["Phone No.","NIN"],y="Essential"),v({ben:h,req:f,level:y}),L("Upgrade Now")},$=()=>{m("secondary");let h=[],f=[],y="";a?.accountType==="BUYER"?(h=["Unlimited","Unlimited","N5,000,000"],f=["Phone No.","NIN"],y="Enterprise"):a?.accountType==="SELLER"?(h=["Unlimited","","N500,000"],f=["Phone No.","NIN"],y="Enterprise"):(h=["Unlimited","30","500,000"],f=["Phone No.","NIN"],y="Enterprise"),v({ben:h,req:f,level:y}),L("Upgrade Now")};return e.jsxs("div",{className:"p-3 bg-light min-vh-100",children:[t&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 fade-overlay",onClick:()=>s(!1)}),t&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow modal-animate ${l?"show":""}`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Verification & Limits"}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>s(!1)})]}),e.jsxs("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:[e.jsxs("div",{className:"d-flex gap-2 mb-3",children:[e.jsx(ce,{label:"Tier 1",active:r===1,onClick:()=>{o(1),B()}}),e.jsx(ce,{label:"Tier 2",active:r===2,onClick:()=>{o(2),M()}}),e.jsx(ce,{label:"Tier 3",active:r===3,onClick:()=>{o(3),$()}})]}),e.jsx("h6",{className:"fw-bold text-center",children:N?.level}),e.jsxs("div",{className:"text-start",children:[["Daily Limits","Requirements"].map((h,f)=>e.jsx("small",{className:` ${h===g?"border-bottom border-dark text-dark":"text-muted"} px-2`,onClick:()=>E(h),children:h},f)),e.jsx("div",{className:`bg-${b} text-white rounded-3 py-3 px-2 mt-3`,children:g==="Daily Limits"?e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsxs("small",{className:"d-block",children:[" ",a?.accountType==="BUYER"?"Buy":"Sell"," ","Products"]}),e.jsx("small",{className:"d-block",children:N?.ben[0]})]}),a?.accountType!=="SELLER"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-4",children:[e.jsx("small",{children:a?.accountType==="BUYER"?"Deposit":"No. Of Sellers"}),e.jsx("small",{className:"d-block",children:N?.ben[1]})]})}),e.jsxs("div",{className:"col-4",children:[e.jsx("small",{children:"Withdraw"}),e.jsx("small",{className:"d-block",children:N?.ben[2]})]})]}):e.jsx("div",{className:"row g-2",children:e.jsx("div",{className:"col-12",children:e.jsx("ul",{children:N?.req.map((h,f)=>e.jsx("li",{children:h},f))})})})}),e.jsxs("div",{className:`bg-${b} bg-opacity-75 text-white rounded-pill py-2 mt-3 d-flex justify-content-center align-items-center gap-2`,children:[e.jsx(De,{size:18}),e.jsx("span",{className:"fw-semibold",onClick:()=>{u(!0)},children:c})]})]})]})]}),R&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow modal-animate ${l?"show":""}`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Account Upgrade"}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{u(!R)}})]}),e.jsxs("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:" text-center",children:e.jsx("label",{className:"form-label ",children:"NIN"})}),e.jsx("div",{className:"d-flex gap-1",children:T.map((h,f)=>e.jsx("input",{ref:y=>U.current[f]=y,value:h,maxLength:1,className:"digit-input",onChange:y=>A(f,y.target.value,T,_,U)},f))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-center  my-3",children:e.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill px-3",children:[e.jsx(Ae,{size:15})," check"]})}),e.jsx("div",{className:" text-center",children:e.jsx("label",{className:"form-label ",children:"BVN"})}),e.jsx("div",{className:"d-flex ",children:S.map((h,f)=>e.jsx("input",{ref:y=>D.current[f]=y,value:h,maxLength:1,className:"digit-input",onChange:y=>A(f,y.target.value,S,F,D)},f))}),e.jsx("div",{className:"text-center  mt-3",children:e.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill px-3",children:[e.jsx(Ae,{size:15})," check"]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",children:"Confirm"})})]})]})]})}function ce({label:t,active:s,onClick:a}){return e.jsx("button",{onClick:a,className:`btn btn-sm w-100 fw-semibold ${s?"btn-primary":"btn-light"}`,style:{borderRadius:6},children:t})}const{ava:ws}=Y;function ha({showProfileModal:t,setShowProfileModal:s,userJson:a,profileData:r,isFetching:o}){const[l,d]=n.useState(0),[b,m]=n.useState(!1),[g,x]=n.useState(!1);n.useRef(0);const[R,u]=n.useState(!1),[N,v]=n.useState(ws),[c,L]=n.useState({});n.useEffect(()=>{if(!o&&r){const{username:p,firstName:C,lastName:z,email:V,phone:K,accountType:ge,address:G,verificationTier:je}=r?.data;console.log(r.data),L({username:p||"",firstName:C||"",lastName:z||"",address:G||"",phone:K||"",email:V||""})}},[o,r]);const[S,F]=n.useState({}),{mutate:T,isLoading:_,error:D,data:U}=J({mutationFn:p=>{const C=new FormData;return C.append("avatar",p),se.post(xt,C,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:p=>{console.log(p);const C=p?.data?.url||p?.data?.avatarUrl||p?.data?.data||"";C&&(v(C),L(z=>({...z,avatar:C}))),te.success("Avatar uploaded successfully",{autoClose:2e3})},onError:p=>{console.error("Avatar upload error:",p),te.error("Failed to upload avatar",{autoClose:2e3})}}),A=p=>{const C=p.target.files[0];if(C){const z=URL.createObjectURL(C);v(z),T(C),console.log(U)}};n.useEffect(()=>{const p=document.getElementById("profileUpload");if(!p)return;const C=z=>{const V=z.target.files&&z.target.files[0];V&&T(V)};return p.addEventListener("change",C),()=>p.removeEventListener("change",C)},[T]);const{mutate:E,isPending:B,isError:M,error:$,isSuccess:h,data:f}=J({mutationFn:p=>se.put(ft,p),onSuccess:p=>{te.success("✅Profile updated successfully",{autoClose:2e3,onClose:()=>s(!1)})},onError:p=>{te.error(`✅ ${p.message}`,{autoClose:2e3}),console.log(p.message),u(!1)}}),y=p=>{L({...c,[p.target.name]:p.target.value})},H=()=>{const p={};return/\S+@\S+\.\S+/.test(c.email)||(p.email="Enter valid email"),c.phone&&c.phone.length<11&&(p.phone="Enter valid phone"),c.firstName.length===0&&(p.firstName="Enter first name"),c.lastName.length===0&&(p.lastName="Enter last name"),c.address.length===0&&(p.address="Enter address"),p},W=()=>{s(!1)},q=p=>{p.preventDefault();const C=H();if(F(C),Object.keys(C).length===0){const z={...c};console.log(c),E(z),console.log($)}};return e.jsxs("div",{className:"bg-light min-vh-100 ",children:[t&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),t&&e.jsxs("div",{className:"position-fixed start-50 translate-middle-x bg-white shadow",style:{bottom:0,width:"95%",maxWidth:600,maxHeight:"95vh",borderRadius:"22px 22px 0 0",zIndex:1e3,transform:`translate(-50%, ${l}px)`,transition:b?"none":"transform .35s cubic-bezier(.25,1,.5,1)",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"bg-white",style:{position:"sticky",top:0,zIndex:2,borderRadius:"22px 22px 0 0"},children:[e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"mx-auto bg-secondary",style:{width:40,height:4,borderRadius:2,opacity:.4}})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center px-3 pb-2 border-bottom",children:[e.jsx("h6",{className:"fw-bold m-0",children:"Profile Edit"}),e.jsx(I,{style:{cursor:"pointer"},onClick:W})]})]}),e.jsxs("div",{className:"px-3 py-3",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[e.jsxs("div",{className:"text-center mb-3 position-relative",children:[e.jsx("img",{src:r?.data?.profilePicture||N,alt:"avatar",className:"rounded-circle",width:80,height:80}),e.jsxs("label",{className:"btn btn-primary btn-sm rounded-circle position-absolute",style:{bottom:0,right:"38%"},children:[e.jsx(ye,{size:14}),e.jsx("input",{type:"file",id:"profileUpload",accept:"image/*",style:{display:"none"},onChange:A})]})]}),e.jsxs("button",{className:"btn btn-info ms-3",onClick:()=>{x(!g)},children:[e.jsx(as,{className:"text-white",size:30}),e.jsx("small",{children:"Tier 1"})]})]}),e.jsxs("form",{noValidate:!0,onSubmit:q,children:[e.jsx(Q,{label:"Username",name:"username",disabled:!0,value:c.username,error:S.username,icon:Ue,onChange:y}),e.jsx(Q,{label:"First Name",name:"firstName",value:c.firstName,error:S.firstName,onChange:y}),e.jsx(Q,{label:"Last Name",name:"lastName",value:c.lastName,error:S.lastName,onChange:y}),e.jsx(Q,{label:"Address",name:"address",value:c.address,error:S.address,onChange:y,icon:Qe}),e.jsx(Q,{label:"Phone",name:"phone",value:c.phone,error:S.phone,onChange:y,icon:ue}),e.jsx(Q,{label:"Email",name:"email",value:c.email,error:S.email,onChange:y,icon:pt}),e.jsx("button",{className:"btn btn-primary w-100 mt-2",onClick:H,disabled:B,children:B?"updating...":"update"})]}),e.jsx("hr",{}),e.jsx(Q,{label:"BVN",value:"8921817836",disabled:!0}),e.jsx(Q,{label:"NIN",value:"8921817836",disabled:!0}),e.jsx("button",{className:"btn btn-danger w-100 mt-2",children:"Request Update"})]})]}),g&&e.jsx(Ns,{showUpgradeModal:g,setShowUpgradeModal:x,userJson:a})]})}function Q({label:t,value:s,icon:a,error:r,disabled:o,name:l,onChange:d}){return e.jsxs("div",{className:`mb-2 ${r?"shake":""}`,children:[e.jsx("label",{className:"small text-muted",children:t}),e.jsxs("div",{className:"input-group",children:[a&&e.jsx("span",{className:"input-group-text bg-light",children:e.jsx(a,{size:16})}),e.jsx("input",{className:`form-control ${r?"is-invalid":""}`,value:s,name:l,disabled:o,onChange:d})]})]})}function ma({showWalletModal:t,setShowWalletModal:s}){const[a,r]=n.useState(!1);return n.useEffect(()=>{t?requestAnimationFrame(()=>r(!0)):r(!1)},[t]),e.jsxs("div",{className:"p-3 bg-light min-vh-100",children:[t&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 fade-overlay",onClick:()=>s(!1)}),t&&e.jsxs("div",{className:`position-fixed top-50 start-50 translate-middle shadow modal-animate ${a?"show":""}`,style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,border:"2px solid #FFD88A",background:"#fff"},onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center",children:"Afomo Wallet"}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>s(!1)})]}),e.jsx("div",{className:"mx-3 mb-3 p-3 rounded-4",style:{background:"#EAF4FF"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(es,{size:48,className:"mt-2"}),e.jsxs("div",{className:"bg-dark bg-opacity-75 text-white rounded-pill py-2 mt-3 d-flex justify-content-center align-items-center gap-2",children:[e.jsx(De,{size:18}),e.jsx("span",{className:"fw-semibold",children:"Upgrade Now"})]})]})})]})]})}const ua=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:300,overflowY:"auto"},children:[e.jsx("h5",{children:"Orders & Shopping"}),e.jsxs("div",{className:"fw-bold text-muted",children:[e.jsxs("p",{children:["Q: How do I place an order? ",e.jsx("br",{}),"A: You can place an order by ;"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"Typing what you want to buy in the chat details."}),e.jsx("li",{children:"Optionally, you can choose and buy."}),e.jsx("li",{children:"You can also chat or call the seller directly to conclude & place your order."})]}),e.jsxs("p",{children:["Q: How can I track my order? ",e.jsx("br",{}),"A: You can track your order by calling or chatting with the seller or agent. We have an in-app calling function & messaging you can use. We advise you to keep all your communication within Afomo for easier win-win."]}),e.jsxs("p",{children:["Q:Can i cancel an order? ",e.jsx("br",{}),"A: Yes, cancellation is possible before order confirmation or shipping."]}),e.jsxs("p",{children:["Q: What if an item goes out of stock? ",e.jsx("br",{}),"A: If items displayed on our app are always in stock."]})]}),e.jsx("h5",{children:"Payments & Billing"}),e.jsxs("div",{className:"fw-bold text-muted",children:[e.jsxs("p",{children:["Q: What payment methods are accepted? ",e.jsx("br",{}),"A: You can credit your Afomo wallet and transfer to your wallet. You can withdraw funds from your wallet anytime."]}),e.jsxs("p",{children:["Q: What payment methods are accepted? ",e.jsx("br",{}),"A: You can credit your Afomo wallet and transfer to your wallet. You can withdraw funds from your wallet anytime."]}),e.jsxs("p",{children:["Q: You can transfer directly to the buyer. ",e.jsx("br",{}),"A: Money is held in our escrow bank. The buyer will only be credited with goods payment after you have received your order and verified satisfactory delivery of service. Afomo supports both card online payments."]}),e.jsxs("p",{children:["Q:Can i pay with cash-on-delivery (if available in your area)."," ",e.jsx("br",{}),"A:Yes"]}),e.jsxs("p",{children:["Q: Why was my payment declined? ",e.jsx("br",{}),"A: Confirm your card details or contact our customer support for further assistance."]}),e.jsxs("p",{children:["Q: How do refunds work? ",e.jsx("br",{}),"A: Refunds are processed within 24 hours. However, depending on the issue or payment method, refund can take longer."]})]}),e.jsx("h5",{children:"Shipping and Delivery"}),e.jsxs("div",{className:"fw-bold text-muted",children:[e.jsxs("p",{children:["Q: Do you deliver nationwide? ",e.jsx("br",{}),"A: Buying, selling and delivery in Afomo is available nationwide. Delivery or shipping locations can change to delivery options within certain states in your Afomo"]}),e.jsxs("p",{children:["Q: What happens if I’m not available at delivery? ",e.jsx("br",{}),"A: Seller will always be in touch with you to reschedule someone else to pick up your order. Advance confirmation must be done and confirmed within the app in your Afomo chat."]}),e.jsxs("p",{children:["Q: Return & Exchanges ",e.jsx("br",{}),"A: How do I request a return or replacement? If you can contact the seller or the agent immediately to request for a return or exchange of the product is faulty or does not meet up to your expectation."]}),e.jsxs("p",{children:["Q: What items are not eligible for return? ",e.jsx("br",{}),"A: Some fragile, clearance, or personalized products cannot be returned. Refund or opened/damaged items are not returned. In the case of failed or unclaimed product, contact seller or agent for the issue."]}),e.jsxs("p",{children:["Q: How long does return processing take? ",e.jsx("br",{}),"A: Typically 24–72 hours after pickup."]})]})]})}),pa=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Enscrow Terms of service"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("p",{children:["Afomo is a digital commerce platform connecting buyers, sellers, and last mile agents. Afomo does not hold customer funds. All payments and escrow services are provided by licensed third-party payment service providers (PSPs).",e.jsx("br",{})," Afomo enables users to Use voice to discover, promote, buy, and sell products or services, Interact with other users through social features, and, Send and receive payments where supported."," ",e.jsx("br",{})," Users must be at least 18 years old and agree to provide accurate information and comply with applicable laws. You must provide accurate, current, and complete information during registration. Afomo reserves the right to refuse access to any user who does not meet eligibility requirements. ",e.jsx("br",{})," Afomo provides marketplace coordination and escrow decision logic but does not act as a bank, guarantee delivery, or custody funds. Afomo may charge disclosed transaction fees and reserves the right to suspend accounts for fraud, abuse, or legal risk. Liability is limited to the extent permitted by law."]})}),e.jsx("h5",{children:"Enscrow Terms"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("i",{children:["Escrow services are delivered through licensed PSPs. Buyers pay into PSP-controlled escrow accounts, where funds are held until release conditions are met.",e.jsx("br",{})," Funds are released when the buyer confirms delivery, when the auto-release period expires without dispute, or following dispute resolution. Escrow funds do not earn interest and are not invested or loaned."]})}),e.jsx("h5",{children:"user content"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("i",{children:["You retain ownership of all content you upload or post on Afomo, including images, videos, text, and product listings.",e.jsx("br",{})," By posting content, you grant Afomo a non-exclusive, worldwide, royalty-free, transferable license to use, host, reproduce, display, distribute, and promote your content solely for operating and marketing Afomo.",e.jsx("br",{}),"You must not post content that:",e.jsxs("ul",{children:[e.jsx("li",{children:"is false, fraudulent, or misleading"}),e.jsx("li",{children:"violates Nigerian law or regulations"}),e.jsx("li",{children:"infringes intellectual property or privacy rights,."}),e.jsx("li",{children:"is abusive, hateful, defamatory, or threatening,"}),e.jsx("li",{children:"is sexually explicit or harmful to minors."})]}),"Afomo may remove content that violates these Terms without prior notice."]})}),e.jsx("h5",{children:"Buying and selling on Afomo"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("i",{children:["Sellers:",e.jsx("br",{})," are solely responsible for their listings, pricing, and descriptions except registered under an agent, must comply with all applicable Nigerian laws, including consumer protection laws, are responsible for delivery, refunds, and customer support, sellers must not engage in unfair, misleading, or deceptive trade practices.",e.jsx("br",{})," Buyers: are responsible for reviewing listings carefully before purchase, agree to first attempt resolving disputes directly with sellers or agents, agree to follow advise and safety recommendations by Afomo.",e.jsx("br",{})," Agents: are solely responsible for seller listings done with their account, must comply with all applicable Nigerian laws, including consumer protection laws."]})}),e.jsx("h5",{children:"Payment Fees and Wallet"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("i",{children:"Afomo provides in-app wallets and integrates with CBN-licensed payment service providers. All financial services on Afomo comply with applicable Central Bank of Nigeria (CBN) regulations. Users consent to KYC/AML verification where required under Nigerian law. Service fees, commissions, or transaction charges will be transparently disclosed. Afomo is not liable for delays or failures caused by banks, payment processors, or network disruptions."})}),e.jsx("h5",{children:"Social Features and user Content"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("i",{children:"Users retain ownership of content they post. By posting content on Afomo, you grant Afomo a non‑exclusive, royalty‑free, worldwide license to use, display, and distribute such content for platform operations and promotions. Afomo reserves the right to moderate or remove content that violates its policies. Reviews rating and Community trust Reviews must be honest, respectful, and based on genuine experiences. Manipulation of ratings, fake reviews, or review trading is prohibited."})}),e.jsx("h5",{children:"Review rating and Community trust"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("i",{children:"Reviews rating and Community trust Reviews must be honest, respectful, and based on genuine experiences. Manipulation of ratings, fake reviews, or review trading is prohibited."})})]})}),xa=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Privacy policy (Nigeria-NDPR complaint)"}),e.jsx("div",{className:"fw-bold text-muted text-justify ",children:e.jsxs("p",{children:["Afomo collects identity, transaction, communication, and usage data to facilitate transactions, prevent fraud, comply with legal obligations, and improve services. ",e.jsx("br",{}),"Data processing is based on consent, contractual necessity, and legal requirements. Data may be shared with licensed PSPs and regulators where required.",e.jsx("br",{})," Afomo applies encryption, access controls, and audit logging. Users have rights to access, correct, or withdraw consent subject to applicable law. Afomo complies with the Nigeria Data Protection Act (NDPA) 2023 and the Nigeria Data Protection Regulation (NDPR)."]})}),e.jsx("h5",{children:"Information We Collect;"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("ul",{children:[e.jsx("li",{children:"personal identification data (name, phone number, email, address)"}),e.jsx("li",{children:"KYC-related information where required by law,"}),e.jsx("li",{children:"transaction, wallet, and payment data, • device, log, and usage information"})]})}),e.jsx("h5",{children:"Legal Basis for Processing;"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("ul",{children:[e.jsx("li",{children:"We process personal data based on:"}),e.jsx("li",{children:" user consent"}),e.jsx("li",{children:"performance of a contract • compliance with legal obligations"}),e.jsx("li",{children:"legitimate business interests"})]})}),e.jsx("h5",{children:"How We Use Information"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsxs("ul",{children:[e.jsx("li",{children:" to create and manage user accounts"}),e.jsx("li",{children:" to facilitate socio-commerce transactions"}),e.jsx("li",{children:"to comply with regulatory and law enforcement requirements,"}),e.jsx("li",{children:"legitimate business interests"})]})}),e.jsx("h5",{children:"Data Sharing & Transfers"}),e.jsx("div",{className:"fw-bold text-muted text-justify",children:e.jsx("p",{children:"We do not sell personal data. Data may be shared with; licensed payment processors and financial institutions, logistics and verification partners, regulatory authorities such as NDPB, law enforcement agencies, or courts where required, cross-border data transfers, where applicable, shall comply with Nigerian data protection laws."})}),e.jsx("h5",{children:"User right"}),e.jsxs("div",{className:"fw-bold text-muted text-justify",children:[e.jsx("p",{children:"user have the right to;"}),e.jsxs("ul",{children:[e.jsx("li",{children:"access and correct their personal data,withdraw consent (where applicable),"}),e.jsx("li",{children:"request data deletion subject to legal retention requirements,"}),e.jsx("li",{children:"lodge complaints with the Nigeria Data Protection Bureau (NDPB),"}),e.jsx("li",{children:"returns, Refunds & Disputes (Consumer Protection)"}),e.jsx("li",{children:"return and refund policies are primarily determined by sellers, subject to the Federal Competition and Consumer Protection Act (FCCPA),"}),e.jsx("li",{children:"Afomo may provide mediation tools and will mediate dispute resolution where needed."}),e.jsx("li",{children:"Users retain the right to escalate unresolved complaints to the Federal Competition and Consumer Protection Commission (FCCPC)"})]})]})]})}),fa=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Intellectual properties"}),e.jsxs("div",{className:"fw-bold text-muted text-justify",children:[e.jsx("p",{children:"Afomo’s name, logo, app design, and features are protected intellectual property. Users may not copy, modify, or distribute Afomo’s assets without permission."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Susspension &Termination"}),e.jsx("li",{children:"Afomo reserves the right to; Suspend or terminate accounts that violate these terms, Remove content without prior notice, Restrict access for security, legal, or operational reasons."})]}),e.jsx("p",{children:"Limitation and Liability law;"}),"To the fullest extent permitted by",e.jsxs("ul",{children:[e.jsx("li",{children:"Afomo is not liable for indirect, incidental, or consequential damages"}),e.jsx("li",{children:"Afomo does not guarantee uninterrupted or error free service, Transactions are conducted at users’ own risk"})]})]}),e.jsx("h5",{children:"Indemnification"}),e.jsx("div",{className:"text-mute text-justify fw-bol",children:e.jsx("i",{children:"You agree to indemnify and hold Afomo harmless from claims, damages, or losses arising from your use of the platform or violation of these terms."})}),e.jsx("h5",{children:"Changes to terms"}),e.jsx("div",{className:"text-mute text-justify fw-bol",children:e.jsx("i",{children:"Afomo may update these Terms and Policies from time to time. Continued use of the app constitutes acceptance of updated terms."})}),e.jsx("h5",{children:"Governing Law and Juridiction"}),e.jsx("div",{className:"text-mute text-justify fw-bol",children:e.jsx("i",{children:"These Terms shall be governed by and interpreted in accordance with the laws of the Federal Republic of Nigeria. Any disputes arising from the use of Afomo shall be subject to the exclusive jurisdiction of the courts of Nigeria."})})]})}),ya=()=>e.jsx("div",{className:"card border shadow-sm rounded-3  ",children:e.jsxs("div",{className:"card-body ",style:{maxHeight:200,overflowY:"auto"},children:[e.jsx("h5",{children:"Return Law and Dispute Policy"}),e.jsx("div",{className:"fw-bold text-muted",children:e.jsxs("i",{children:["Buyers may raise disputes if items are not delivered, materially differ from descriptions, or exceed delivery timelines.",e.jsx("br",{})," Disputes must be raised before escrow release. Funds are frozen during review. Afomo conducts a human review of evidence and instructs the PSP to release or refund funds accordingly.",e.jsx("br",{})," Disputes are acknowledged within 24 hours and resolved within 2 business days. Approved refunds are processed to the original payment method."]})})]})}),{afomoLogo:ks}=Y;function Cs({setMethod:t,method:s,productDetails:a,totalCost:r,setOpenPayment:o}){const[l,d]=n.useState(!1);return e.jsxs("div",{className:"min-vh-100 ",children:[s==="delivery"&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show ",style:{width:"90%",maxWidth:600,maxHeight:"98vh",borderRadius:18,zIndex:1e3,border:"2px solid #68adee",background:"#fff",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation(),children:e.jsxs("div",{className:"px-3 py-2 ",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"text-end",children:e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{t(null)}})}),e.jsx("h6",{className:"text-center fw-semibold mb-3",children:"Buy"}),e.jsx("div",{className:"text-center",children:e.jsx("img",{src:ks,className:"fw-semibold mb-2 ",alt:"Afomo Logo",style:{width:70,height:70,objectFit:"contain"}})}),e.jsx("div",{className:"border rounded-3 p-3 mb-3 card-wallet-detail ",children:e.jsx("div",{className:"",children:e.jsxs("form",{children:[e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:a?.participants[1]?.user?.firstName+" "+a?.participants[1]?.user?.lastName,readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Payment Total"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0})]})})}),e.jsxs("span",{className:"text-center d-block",children:[" ","Do you want to pay when the item is delivered?"]}),e.jsx("div",{className:"mt-3 mb-5",children:e.jsx("button",{className:"btn btn-primary w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,children:"Yes, Continue"})}),e.jsx("button",{className:"btn btn-dark w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,onClick:()=>t(null),children:"Change Payment Method"}),e.jsx("button",{className:"btn btn-danger w-100 rounded-pill py-2",disabled:l,onClick:()=>{o(!1),t(null)},children:"Cancel"})]})})]})}const{afomoLogo:Ss,opay:Rs}=Y;function Es({setMethod:t,method:s,productDetails:a,totalCost:r,setOpenPayment:o}){const[l,d]=n.useState(!1),[b,m]=n.useState(!1);return console.log(b),e.jsxs("div",{className:"min-vh-100 ",children:[s==="opay"&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show ",style:{width:"95%",maxWidth:600,maxHeight:"98vh",borderRadius:18,zIndex:1e3,border:"2px solid #68adee",background:"#fff",display:"flex",flexDirection:"column"},onClick:g=>g.stopPropagation(),children:e.jsxs("div",{className:"px-3 py-2 ",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"text-end",children:e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{t(null)}})}),e.jsx("h6",{className:"text-center fw-semibold mb-3",children:"Buy"}),e.jsx("div",{className:"text-center",children:e.jsx("img",{src:Ss,className:"fw-semibold mb-2 ",alt:"Afomo Logo",style:{width:70,height:70,objectFit:"contain"}})}),e.jsx("div",{className:"border rounded-3 p-3 mb-3 card-wallet-detail ",children:e.jsx("div",{className:"",children:e.jsxs("form",{children:[e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:a?.participants[1]?.user?.firstName+" "+a?.participants[1]?.user?.lastName,readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Payment Total"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("img",{src:Rs,className:"fw-semibold mb-2 ",alt:"opay",style:{width:120,height:120,objectFit:"contain"}})}),e.jsxs("span",{className:"text-center d-block",children:[" ","Please tap the button below to authenticate with your bank"]}),e.jsx("div",{className:"mt-3 mb-5",children:e.jsx("button",{className:"btn btn-success w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",onClick:()=>m(!0),children:"Authenticate"})}),e.jsx("button",{className:"btn btn-dark w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,onClick:()=>t(null),children:"Change Payment Method"}),e.jsx("button",{className:"btn btn-danger w-100 rounded-pill py-2",disabled:l,onClick:()=>{o(!1),t(null)},children:"Cancel"})]})}),b&&e.jsxs("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show",style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,background:"#fff"},onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsxs("h6",{className:"fw-bold m-0 text-center",children:["Proceed to complete payment"," "]}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>m(!b)})]}),e.jsx("div",{className:"mx-3 mb-3 p-3 rounded-4 text-center",style:{background:"#EAF4FF"},children:e.jsxs("div",{className:" d-flex justify-content-center align-items-center mb-3 text-center",children:[e.jsx("button",{className:"btn btn-outline-primary  rounded-pill mt-4 mx-3 px-4",onClick:()=>m(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary  rounded-pill mt-4 px-4",children:"Confirm"})]})})]})]})}const{afomoLogo:Ts}=Y;function As({setMethod:t,method:s,productDetails:a,totalCost:r,setOpenPayment:o}){const[l,d]=n.useState(!1),b=n.useRef([]),[m,g]=n.useState(Array(4).fill("")),[x,R]=n.useState(!1),u=(N,v,c,L,S)=>{if(!/^[0-9]?$/.test(v))return;const F=[...c];F[N]=v,L(F),v&&S.current[N+1]&&S.current[N+1].focus()};return e.jsxs("div",{className:"min-vh-100 ",children:[s==="opay"&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show ",style:{width:"92%",maxWidth:600,maxHeight:"98vh",borderRadius:18,zIndex:1e3,border:"2px solid #68adee",background:"#fff",display:"flex",flexDirection:"column"},onClick:N=>N.stopPropagation(),children:e.jsxs("div",{className:"px-3 py-2 ",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"text-end",children:e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{t(null)}})}),e.jsx("h6",{className:"text-center fw-semibold mb-3",children:"Buy"}),e.jsx("div",{className:"text-center",children:e.jsx("img",{src:Ts,className:"fw-semibold mb-2 ",alt:"Afomo Logo",style:{width:120,height:120,objectFit:"contain"}})}),e.jsxs("span",{className:"text-center mb-3 fw-bold d-block",children:[" ","Please Enter your payment PIN"]}),e.jsx("div",{className:"text-center mb-5 ",children:m.map((N,v)=>e.jsx("input",{ref:c=>b.current[v]=c,value:N,maxLength:1,className:"digit-input-detail mx-2",onChange:c=>u(v,c.target.value,m,g,b)},v))}),e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"mt-3 mt-5 mb-5",children:e.jsx("button",{className:"btn btn-success w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",children:"Authenticate"})}),e.jsx("button",{className:"btn btn-dark w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,onClick:()=>t(null),children:"Change Payment Method"}),e.jsx("button",{className:"btn btn-danger w-100 rounded-pill py-2",disabled:l,onClick:()=>{o(!1),t(null)},children:"Cancel"})]})]})})]})}const{afomoLogo:Ps}=Y;function Ls({setMethod:t,method:s,productDetails:a,totalCost:r,setOpenPayment:o}){const[l,d]=n.useState(!1),[b,m]=n.useState([]),g=n.useRef(null),x=u=>{const N=Array.from(u).map(v=>({file:v,url:URL.createObjectURL(v)}));m(v=>[...v,...N])},R=u=>{m(b.filter((N,v)=>v!==u))};return e.jsxs("div",{className:"min-vh-100 ",children:[s==="delivery"&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show ",style:{width:"90%",maxWidth:600,maxHeight:"90vh",borderRadius:18,zIndex:1e3,border:"2px solid #68adee",background:"#fff",display:"flex",flexDirection:"column"},onClick:u=>u.stopPropagation(),children:e.jsxs("div",{className:"px-3 py-2 ",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"text-end",children:e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{t(null)}})}),e.jsx("h6",{className:"text-center fw-semibold mb-3",children:"Buy"}),e.jsx("div",{className:"text-center",children:e.jsx("img",{src:Ps,className:"fw-semibold mb-2 ",alt:"Afomo Logo",style:{width:70,height:70,objectFit:"contain"}})}),e.jsx("div",{className:"border rounded-3 p-3 mb-3 card-wallet-detail ",children:e.jsx("div",{className:"",children:e.jsxs("form",{children:[e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Amount"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:r?.toLocaleString(),readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Account Number"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Account Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Bank Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Account Number"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0}),e.jsx("label",{htmlFor:"name",className:"form-label text-secondary mb-1",children:"Naration"}),e.jsx("input",{type:"text",className:"form-control form-control-sm fw-semibold",id:"name",style:{backgroundColor:"#a5d2f7"},value:Number(r)?.toLocaleString(),readOnly:!0})]})})}),e.jsxs("div",{className:"card border-0 shadow-sm rounded-4 mb-3 px-3 py-2",children:[e.jsx("p",{className:"text-primary mb-1",children:"Terms"}),e.jsx("span",{className:"small text-muted",children:"Kindly use the autho generated payment naration as failure to comply may result into failed transaction or delay in payment processing"})]}),e.jsxs("div",{className:"border rounded p-3 text-center my-2 bg-light",onClick:()=>g.current.click(),style:{cursor:"pointer"},children:[e.jsx(ye,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to attach payment proof"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*",ref:g,onChange:u=>x(u.target.files)}),b.length>0&&e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:b.map((u,N)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:u.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(I,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>R(N)})]},N))}),e.jsx("button",{className:"btn btn-success w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,children:"Mark as paid"}),e.jsx("button",{className:"btn btn-danger w-100 rounded-pill py-2",disabled:l,onClick:()=>{o(!1),t(null)},children:"Cancel"})]})})]})}const{paystack:Is}=Y;function Fs({setMethod:t,method:s,productDetails:a,totalCost:r,setOpenPayment:o}){const[l,d]=n.useState(!1);return e.jsxs("div",{className:"min-vh-100 ",children:[s==="delivery"&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show ",style:{width:"90%",maxWidth:600,maxHeight:"98vh",borderRadius:18,zIndex:1e3,border:"2px solid #68adee",background:"#fff",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation(),children:e.jsxs("div",{className:"px-3 py-2 ",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"text-end",children:e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{t(null)}})}),e.jsx("h6",{className:"text-center fw-semibold mb-3",children:"Buy"}),e.jsx("div",{className:"text-center",children:e.jsx("img",{src:Is,className:"fw-semibold mb-2 ",alt:"paystack",style:{width:70,height:70,objectFit:"contain"}})}),e.jsx("div",{className:"border rounded-3 p-3 mb-3 card-wallet-detail ",children:e.jsx("div",{className:"mt-3 mb-2",children:e.jsx("button",{className:"btn btn-primary w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,children:"Continue with paystack"})})}),e.jsx("button",{className:"btn btn-dark w-100 rounded-pill py-2 mb-2 d-flex justify-content-center align-items-center gap-2",disabled:!s||l,onClick:()=>t(null),children:"Change Payment Method"}),e.jsx("button",{className:"btn btn-danger w-100 rounded-pill py-2",disabled:l,onClick:()=>{o(!1),t(null)},children:"Cancel"})]})})]})}const{opay:Ms,paystack:zs,afomoLogo:_s}=Y;function Bs({setOpenPayment:t,openPayment:s,productDetails:a}){console.log(a);const r=Number(a?.product?.finalPrice)||0,[o,l]=n.useState(null),[d,b]=n.useState(!1),[m,g]=n.useState(1),[x,R]=n.useState(a?.product?.finalPrice||0),u=[{id:"delivery",title:"Pay on delivery",subtitle:"",icon:e.jsx(ns,{size:20,className:"text-primary"})},{id:"afomo",title:"Pay with Afomo Wallet",subtitle:"Seamless payment",image:_s},{id:"opay",title:"Pay with Opay",subtitle:"Card,Bank Transfer, USSD",image:Ms},{id:"seller",title:"Pay Direct to Seller",subtitle:"Bank Transfer, USSD",icon:e.jsx(Ct,{size:20,className:"text-primary"})},{id:"paystack",title:"Pay with Paystack",subtitle:"Card,Bank Transfer, USSD",image:zs}],N=()=>{g(c=>c+1),R(c=>Number(c)+Number(a?.product?.finalPrice||0))},v=()=>{m>1&&(g(c=>c-1),R(c=>Number(c)-Number(a?.product?.finalPrice||0)))};return e.jsxs("div",{className:"min-vh-100",children:[s&&e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,.45)",zIndex:999}}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show",style:{width:"95%",maxWidth:600,maxHeight:"98vh",borderRadius:18,zIndex:1e3,border:"2px solid #68adee",background:"#fff",display:"flex",flexDirection:"column"},onClick:c=>c.stopPropagation(),children:e.jsxs("div",{className:"px-3 py-2 ",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsx("div",{className:"text-end",children:e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{t(!1)}})}),e.jsx("h6",{className:"text-center fw-semibold mb-3",children:"Buy"}),e.jsx("h6",{className:"fw-semibold mb-2",children:"Payment Details"}),e.jsxs("div",{className:"border rounded-3 p-3 mb-3 card-wallet-detail",children:[e.jsxs("div",{className:"d-flex justify-content-between small",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-muted",children:[a?.participants[0]?.user?.firstName," ",a?.participants[0]?.user?.lastName," Store"]}),e.jsx("div",{className:"fw-semibold",children:a?.product?.name})]}),e.jsxs("div",{className:"fw-semibold",children:[e.jsx(Mt,{size:20,className:"text-primary",onClick:v}),e.jsx("input",{type:"number",value:m,onChange:c=>g(c.target.value),readOnly:!0,className:"border-0 text-center mx-2",style:{width:30}}),e.jsx(_t,{size:18,className:"text-primary",onClick:N})]})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"d-flex justify-content-between small",children:[e.jsx("span",{children:"Unit Cost"}),e.jsxs("span",{children:[" ₦",r.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex justify-content-between fw-semibold small mt-1",children:[e.jsx("span",{children:"Total Cost"}),e.jsxs("span",{children:[" ₦",x?.toLocaleString()]})]})]}),e.jsxs("div",{className:"border rounded-3 p-3 mb-4",children:[e.jsx("h6",{className:"fw-semibold mb-3",children:"Payment Method"}),u.map(c=>e.jsxs("div",{className:`d-flex align-items-center justify-content-between border rounded-3 p-2 mb-2 ${o===c.id?"border-primary bg-light":""}`,style:{cursor:"pointer"},onClick:()=>{l(c.id)},children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c?.icon||c.image&&e.jsx("img",{src:c.image,alt:c.title,style:{width:30}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold small",children:c.title}),e.jsx("div",{className:"text-muted small",children:c.subtitle})]})]}),e.jsx("input",{type:"radio",checked:o===c.id,readOnly:!0})]},c.id))]}),o===null&&e.jsx("button",{className:"btn btn-danger w-100 rounded-pill py-2",disabled:d,onClick:()=>t(!1),children:"Cancel"})]})}),o==="delivery"&&e.jsx(Cs,{setMethod:l,method:o,productDetails:a,totalCost:x,setOpenPayment:t}),o==="opay"&&e.jsx(Es,{setMethod:l,method:o,productDetails:a,totalCost:x,setOpenPayment:t}),o==="afomo"&&e.jsx(As,{setMethod:l,method:o,productDetails:a,totalCost:x,setOpenPayment:t}),o==="seller"&&e.jsx(Ls,{setMethod:l,method:o,productDetails:a,totalCost:x,setOpenPayment:t}),o==="paystack"&&e.jsx(Fs,{setMethod:l,method:o,productDetails:a,totalCost:x,setOpenPayment:t})]})}const{avatar:_e,defaultProduct:Os}=Y,Us=[Os],$s=t=>new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}).toLowerCase();function ba(){const t=xe(),[s,a]=n.useState(0),{token:r,user:o}=fe(),l=JSON.parse(o),[d,b]=n.useState(""),[m,g]=n.useState(!1),[x,R]=n.useState(!1),[u,N]=n.useState("Voice Narration"),[v,c]=n.useState(!1),L=n.useRef(null),S=n.useRef([]),[F,T]=n.useState(!1),[_,D]=n.useState(!1),U=Oe(),{productId:A,sellerId:E,buyerId:B}=yt(),[M,$]=n.useState([]),[h,f]=n.useState(),[y,H]=n.useState(),[W,q]=n.useState(!1),p=n.useRef(null),[C,z]=n.useState(!1),[V,K]=n.useState(!1),[ge,G]=n.useState(!1),[je,We]=n.useState(""),ve=n.useRef(null),[ae,Ne]=n.useState([]);console.log(je);const qe=i=>{const j=Array.from(i).map(P=>({file:P,url:URL.createObjectURL(P)}));Ne(P=>[...P,...j])},He=i=>{Ne(ae.filter((j,P)=>P!==i))},Ve=[{id:1,reason:"I sent the order but buyer refused to confirm the receipt"},{id:2,reason:"Buyer has refused to pay for the item after delivery"},{id:3,reason:"Buyer changed delivery address without notification"},{id:4,reason:"Buyer changed the item after receiving it"},{id:5,reason:"Buyer make a fake transfer "},{id:6,reason:"Other reason"}],Ke=[{id:1,reason:"I sent the order but buyer refused to confirm the receipt"},{id:2,reason:"Buyer has refused to pay for the item after delivery"},{id:3,reason:"Buyer changed delivery address without notification"},{id:4,reason:"Buyer changed the item after receiving it"},{id:5,reason:"Buyer make a fake transfer "},{id:6,reason:"Other reason"}],Xe="Your report has been received and is being reviewed. We will take appropriate action based on our findings. Thank you for helping us maintain a safe and trustworthy marketplace.",{mutate:Ge,isPending:Ys,isError:Ws,error:qs,isFetching:Hs,isSuccess:Vs,data:Ks}=J({mutationFn:i=>se.post(gt,i,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:i=>{const j=i?.data?.voiceUrl,P=i?.data?.voiceDuration;j&&re.mutate({messageType:"VOICE",voiceUrl:j,voiceDuration:P})},onError:i=>{console.error(" error:",i)}});let ie=[];const{mutate:Ze,isPending:we,isError:Xs,error:Gs,isSuccess:Zs,data:k}=J({mutationFn:i=>se.post(`${le}`,i),onSuccess:i=>{const j=i?.data;H(j),f(i?.data?.id),ie=[...i?.data?.product?.images.map(P=>P.url)],console.log(ie),$(i?.data?.product?.images.length>0?ie:Us)},onError:i=>{console.log(i)}});n.useEffect(()=>{Ze({participantIds:[E,B],productId:A,initialMessage:"Hello"})},[]);const Je=async i=>{const j=await fetch(`https://afomo-xagx.onrender.com/api/${le}${i}/messages`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!j.ok)throw new Error("Failed to fetch messages");return j.json()},{data:et=[],isLoading:Js,isPending:ea}=vs({queryKey:["messages",h],queryFn:()=>Je(h),enabled:!!h}),re=J({mutationFn:async i=>{const j=await fetch(`https://afomo-xagx.onrender.com/api/${le}${h}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(i)});if(!j.ok)throw new Error("Send failed");return j.json()},onMutate:async i=>(await U.cancelQueries({queryKey:["messages",h]}),{previousMessages:U.getQueryData(["messages",h])}),onError:(i,j,P)=>{console.log(i),U.setQueryData(["messages",h],P.previousMessages)},onSuccess:i=>{U.invalidateQueries({queryKey:["messages",h]}),console.log("Server returned:",i)}}),tt=()=>{d.trim()&&(re.mutate({content:d,messageType:"TEXT"}),b(""))},st=i=>N(i),ne=n.useRef(null),ke=n.useRef(0),at=new Array(26).fill(1),it=()=>a(i=>(i+1)%M.length),oe=()=>a(i=>(i-1+M.length)%M.length),rt=i=>ke.current=i.touches[0].clientX,nt=i=>{const j=ke.current-i.changedTouches[0].clientX;j>50&&it(),j<-50&&oe()},Ce=()=>{ne.current&&(m?ne.current.pause():ne.current.play(),g(!m))},ot=async()=>{if(v){L.current?.state!=="inactive"&&L.current.stop(),c(!1);return}try{const i=await navigator.mediaDevices.getUserMedia({audio:!0});p.current=i;const j=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",P=new MediaRecorder(i,{mimeType:j});L.current=P,S.current=[],P.ondataavailable=X=>{X.data.size>0&&S.current.push(X.data)},P.onstop=()=>{const X=new Blob(S.current,{type:"audio/webm"});if(console.log("Blob size:",X.size),X.size===0)return;p.current.getTracks().forEach(lt=>lt.stop());const Se={voice:X};console.log(Se),Ge(Se)},P.start(200),c(!0)}catch(i){console.log(i),alert("Microphone permission denied")}};return console.log(k?.data),e.jsxs("div",{className:"container px-0",style:{maxWidth:420},children:[l?.accountType==="BUYER"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex align-items-center p-3 border-bottom",children:[e.jsx("button",{className:"btn btn-sm rounded-circle bg-dark ",onClick:oe,style:{opacity:.7},children:e.jsx(Tt,{size:22,className:"text-white"})}),e.jsxs("h6",{className:"fw-bold mb-0 flex-grow-1 text-center",children:[k?.data?.participants[0]?.user?.username," Store"]}),e.jsx("button",{className:"btn btn-sm rounded-circle bg-dark ",onClick:oe,style:{opacity:.7},children:e.jsx(Pe,{size:22,className:"text-white"})})]}),e.jsxs("div",{className:"position-relative",onTouchStart:rt,onTouchEnd:nt,children:[e.jsx("img",{src:M[s],className:"w-100 carousel-img",alt:""}),e.jsx("div",{className:"carousel-dots",children:M.map((i,j)=>e.jsx("span",{className:j===s?"active":""},j))}),e.jsx("span",{className:"badge bg-primary price-badge",children:k?.data?.product?.price})]}),e.jsxs("div",{className:"p-3 border-bottom",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>D(!_),children:[e.jsx("h6",{className:"fw-semibold",children:k?.data?.product?.name}),e.jsx(Pe,{size:16,style:{transform:_?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:_?200:0,opacity:_?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[["Voice Narration","Details"].map((i,j)=>e.jsx("small",{className:` ${i===u?"border-bottom border-dark text-dark mt-2":"text-muted"} px-2`,onClick:()=>st(i),children:i},j)),e.jsxs("div",{className:"position-relative",children:[e.jsx(Le,{size:20,role:"button",onClick:()=>T(!F)}),F&&e.jsxs("div",{className:"dropdown-menu-custom p-3",children:[e.jsx("div",{className:"dropdown-item",children:"View Store"}),e.jsx("div",{className:"dropdown-item",children:"Mute Notifications"}),e.jsx("div",{className:"dropdown-item text-danger",onClick:()=>{z(!C),T(!1)},children:"Block"}),e.jsx("div",{className:"dropdown-item text-danger",onClick:()=>{K(!0),T(!1)},children:"Report"})]})]})]}),u==="Voice Narration"?e.jsx("div",{children:e.jsx("div",{className:"voice-wave my-3",onClick:Ce,children:e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:_e,alt:"user",className:"rounded-circle me-2",style:{width:30,height:30,objectFit:"cover"}}),m?e.jsx(Kt,{size:23,className:"text-dark mt-1"}):e.jsx(Zt,{size:23,className:"text-dark mt-1"}),e.jsx("div",{className:`wave ${m?"playing":""}`,children:at.map((i,j)=>e.jsx("span",{},j))})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:"Items Description"}),e.jsx("p",{className:"mt-2",children:k?.data?.product?.description})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-8 text-muted small",children:e.jsx("button",{className:"btn btn-primary btn-sm rounded-pill px-4",children:"Buy"})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx(ue,{size:25,className:"text-primary",onClick:()=>R(!0)})}),e.jsx("div",{className:"col-6",children:e.jsx(Ie,{size:30,className:"text-primary"})})]})})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row m-2",children:[e.jsxs("div",{className:"col-8 text-muted small d-flex align-items-center",children:[e.jsx("img",{src:k?.data?.participants[0]?.user?.profilePicture||_e,alt:"user",className:"rounded-circle ",style:{width:70,height:70,objectFit:"cover"}}),e.jsxs("div",{className:"ms-1 py-0",children:[e.jsx("h5",{children:k?.data?.participants[1]?.user?.username}),e.jsx("small",{className:"d-block",children:"090887733"}),e.jsx(Qe,{size:18,className:" pe-1"}),"Lagos, Nigeria",e.jsxs("h6",{className:"bg-secondary text-white rounded px-2 py-1",children:[k?.data?.participants[0]?.user?.username," Store"]})]})]}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-4",children:e.jsx(ue,{size:25,className:"text-primary",onClick:()=>R(!0)})}),e.jsx("div",{className:"col-4",children:e.jsx(Ie,{size:30,className:"text-primary"})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"position-relative",children:[e.jsx(Le,{size:20,role:"button",onClick:()=>T(!F)}),F&&e.jsxs("div",{className:"dropdown-menu-custom p-3",children:[e.jsx("div",{className:"dropdown-item",children:"View Store"}),e.jsx("div",{className:"dropdown-item",children:"Mute Notifications"}),e.jsx("div",{className:"dropdown-item text-danger",onClick:()=>{z(!C),T(!1)},children:"Block"}),e.jsx("div",{className:"dropdown-item text-danger",onClick:()=>{K(!0),T(!1)},children:"Report"})]})]})})]})})]}),e.jsx("hr",{className:"text-mte"}),e.jsx("div",{children:e.jsx("div",{className:"voice-wave my-3",onClick:Ce})})]}),e.jsx("div",{className:"chat-box p-1",style:{height:`${_?200:500}px`},children:et?.data?.items.map((i,j)=>e.jsxs("div",{className:`chat-msg ${i?.sender?.id===l?.id?"me":""}`,children:[i?.messageType==="VOICE"?e.jsx("audio",{controls:!0,src:i.voiceUrl,style:{width:"200px"}}):i?.content,e.jsx("small",{className:` ${i?.sender?.id===l?.id?"text-end text-white":"text-start text-muted "} ms-2 d-block`,children:$s(i.createdAt)})]},j))}),e.jsxs("div",{className:"chat-input d-flex justify-content-between align-items-center   border-top mx-3",children:[e.jsx("button",{disabled:we,className:"btn btn-sm border-0",children:e.jsx($e,{size:36,className:`btn ${v?"btn-danger":"btn-primary"} text-white`,style:{width:50,height:50,borderRadius:"50%"},onClick:ot})}),l?.accountType==="BUYER"&&e.jsx("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-3 mx-2",onClick:()=>q(!0),children:"Buy"}),e.jsx("input",{className:"form-control form-control-sm rounded-pill",placeholder:"Type a message",value:d,onChange:i=>b(i.target.value)}),e.jsx("button",{className:"btn btn-primary btn-sm ms-2",onClick:()=>{tt()},disabled:re.isPending||we,children:e.jsx(bt,{size:16})})]}),x&&e.jsx("div",{className:"call-overlay",children:e.jsxs("div",{className:"call-card",children:[e.jsx("h6",{children:"Calling Seller…"}),e.jsx("button",{className:"btn btn-danger mt-3",onClick:()=>R(!1),children:"End Call"})]})}),W&&e.jsx(Bs,{setOpenPayment:q,openPayment:W,productDetails:y}),C&&e.jsxs("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show",style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,background:"#fff"},onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center text-danger",children:l?.accountType==="SELLER"?`Block ${k?.data?.participants[1]?.user?.firstName} ${k?.data?.participants[1]?.user?.lastName}`:`Block ${k?.data?.participants[0]?.user?.firstName} ${k?.data?.participants[0]?.user?.lastName} Store`}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{z(!C)}})]}),e.jsxs("div",{className:"mx-3 mb-3 p-3 rounded-4 text-center",style:{background:"#EAF4FF"},children:[e.jsxs("div",{className:"text-start",children:[e.jsx("p",{children:"Buyer and you will no longer be able to; "}),e.jsxs("ul",{children:[e.jsx("li",{children:"View and interract with each other profile"}),e.jsx("li",{children:"Make feature payment"}),e.jsx("li",{children:"You will not be matched with the buyer aagin unless unblock"})]})]}),e.jsxs("div",{className:"mb-3 justify-content-center d-flex align-items-center",children:[e.jsx("button",{className:"btn btn-outline-primary rounded-pill mt-4 px-4 me-4",onClick:()=>z(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary rounded-pill mt-4",children:"Continue"})]})]})]}),V&&e.jsxs("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show",style:{width:"92%",maxWidth:380,borderRadius:18,zIndex:1e3,background:"#fff"},onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center text-danger",children:l?.accountType==="SELLER"?`Report ${k?.data?.participants[1]?.user?.firstName} ${k?.data?.participants[1]?.user?.lastName}`:`Report ${k?.data?.participants[0]?.user?.firstName} ${k?.data?.participants[0]?.user?.lastName} Store`}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{K(!1)}})]}),e.jsx("div",{className:"mx-1 mb-3 p-1 rounded-4 text-center",children:e.jsx("div",{className:"text-start",children:e.jsxs("ul",{className:"list-group list-group-flush small",children:[l?.accountType==="SELLER"?Ve.map(i=>e.jsx("li",{className:"list-group-item",onClick:()=>{G(!0),We(i),K(!1)},children:i.reason},i.id)):Ke.map(i=>e.jsx("li",{className:"list-group-item",children:i.reason},i.id)),e.jsxs("small",{className:"my-3 p-2",children:["While we value your feedback, please ensure your response is honst as your complaints may directly affect the buyer"," "]})]})})})]}),ge&&e.jsxs("div",{className:"position-fixed top-50 start-50 translate-middle shadow modal-animate show",style:{width:"94%",maxWidth:380,borderRadius:18,zIndex:1e3,background:"#fff"},onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[e.jsx("h6",{className:"fw-bold m-0 text-center text-danger",children:l?.accountType==="SELLER"?`Report ${k?.data?.participants[1]?.user?.firstName} ${k?.data?.participants[1]?.user?.lastName}`:`Report ${k?.data?.participants[0]?.user?.firstName} ${k?.data?.participants[0]?.user?.lastName} Store`}),e.jsx(I,{size:20,style:{cursor:"pointer"},onClick:()=>{G(!1)}})]}),e.jsxs("div",{className:"mx-1 mb-3 p-1 rounded-4 text-center",children:[e.jsxs("div",{className:"text-start",children:[e.jsx("small",{children:"Kindly attach a photo or screenshot below (if any)"}),e.jsxs("div",{className:"border rounded p-3 text-center my-2 bg-light",onClick:()=>ve.current.click(),style:{cursor:"pointer"},children:[e.jsx(ye,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to take photo or video"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,video/*",ref:ve,onChange:i=>qe(i.target.files)}),ae.length>0&&e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:ae.map((i,j)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:i.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(I,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>He(j)})]},j))}),e.jsxs("div",{children:[e.jsxs("small",{className:"text-muted my-2 d-block ",children:["Tell us more (optional)"," "]}),e.jsx("textarea",{placeholder:"Enter your complaint here...",className:"rounded p-2 w-100 card-wallet-detail",style:{border:"none"}})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"notifyCheckbox",className:"me-2 fs-6"}),e.jsx("label",{htmlFor:"",children:l?.accountType==="SELLER"?` ${k?.data?.participants[1]?.user?.firstName} ${k?.data?.participants[1]?.user?.lastName}`:`${k?.data?.participants[0]?.user?.firstName} ${k?.data?.participants[0]?.user?.lastName} Store`})]})]}),e.jsxs("div",{className:"mb-3 justify-content-center d-flex align-items-center",children:[e.jsx("button",{className:"btn btn-outline-primary rounded-pill mt-4 px-4 me-4",onClick:()=>G(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary rounded-pill mt-4",onClick:()=>t(`/dashboard/success/${Xe}`),children:"Continue"})]})]})]})]})}function Ds(){const t=xe(),{user:s,token:a}=fe(),r=JSON.parse(s),o=()=>{r.accountType==="SELLER"?t("/dashboard/seller/tap-to-sell"):r.accountType==="BUYER"?t("/dashboard"):t("/dashboard/agent/tap-to-sell")},l=()=>{r.accountType==="SELLER"?t("/dashboard/seller-chat-display"):r.accountType==="BUYER"?t("/dashboard/"):t("/dashboard/agent-chat-display")},d=()=>{r.accountType==="SELLER"?t("/dashboard"):r.accountType==="BUYER"?t("/dashboard/home"):t("/dashboard")};return e.jsx("div",{className:"d-flex justify-content-center mt-5",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between px-3",style:{width:260,height:56,background:"#EAF3FF",borderRadius:28,position:"relative"},children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{width:42,height:42,borderRadius:12,background:"#D6E8FF"},onClick:d,children:e.jsx(Yt,{size:20})}),e.jsx("div",{className:"d-flex align-items-center justify-content-center shadow",style:{width:64,height:64,borderRadius:"50%",background:"#fff",position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",border:"4px solid #8CB8FF"},onClick:o,children:e.jsx($e,{size:28})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center text-primary",style:{width:70,height:42,borderRadius:12,background:"#D6E8FF"},onClick:l,children:["Chat ",e.jsx(Ut,{size:24,className:"ps-2"})]})]})})}const Qs=()=>{const t=xe(),[s,a]=n.useState(!1),{user:r,clearAuth:o}=fe(),l=JSON.parse(r),d=()=>{l.accountType==="SELLER"?t("seller/profile"):l.accountType==="BUYER"?t("buyer/profile"):t("agent/profile")},b=()=>{o(),t("/login")};return e.jsx("div",{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center px-3 py-2",children:[e.jsx(qt,{size:22,onClick:b}),e.jsx("h6",{className:"fw-bold m-0",children:"Afomo"}),e.jsx(Ue,{size:22,onClick:()=>{d()}})]})})},ga=()=>e.jsx("div",{className:"d-flex flex-column h-100 w-100 position-relative",children:e.jsx("div",{className:"d-flex h-100",children:e.jsx("div",{className:"flex-grow-1 overflow-auto w-100",children:e.jsxs("div",{className:" py-3",children:[e.jsx(Qs,{}),e.jsx(jt,{}),e.jsx(Ds,{})]})})})});export{aa as A,ra as B,Ae as C,Cs as D,Le as E,ua as F,ca as H,ga as L,Qe as M,Es as O,xa as P,ma as Q,ya as R,as as S,pa as T,Ns as U,Ie as V,ns as W,Ut as a,ia as b,Pe as c,da as d,la as e,fa as f,ha as g,Tt as h,Ls as i,Fs as j,Ct as k,oa as l,na as m,ba as n,ue as o,Kt as p,Zt as q,ye as r,_t as s,vs as u};
