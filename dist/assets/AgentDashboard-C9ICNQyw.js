import{h as F,r as t,q as Me,j as e,M as Y,X as J,u as re,a as L,b as je,c as U,P as Te,E as B,y as le,e as pe,s as De,d as Ee,p as Fe,t as fe,w as ge,S as ce,x as Q,i as He,l as be,U as Ie,L as qe,k as $e,R as We,f as N}from"./index-q2ei7gRu.js";import{p as Be,D as K,L as Ue,C as _e,B as Oe,W as Ve,P as Je,A as Qe,S as me,T as he,a as Ke,b as Ye}from"./TapToSell-Bgy-wd0m.js";import{a as we,u as $,E as Ge,B as Xe,C as Ze,b as es,A as ss,c as ts,H as as,S as is,d as p,e as ns,f as ls,F as rs,R as cs,T as ds,P as os,g as ms,h as hs,Q as xs,U as us,i as js,L as ps}from"./Layout-CXZBpNoW.js";const fs=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gs=F("chevron-down",fs);const bs=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ws=F("file-text",bs);const Ns=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vs=F("funnel",Ns);const ys=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ne=F("package",ys);const Ss=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ks=F("plus",Ss);const Cs=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Ps=F("store",Cs);const zs=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Rs=F("tag",zs);const Ls=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],As=F("user-round-plus",Ls);function Ms(){const[i,n]=t.useState(!1),[l,s]=t.useState(60),[c,d]=t.useState(""),[r,h]=t.useState(null),g=Me(),[j,v]=t.useState({business:"",description:"",price:""}),H=g.state?.form;console.log(H);const b=t.useRef(null),w=t.useRef(null),P=t.useRef(null);t.useEffect(()=>{const o=window.SpeechRecognition||window.webkitSpeechRecognition;if(!o)return;const u=new o;u.lang="en-NG",u.continuous=!0,u.interimResults=!0,u.onresult=S=>{const M=S.results[S.results.length-1][0].transcript;d(M),clearTimeout(w.current),w.current=setTimeout(()=>u.stop(),3e3)},u.onend=()=>y(),b.current=u},[]);const A=()=>{b.current&&(navigator.vibrate?.(30),d(""),s(60),n(!0),b.current.start(),P.current=setInterval(()=>{s(o=>(o<=1&&y(),o-1))},1e3))},y=()=>{if(b.current?.stop(),clearInterval(P.current),n(!1),c){const o=Be(c);o.confidence>=2&&h(o)}console.log(r)},R=()=>{v(u=>({...u,business:u.business||r.product||"",price:u.price||r.price||"",description:u.description||r.description||""}));const o=JSON.parse(localStorage.getItem("voicePatterns")||"[]");o.push(r),localStorage.setItem("voicePatterns",JSON.stringify(o.slice(-50))),h(null),d("")};return e.jsx("div",{className:"bg-light min-vh-100 p-3",children:e.jsxs("div",{className:"card border-0 shadow rounded-4 p-3",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Create Product"}),e.jsx("input",{className:"form-control mb-2",placeholder:"Business name",value:j.business,onChange:o=>v({...j,business:o.target.value})}),e.jsx("textarea",{className:"form-control mb-2",placeholder:"Description",value:j.description,onChange:o=>v({...j,description:o.target.value})}),e.jsx("input",{className:"form-control",placeholder:"Price",value:j.price,onChange:o=>v({...j,price:o.target.value})}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("div",{onClick:i?y:A,className:"mx-auto d-flex align-items-center justify-content-center",style:{width:80,height:80,borderRadius:"50%",cursor:"pointer",background:i?"radial-gradient(circle, #0d6efd, #6610f2)":"#0d6efd",boxShadow:i?"0 0 25px rgba(13,110,253,.8)":"none",animation:i?"pulse 1.2s infinite":"none",color:"#fff"},children:e.jsx(Y,{size:30})}),i&&e.jsxs("small",{className:"d-block mt-2 text-muted",children:["Listeningâ€¦ ",l,"s"]}),c&&e.jsx("div",{className:"alert alert-light mt-3 small",children:c})]}),r&&e.jsxs("div",{className:"card border-0 shadow rounded-4 p-3 mt-3",children:[e.jsx("h6",{className:"fw-bold",children:"Confirm details"}),r.product&&e.jsxs("p",{children:[e.jsx("strong",{children:"Product:"})," ",r.product]}),r.price&&e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," â‚¦",r.price.toLocaleString()]}),r.location&&e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",r.location]}),e.jsxs("div",{className:"d-flex gap-2 mt-2",children:[e.jsxs("button",{className:"btn btn-primary flex-fill",onClick:R,children:[e.jsx(we,{size:16})," Confirm"]}),e.jsxs("button",{className:"btn btn-outline-secondary flex-fill",onClick:()=>h(null),children:[e.jsx(J,{size:16})," Edit"]})]})]})]})})}const{avatar:Ts}=U;function Ds(){const{user:i}=re(),n=JSON.parse(i),[l,s]=t.useState(!0),[c,d]=t.useState(!1),[r,h]=t.useState(!1),[g,j]=t.useState(!1),[v,H]=t.useState(!1),[b,w]=t.useState(!1),[P,A]=t.useState(!1),[y,R]=t.useState(!1),[o,u]=t.useState(!1),[S,M]=t.useState(!1),[z,T]=t.useState(!1),[D,m]=t.useState(!1),[E,_]=t.useState(!1),[G,X]=t.useState(!1),[O,Z]=t.useState(!1),[ee,se]=t.useState(!1),te="0236280645",[ae,a]=t.useState(!1),k=L();function C(f){const q=new Date(f),ze=q.getDate(),Re=q.toLocaleString("default",{month:"short"});let V=q.getHours();const Le=q.getMinutes().toString().padStart(2,"0"),Ae=V>=12?"pm":"am";return V=V%12||12,`${ze} ${Re}, ${V}:${Le}${Ae}`}const[I,ve]=t.useState({currentPassword:"",newPassword:""}),{mutate:ye,isLoading:Se,error:at,data:it}=je({mutationFn:f=>pe.put(De,f),onSuccess:f=>{console.log(f),le.success("paswword changed successfully",{autoClose:2e3}),k("/login")},onError:f=>{le.error(f.message,{autoClose:2e3})}}),{data:x,error:nt,refetch:lt,isFetching:ke}=$({queryKey:[Fe]}),Ce=async()=>{try{await navigator.clipboard.writeText(te),a(!0),setTimeout(()=>a(!1),1500)}catch(f){console.error("Copy failed",f)}},oe=f=>{ve({...I,[f.target.name]:f.target.value})},Pe=f=>{f.preventDefault();const q={currentPassword:I.currentPassword,newPassword:I.newPassword,twoFactorEnabled:!1,biometricsEnabled:!1};I.currentPassword.length===0||I.newPassword.length===0||(console.log(q),ye(q))};return e.jsxs("div",{className:"bg-light min-vh-100 ",children:[e.jsxs("div",{className:"bg-white p-3 d-flex justify-content-between align-items-center border-bottom",children:[e.jsx("h6",{className:"fw-bold m-0",children:"Profile"}),e.jsx(Ge,{size:20})]}),e.jsxs("div",{className:"position-relative rounded-2 ",children:[e.jsx("img",{src:x?.data?.profilePicture||Ts,alt:"profile",className:"w-100",style:{height:350,objectFit:"cover"}}),e.jsxs("div",{className:"position-absolute w-100 px-3  translate-middle-y",children:[e.jsx("div",{className:"w-50"}),e.jsx("div",{className:"card border-0 shadow text-white",style:{borderRadius:"18px",background:"linear-gradient(180deg, #0d6efd 0%, #0b5ed7 100%)",opacity:.9},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"fw-bold mb-1",children:[x?.data?.businessName||x?.data?.firstName," "," stores",e.jsx(Xe,{size:10,className:"text-white"})]}),e.jsxs("div",{className:"small opacity-75",children:[x?.data?.firstName," ",x?.data?.lastName]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsx("button",{className:"btn btn-light btn-sm rounded-circle",children:e.jsx(Te,{size:16,onClick:()=>X(!0)})})})]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3 mt-2 small",children:[e.jsxs("span",{children:[e.jsx("small",{children:"NIN:"}),x?.data?.nin," ",e.jsx(B,{size:14,className:"ms-1"})]}),e.jsxs("span",{children:[e.jsx("small",{children:"BVN:"}),x?.data?.bvn," ",e.jsx(B,{size:14,className:"ms-1"})]})]}),e.jsxs("div",{className:"bg-white text-dark mt-3 p-3",style:{borderRadius:14},children:[e.jsxs("div",{className:"row g-2 small mb-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Email"}),e.jsxs("div",{className:"fw-semibold",children:[x?.data?.email," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Store"}),e.jsxs("div",{className:"fw-semibold text-truncate",children:[x?.data?.location," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Rating"}),e.jsxs("div",{className:"fw-semibold",children:[x?.data?.storeRating||5," "]})]})]}),e.jsxs("div",{className:"row g-2 mb-2 small",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Address"}),e.jsxs("div",{className:"fw-semibold text-truncate",children:[" ",x?.data?.location]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Phone"}),e.jsx("div",{className:"fw-semibold small",children:x?.data?.phone})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"text-muted",children:"Reg No"}),e.jsx("div",{className:"fw-semibold",children:x?.data?.businessRegistration})]})]})]})]})})]})]}),e.jsx("div",{style:{height:120}}),e.jsxs("div",{className:"px-3 mt-5",children:[e.jsx("h6",{className:"fw-bold ",children:"My Assets"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-1 mb-3",children:[e.jsx("button",{className:"btn btn-primary rounded-pill btn-sm fs-6 px-4",onClick:()=>se(!0),children:"Afomo Wallet"}),e.jsx("button",{className:"btn btn-secondary rounded-pill btn-sm fs-6 px-3",children:"Bank"}),e.jsx(Ze,{size:30,className:"text-white bg-success rounded-5"})]}),e.jsx("div",{className:"card border-0 text-white shadow-sm",style:{borderRadius:16,background:"linear-gradient(135deg, #FFA500, #FFB703)"},children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small fw-semibold d-flex align-items-center gap-1",style:{cursor:"pointer"},onClick:Ce,children:["Virtual Account:",e.jsx("span",{className:"opacity-75",children:te}),ae?e.jsx(we,{size:14,className:"text-success ms-1"}):e.jsx(es,{size:14,className:"ms-1"})]}),e.jsx("div",{className:"form-check form-switch m-0",children:e.jsx("input",{className:"form-check-input",type:"checkbox",defaultChecked:!0})})]}),ae&&e.jsx("small",{className:"text-white-50",children:"Copied!"}),e.jsxs("div",{className:"d-flex justify-content-between gap-2 mt-3",children:[e.jsx(ie,{icon:e.jsx(ss,{size:16}),label:"Deposit"}),e.jsx(ie,{icon:e.jsx(ts,{size:16}),label:"Withdraw"}),e.jsx(ie,{icon:e.jsx(as,{size:16}),label:"History"})]})]})})]}),e.jsxs("div",{className:"px-3 mt-4",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-1",onClick:()=>s(!l),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(is,{className:"text-danger"}),e.jsx("span",{className:"fw-medium",children:"Security & Privacy"})]}),e.jsx(p,{style:{transform:l?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:l?300:0,opacity:l?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",style:{backgroundColor:"#fdf0f0ff",borderRadius:8},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1 ",onClick:()=>d(!c),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Change Password"}),e.jsx(p,{size:16,style:{transform:c?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:c?200:0,opacity:c?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsxs("form",{children:[e.jsx(xe,{label:"Current Password",value:I.currentPassword,onChange:oe,name:"currentPassword"}),e.jsx(xe,{label:"New Password",value:I.newPassword,onChange:oe,name:"newPassword"}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm mt-2 ",onClick:Pe,disabled:Se,children:"save"})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1 ",onClick:()=>m(!D),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Recent Login Activity"}),e.jsx(p,{size:16,style:{transform:D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:D?200:0,opacity:D?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Device"}),e.jsx("p",{className:"fw-bold text-muted",children:x?.data?.recentLogins[0]?.device})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Location"}),e.jsx("p",{className:"fw-bold text-muted",children:"Wuse, Abuja"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Time"}),e.jsx("p",{className:"fw-bold text-muted",children:C(x?.data?.recentLogins[0]?.time)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Status"}),e.jsx("p",{className:"fw-bold text-muted",children:x?.data?.recentLogins[0]?.status})]})]}),e.jsx(W,{label:"Two Factor Authentication",defaultChecked:x?.data?.twoFactorEnabled}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Delete/Activate Account"}),e.jsx(p,{size:16})]})]})})})]}),e.jsxs("div",{className:"px-3 mt-1 scrollbar-show",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-3",onClick:()=>j(!g),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(ns,{className:"text-primary"}),e.jsx("span",{className:"fw-medium",children:"Setting"})]}),e.jsx(p,{style:{transform:g?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:g?500:0,opacity:g?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",style:{backgroundColor:"#f1f9fdff",borderRadius:8},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 ",onClick:()=>H(!v),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Notification & Preferences"}),e.jsx(p,{size:16,style:{transform:v?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:v?200:0,opacity:v?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsx(W,{label:"Push Notification",defaultChecked:x?.data?.settings?.pushNotifications}),e.jsx(W,{label:"Email/SMS Preferences",defaultChecked:x?.data?.settings?.smsNotifications}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Light/Dark Mode"}),e.jsx("p",{children:"System Default"})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1  ",onClick:()=>h(!r),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Save Payment Method"}),e.jsx(p,{size:16,style:{transform:r?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsxs("div",{style:{maxHeight:r?200:0,opacity:r?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Afomo Wallet"}),e.jsx("p",{children:"Virtual-07889900"})]}),e.jsx(W,{label:"Enable Biomtric",defaultChecked:!0}),e.jsx(W,{label:"Enable OTP Confirmation",defaultChecked:!0}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted",children:[e.jsx("p",{children:"Payment Pin"}),e.jsx(p,{size:16})]})]}),e.jsxs("div",{className:"card border shadow-sm rounded-3  bg-light",children:[e.jsxs("div",{className:"card-body ",style:{maxHeight:300,overflowY:"auto",backgroundColor:"#f1f9fdff",borderRadius:8},children:[e.jsx("div",{className:"text-muted fw-bold",children:"Other Bank Account"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Bank"}),e.jsx("p",{className:"fw-bold text-muted",children:"GTB"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Name"}),e.jsx("p",{className:"fw-bold text-muted",children:"Johh Will"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Account No"}),e.jsx("p",{className:"fw-bold text-muted",children:"0988775566"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"fw-bold text-muted",children:"Status"}),e.jsx("p",{className:"fw-bold text-muted",children:"Successfull"})]})]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center fw-bold text-muted"})]})]})})})]}),e.jsxs("div",{className:"px-3 mt-1 scrollbar-show",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-3",onClick:()=>w(!b),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(ls,{className:"text-success"}),e.jsx("span",{className:"fw-medium",children:"Support & Help"})]}),e.jsx(p,{style:{transform:b?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]})}),e.jsx("div",{style:{maxHeight:b?500:0,opacity:b?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 ",children:e.jsxs("div",{className:"card-body ",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",onClick:()=>A(!P),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Help & FAQs"}),e.jsx(p,{size:16,style:{transform:P?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:P?200:0,opacity:P?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(rs,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",onClick:()=>T(!z),children:[e.jsx("h6",{className:"fw-bold text-muted",children:"Contact Support"}),e.jsx(p,{size:16,style:{transform:z?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:z?200:0,opacity:z?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx("div",{className:"card border shadow-sm rounded-3 py-4 ",children:e.jsx("div",{className:"card-body py-2 my-1 text-justify fw-bold text-muted ",children:e.jsx("i",{children:"For questions, complaints, or support; Afomo Support Team Email: support@afomo.app In App Support: Available within the Afomo app"})})})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>u(!o),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Return & Refund Policy"}),e.jsx(p,{size:16,style:{transform:o?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:o?200:0,opacity:o?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(cs,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>R(!y),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Terms & Condition"}),e.jsx(p,{size:16,style:{transform:y?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:y?200:0,opacity:y?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(ds,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>M(!S),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Privacy Policy"}),e.jsx(p,{size:16,style:{transform:S?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:S?200:0,opacity:S?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(os,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",onClick:()=>_(!E),children:[e.jsx("p",{className:"fw-bold text-muted",children:"Report & Abuse"}),e.jsx(p,{size:16,style:{transform:E?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.35s ease"}})]}),e.jsx("div",{style:{maxHeight:E?200:0,opacity:E?1:0,overflow:"hidden",transition:"all 0.4s ease"},children:e.jsx(ms,{})})]})})})]}),G&&e.jsx(hs,{showProfileModal:G,setShowProfileModal:X,userJson:n,profileData:x,isFetching:ke}),ee&&e.jsx(xs,{showWalletModal:ee,setShowWalletModal:se}),O&&e.jsx(us,{showUpgradeModal:O,setShowUpgradeModal:Z})]})}function xe({label:i,name:n,onChange:l,value:s}){const[c,d]=t.useState(!1);return e.jsx("div",{className:"mb-1",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:c?"text":"password",className:"form-control",placeholder:i,name:n,value:s,onChange:l}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>d(!c),children:c?e.jsx(Ee,{size:18}):e.jsx(B,{size:18})})]})})}function W({label:i,defaultChecked:n}){return e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-1",children:[e.jsx("p",{className:"fw-bold text-muted",children:i}),e.jsx("div",{className:"form-check form-switch m-0",children:e.jsx("input",{className:"form-check-input ms-3",type:"checkbox",defaultChecked:n})})]})}function ie({icon:i,label:n}){return e.jsxs("button",{className:"btn btn-light btn-sm flex-fill d-flex align-items-center justify-content-center gap-1 fw-semibold",children:[i,e.jsx("span",{children:n})]})}const Es=()=>{const i=L(),[n,l]=t.useState(!1),[s,c]=t.useState({width:window.innerWidth,height:window.innerHeight});return t.useEffect(()=>{const d=setTimeout(()=>{i("/dashboard/agent/tap-to-sell")},4e3);return()=>clearTimeout(d)},[i]),t.useEffect(()=>{l(!0);const d=setTimeout(()=>{l(!1)},4e3),r=()=>{c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",r),()=>{clearTimeout(d),window.removeEventListener("resize",r)}},[]),e.jsxs("div",{className:"d-flex flex-column align-items-center text-center p-4",style:{minHeight:"70vh",position:"relative",overflow:"hidden"},children:[n&&e.jsx(fe,{width:s.width,height:s.height,recycle:!0}),e.jsx("div",{className:"d-flex align-items-center justify-content-center mb-3",style:{width:"140px",height:"140px",backgroundColor:"#f8f9fa",borderRadius:"12px"},children:e.jsx(ge,{size:70,color:"#2ecc71",strokeWidth:1.5})}),e.jsx("h1",{className:"mt-2 fw-semibold",children:" Seller Created Successfully"}),e.jsxs("p",{className:"mt-3 text-muted",style:{maxWidth:"320px"},children:[e.jsx("br",{}),e.jsx("br",{}),"Cheers ðŸŽ‰"]})]})},{defaultProduct:Fs}=U;function Hs(){const[i,n]=t.useState(""),l=L(),{data:s=[],isLoading:c,error:d}=$({queryKey:[`${Q}`]});console.log(s?.data);const r=s?.data?.filter(h=>h.businessName.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:[e.jsxs("div",{className:"row  mb-3",children:[e.jsxs("div",{className:"col-10 text-center ",children:[e.jsx("h6",{className:"fw-bold mb-0 flex-grow-1",children:"Manage Sellers"}),e.jsx("span",{className:"text-muted",children:"Seller register under you"})]}),e.jsx("div",{className:"col-2 text-end",children:e.jsx("button",{className:"btn btn-outline-primary btn-sm rounded",children:e.jsx(ks,{size:16})})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items center mb-1 gap-1",children:[e.jsx("button",{className:"text-white btn btn-primary",style:{width:45,height:45,borderRadius:"50%"},children:e.jsx(Y,{size:24,className:"pe-1"})}),e.jsx("input",{className:"form-control rounded-pill",placeholder:"Search sellers",value:i,onChange:h=>n(h.target.value)}),e.jsx("button",{className:"text-white btn btn-primary",style:{width:45,height:45,borderRadius:"50%"},children:e.jsx(ce,{size:24,className:"pe-1"})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items center mb-1",children:[e.jsx("div",{className:"fw-semibold small mb-2",children:"Recently added"}),e.jsxs("div",{className:"text-muted",children:[e.jsx(vs,{size:16}),e.jsx("span",{className:"ms-1",children:"filter"})]})]}),e.jsx("div",{className:"row g-2",children:r?.map(h=>e.jsx("div",{className:"col-6",onClick:()=>l(`/dashboard/merchant-profile/${h.id}`),children:e.jsxs("div",{className:"card seller-card shadow-sm",children:[e.jsx("div",{className:"seller-img-wrapper position-relative",children:e.jsx("img",{src:h?.image||Fs,alt:h.businessName})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"bg-primary  text-white fw-bold text-center",children:[e.jsx("div",{className:"fw-semibold small text-truncate",children:h.businessName}),e.jsx("div",{className:"text-light tiny pb-1",children:h.username})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-sm w-100 ",children:e.jsx("div",{className:" mt-1 ",children:e.jsxs("small",{className:"text-dark fw-bold ",children:[" ",h.productCount," Posts"]})})})})]})]})},h.id))}),e.jsx("style",{children:`
        .seller-card {
          border-radius: 12px;
          overflow: hidden;
        }

        .seller-img-wrapper {
          height: 120px;
          overflow: hidden;
        }

        .seller-img-wrapper img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .status-badge {
          position: absolute;
          bottom: 6px;
          left: 6px;
          font-size: 10px;
          padding: 4px 6px;
          border-radius: 6px;
        }

        .more-btn {
          position: absolute;
          top: 6px;
          right: 6px;
          padding: 4px;
        }
      `})]})}function Is(){const i=t.useRef(null),[n,l]=t.useState(!1),[s,c]=t.useState({seller:"",name:"",description:"",price:"",discount:"",quantity:"",status:"ACTIVE"}),[d,r]=t.useState([]),[h,g]=t.useState(!1),[j,v]=t.useState(!1),[H,b]=t.useState(!1),[w,P]=t.useState({}),[A,y]=t.useState({});t.useEffect(()=>{navigator.geolocation.getCurrentPosition(a=>{const{latitude:k,longitude:C}=a.coords;console.log(k,C),y({latitude:k,longitude:C})})},[]);const{data:R=[],isLoading:o,error:u}=$({queryKey:[`${Q}`]});console.log(R?.data);const S=a=>{const k=Array.from(a).map(C=>({file:C,url:URL.createObjectURL(C)}));r(C=>[...C,...k])},M=a=>{r(d.filter((k,C)=>C!==a))},z=()=>{const a={};return s.name||(a.name="add product name"),s.price||(a.price="add product price"),s.quantity||(a.quantity="add product quantity"),s.seller||(a.seller="please select seller"),P(a),Object.keys(a).length===0},{mutate:T,isPending:D,isError:m,error:E,isFetching:_,isSuccess:G,data:X}=je({mutationFn:a=>pe.post(He,a,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:a=>{console.log(a),le.success("product created successfully",{autoClose:2e3,onClose:()=>Z("/dashboard/agent/tap-to-sell")})},onError:a=>{console.error(" error:",a)}}),O=()=>{if(console.log(w),!z())return;const a=new FormData;a.append("name",s.name),a.append("sellerId",s.seller),a.append("price",s.price),a.append("description",s.description),a.append("quantity",s.quantity),a.append("status",s.status),a.append("latitude",A.latitude),a.append("longitude",A.longitude),d.forEach(k=>{a.append("images",k.file)}),T(a),v(!0)},Z=L(),[ee,se]=t.useState(0),[te,ae]=t.useState(!1);return t.useRef(0),e.jsx("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:e.jsx("div",{className:"",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"card w-100 shadow-sm",style:{maxWidth:420},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"text-center fw-bold mb-3",children:"Add New Product"}),e.jsxs(de,{label:"Seller ID",icon:e.jsx(Ps,{size:16}),children:[e.jsxs("select",{className:"form-select",value:s.seller,onChange:a=>c({...s,seller:a.target.value}),children:[e.jsx("option",{children:"select seller"}),R?.data?.map(a=>e.jsx("option",{value:a.id,children:a.businessName},a.id))]}),w.seller&&e.jsx("div",{className:"invalid-feedback d-block",children:w.seller})]}),e.jsx(ne,{label:"Product Name",icon:e.jsx(Rs,{size:16}),value:s.name,error:w.name,onChange:a=>c({...s,name:a.target.value})}),e.jsx(qs,{label:"Description",icon:e.jsx(ws,{size:16}),value:s.description,onChange:a=>c({...s,description:a.target.value})}),e.jsx(ne,{label:"Price (â‚¦)",icon:e.jsx(K,{size:16}),type:"number",value:s.price,error:w.price,onChange:a=>c({...s,price:a.target.value})}),e.jsx(ne,{label:"Quantity",icon:e.jsx(Ne,{size:16}),type:"number",value:s.quantity,error:w.quantity,onChange:a=>c({...s,quantity:a.target.value})}),s.name.length!==0&&e.jsxs("div",{className:"text-center my-2",children:[e.jsx("button",{className:"btn btn-sm btn-primary rounded-pill mx-3",children:e.jsx("span",{className:"px-2",children:"yes"})}),e.jsx("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-2",children:e.jsx("span",{className:"px-2",children:"edit"})})]}),e.jsxs("div",{className:"border rounded p-3 text-center my-2 bg-light",onClick:()=>i.current.click(),style:{cursor:"pointer"},children:[e.jsx(js,{size:30,className:"mb-2"}),e.jsx("div",{className:"small text-muted",children:"Tap to take photo or video"})]}),e.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*,video/*",ref:i,onChange:a=>S(a.target.files)}),d.length>0&&e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:d.map((a,k)=>e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:a.url,alt:"",width:70,height:70,className:"rounded object-fit-cover"}),e.jsx(J,{size:14,className:"position-absolute top-0 end-0 bg-dark text-white rounded-circle p-1",role:"button",onClick:()=>M(k)})]},k))}),e.jsx("button",{className:"btn btn-primary w-100 rounded-pill",disabled:j,onClick:O,children:j?e.jsx(Ue,{className:"spin"}):"Post"})]})})})})}function de({label:i,icon:n,children:l}){return e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{className:"form-label small fw-semibold",children:i}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:n}),l]})]})}function ne({label:i,icon:n,error:l,...s}){return e.jsx(de,{label:i,icon:n,children:e.jsx("input",{className:`form-control ${l?"shake is-invalid":""}`,...s})})}function qs({label:i,icon:n,...l}){return e.jsx(de,{label:i,icon:n,children:e.jsx("textarea",{className:"form-control",rows:"3",...l})})}const{google:$s,phone:Ws,jewelShop:Bs,bags:Us,shoe1:_s,shoe2:Os,shoe3:Vs,avatar:Js}=U,Qs=[{id:1,view:300,img:$s},{id:2,view:500,img:Ws},{id:3,view:700,img:Bs},{id:4,view:200,img:Us}],Ks=[{id:1,name:"Shinnig Leather shoe",msg:"Hello, how much is the shoe?",store:"Uncle Joe Store",time:"4:20 PM",unread:2,img:_s},{id:2,name:"Suade Leather shoe",msg:"Iâ€™ve made payment",time:"3:10 PM",store:"Lawal Provision Store",unread:0,img:Os},{id:3,name:"Italian Leather shoe",msg:"Delivery tomorrow?",time:"Yesterday",store:"Mr Judith Store",unread:1,img:Vs}];function Ys(){const[i,n]=t.useState("New"),l=L();return e.jsxs("div",{className:"container px-0",style:{maxWidth:420},children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom"}),e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx(Y,{className:"text-white me-2 btn btn-primary",style:{width:42,height:42,borderRadius:"50%"}}),e.jsx("input",{className:"form-control bg-light border-0 rounded-pill",placeholder:"Search chats"}),e.jsx(ce,{className:"text-white ms-2 btn btn-primary",style:{width:42,height:42,borderRadius:"50%"}})]})}),e.jsxs("div",{className:"px-3 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Recently viewed"}),e.jsx("div",{className:"d-flex gap-3 mt-2 overflow-auto ",children:Qs.map(s=>e.jsxs("div",{className:"text-center position-relative",children:[e.jsx("img",{src:s.img,className:"rounded",width:"80",height:"120",alt:""}),e.jsxs("div",{className:"position-absolute fw-bold text-center text-white",style:{bottom:"10px",left:"25px"},children:[e.jsx(B,{size:20}),e.jsx("small",{className:"d-block ",children:s.view})]})]},s.id))})]}),e.jsx("div",{className:"px-3 mt-3",children:e.jsx("div",{className:"filter-pill fw-semibold",children:["New","Pending"].map(s=>e.jsx("span",{className:`filter-item ${i===s?"active text-primary":"text-white"}`,onClick:()=>n(s),children:s},s))})}),e.jsx("div",{className:"mt-3",children:Ks.map(s=>e.jsxs("div",{className:"d-flex align-items-center px-3 py-2 chat-row",onClick:()=>l(`/dashboard/agent-chat/${s.id}`),children:[e.jsx("img",{src:s.img,className:"rounded-circle me-3",width:"48",height:"48",alt:""}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"mb-0 text-truncate pe-2 small",children:s.name}),e.jsx("small",{className:"text-white text-truncate bg-secondary rounded px-1",children:s.store})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("img",{src:Js,alt:"user",className:"rounded-circle ",style:{width:30,height:30,objectFit:"cover"}}),e.jsx("small",{className:"text-muted",children:s.msg}),s.unread>0?e.jsx("span",{className:"badge bg-primary rounded-pill",children:s.unread}):e.jsx(_e,{size:16,className:"text-primary"})]}),e.jsx("div",{className:"text-end small",children:s.time})]})]},s.id))})]})}const{jewelShop:Gs}=U;function Xs(){const{sellerId:i}=be(),n=L(),[l,s]=t.useState({seller:""}),{data:c=[],isLoading:d,error:r}=$({queryKey:[`${Q}`]}),{data:h=[],isLoading:g,error:j}=$({queryKey:[`${Q}/${i}`]});return console.log(h?.data),e.jsxs("div",{className:"container py-3",style:{maxWidth:420},children:[e.jsx("div",{className:"dropdown mb-3",children:e.jsxs("button",{className:"btn btn-light w-100 d-flex align-items-center justify-content-between shadow-sm","data-bs-toggle":"dropdown",children:[e.jsxs("span",{className:"fw-semibold",children:[h?.data?.sellerDetails?.businessName," ("," ",h?.data?.username,")"]}),e.jsx(gs,{size:18})]})}),e.jsxs("div",{className:"card shadow-sm mb-3 overflow-hidden ",children:[e.jsx("img",{src:Gs,alt:"store banner",className:"w-100 position-relative",style:{height:180,objectFit:"cover"}}),e.jsx("div",{className:"p-1 text-center position-absolute bottom-0 start-0  w-100",style:{backgroundColor:"#1e98e9",opacity:.9,borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:e.jsx("button",{className:"btn btn-outline-white btn-sm text-white",onClick:()=>n(`/dashboard/agent/manage-listing/${i}`),children:"Manage Listing"})})]}),e.jsxs("div",{className:"row g-2 mb-3",children:[e.jsx(ue,{title:"Total Sales",value:"â‚¦341,89.00",color:"purple",icon:e.jsx(K,{size:16})}),e.jsx(ue,{title:"Total Listings",value:"43",color:"blue",icon:e.jsx(Ne,{size:16})})]}),e.jsxs("div",{className:"card p-3 shadow-sm",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"badge bg-success",children:"Trust Score"}),e.jsx("small",{className:"fw-semibold",children:"25%"})]}),e.jsx("input",{type:"range",className:"form-range",value:25,readOnly:!0})]}),e.jsx("style",{children:`
        .stat-card {
          border-radius: 14px;
          padding: 14px;
          color: #fff;
          height: 100%;
        }

        .stat-purple {
          background: #7b5cff;
        }

        .stat-blue {
          background: #4da3ff;
        }

        .stat-icon {
          width: 30px;
          height: 30px;
          border-radius: 8px;
          background: rgba(255,255,255,0.2);
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 6px;
        }
      `})]})}const ue=({title:i,value:n,icon:l,color:s})=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:`stat-card stat-${s}`,children:[e.jsx("div",{className:"stat-icon",children:l}),e.jsx("small",{children:i}),e.jsx("div",{className:"fw-bold fs-6",children:n})]})}),Zs=()=>{const i=L(),{user:n}=re(),l=JSON.parse(n),[s,c]=t.useState(!1);return e.jsxs("div",{className:"container d-flex justify-content-center py-3",children:[e.jsx("div",{className:"card dashboard-card",children:e.jsxs("div",{className:"card-body p-3",children:[e.jsx("div",{className:"text-start mb-3",children:e.jsxs("small",{className:"text-muted",children:["Welcome, ",l.username]})}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"fw-semibold small mb-2",children:"Quick Actions"})}),e.jsxs("div",{className:"row g-2 ",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>c(!0),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(As,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold ",children:"Onboard New Seller"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>i("agent/tap-to-sell"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Y,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold ",children:"Add New Product"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>i("/dashboard/agent/manage-sellers"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Oe,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Manage Sellers"})]})})]}),e.jsxs("div",{className:"row g-2 mt-4",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},onClick:()=>i("agent/profile"),children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Ie,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Profile"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Ve,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Wallet"})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2",style:{backgroundColor:"#badff7",height:90,width:95},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#5bb4f0",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(Je,{size:15,className:"text-white"})}),e.jsx("small",{className:"text-dark text-center fw-semibold pt-2",children:"Complaints"})]})})]}),e.jsxs("div",{className:"row g-2 mb-3 mt-3",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2 text-white",style:{backgroundColor:"#9a55e9",height:110,width:155,opacity:.9},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#6110ad",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(K,{size:15,className:"text-white"})}),e.jsx("small",{children:"Total Sales"}),e.jsx("h4",{children:"â‚¦34,010.98"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"card shadow-sm justify-items-between align-items-center pt-2 text-white",style:{backgroundColor:"#46d4e7d7",height:110,width:155,opacity:.9},children:[e.jsx("div",{className:"text-center",style:{backgroundColor:"#4d86ee",borderRadius:"50%",width:32,height:32,opacity:.8},children:e.jsx(K,{size:15,className:"text-white"})}),e.jsx("small",{children:"Total Listings"}),e.jsx("h4",{children:"66"})]})})]})]})}),s&&e.jsx(Qe,{openSellerForm:s,setOpenSellerForm:c})]})},et=()=>{const i=L(),[n,l]=t.useState(!1),[s,c]=t.useState({width:window.innerWidth,height:window.innerHeight});return t.useEffect(()=>{const d=setTimeout(()=>{i("/dashboard/agent/manage-sellers")},4e3);return()=>clearTimeout(d)},[i]),t.useEffect(()=>{l(!0);const d=setTimeout(()=>{l(!1)},4e3),r=()=>{c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",r),()=>{clearTimeout(d),window.removeEventListener("resize",r)}},[]),e.jsxs("div",{className:"d-flex flex-column align-items-center text-center p-4",style:{minHeight:"70vh",position:"relative",overflow:"hidden"},children:[n&&e.jsx(fe,{width:s.width,height:s.height,recycle:!0}),e.jsx("div",{className:"d-flex align-items-center justify-content-center mb-3",style:{width:"140px",height:"140px",backgroundColor:"#f8f9fa",borderRadius:"12px"},children:e.jsx(ge,{size:70,color:"#2ecc71",strokeWidth:1.5})}),e.jsx("h1",{className:"mt-2 fw-semibold",children:" Product Created Successfully"}),e.jsxs("p",{className:"mt-3 text-muted",style:{maxWidth:"320px"},children:[e.jsx("br",{}),e.jsx("br",{}),"Cheers ðŸŽ‰"]})]})},{defaultProduct:st}=U;function tt(){const{sellerId:i}=be(),[n,l]=t.useState(null),[s,c]=t.useState(!1),[d,r]=t.useState([]),{token:h}=re(),[g,j]=t.useState(1),[v]=t.useState(10),[H,b]=t.useState(""),[w,P]=t.useState(""),A=L(),y=()=>r(T.map(m=>m.id)),R=()=>r([]),o=()=>{window.confirm("Delete selected products?")&&(setProducts(T.filter(m=>!d.includes(m.id))),R(),c(!1))},u=(m,E)=>{if(m.length<=E)return e.jsx("p",{children:m});const _=`${m.substring(0,E)}...`;return e.jsx("p",{children:_})},{data:S,isLoading:M,isFetching:z}=$({queryKey:["seller-products",g,w],queryFn:async()=>(await fetch(`https://afomo-xagx.onrender.com/api${$e}/?sellerId=${i}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}})).json(),keepPreviousData:!0}),T=S?.data?.items||[],D=S?.data?.totalPages||1;return console.log(T),e.jsxs("div",{className:"container py-3",style:{maxWidth:460,minHeight:"70vh"},children:[e.jsx("div",{className:"px-2 pt-2",children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("span",{className:"input-group-text bg-white",children:e.jsx(ce,{size:16})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search products...",value:H,onChange:m=>b(m.target.value)}),H&&e.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>b(""),children:e.jsx(J,{size:14})})]})}),e.jsx("h6",{className:"fw-bold mb-0 flex-grow-1 text-center py-3",children:"Manage Listing"}),e.jsx("div",{className:"row g-2",children:M?e.jsx(qe,{}):e.jsxs(e.Fragment,{children:[T.map(m=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"product-card shadow-sm bg-white rounded-3 position-relative",children:[e.jsxs("div",{className:"product-image-wrapper position-relative",children:[e.jsx("img",{src:m.images[0]?.url||st,alt:m.name}),e.jsxs("div",{className:"p-1 text-center position-absolute bottom-0 start-0  w-100",style:{backgroundColor:"#1e98e9",opacity:.9,borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:[" ",e.jsxs("span",{className:"text-white",children:[m.quantity," Sold"]})]})]}),e.jsxs("div",{className:"px-2 py-2 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"product-name ",children:u(m.name,20)}),m.price," ",e.jsx("del",{className:" text-muted small",children:e.jsx("small",{children:"14,000"})})]}),e.jsx(me,{className:"text-end  text-primary",size:15,onClick:()=>A(`/dashboard/edit-product/${m.id}`)})]})]})},m.id)),z&&!M&&e.jsx("div",{className:"text-center small py-1 text-muted",children:"Searching..."})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 px-2",children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:g===1||z,onClick:()=>j(m=>m-1),children:"Prev"}),e.jsxs("span",{className:"small fw-semibold",children:["Page ",g," of ",D]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:g===D||z,onClick:()=>j(m=>m+1),children:"Next"})]}),s&&d.length>0&&e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-white border-top p-2 shadow",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:y,children:"Select All"}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:R,children:"Clear"}),e.jsxs("div",{className:"flex-grow-1 text-center small fw-semibold",children:[d.length," selected"]}),e.jsx("button",{className:"btn btn-danger btn-sm",onClick:o,children:e.jsx(he,{size:16})})]})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50",onClick:()=>l(null),style:{zIndex:1050}}),e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-white rounded-top-4 p-3",style:{zIndex:1100},children:e.jsxs("div",{className:"list-group list-group-flush",children:[e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3",children:[e.jsx(B,{size:18})," View"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3",children:[e.jsx(me,{size:18})," Edit"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3 text-danger",children:[e.jsx(he,{size:18})," Delete"]}),e.jsxs("button",{className:"list-group-item d-flex align-items-center gap-3 text-muted",onClick:()=>l(null),children:[e.jsx(J,{size:18})," Close"]})]})})]})]})}function ot(){return e.jsx(We,{children:e.jsxs(N,{path:"/",element:e.jsx(ps,{}),children:[e.jsx(N,{index:!0,element:e.jsx(Zs,{})}),e.jsx(N,{path:"agent/tap-to-sell",element:e.jsx(Ke,{})}),e.jsx(N,{path:"seller-form",element:e.jsx(Ms,{})}),e.jsx(N,{path:"agent/profile",element:e.jsx(Ds,{})}),e.jsx(N,{path:"seller-created-success",element:e.jsx(Es,{})}),e.jsx(N,{path:"product-created-success",element:e.jsx(et,{})}),e.jsx(N,{path:"agent/manage-listing/:sellerId",element:e.jsx(tt,{})}),e.jsx(N,{path:"agent/manage-sellers",element:e.jsx(Hs,{})}),e.jsx(N,{path:"agent/add-product",element:e.jsx(Is,{})}),e.jsx(N,{path:"agent-chat/:id",element:e.jsx(Ye,{})}),e.jsx(N,{path:"agent-chat-display",element:e.jsx(Ys,{})}),e.jsx(N,{path:"merchant-profile/:sellerId",element:e.jsx(Xs,{})})]})})}export{ot as default};
